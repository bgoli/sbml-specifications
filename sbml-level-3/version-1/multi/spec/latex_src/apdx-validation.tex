% -*- TeX-master: "multi" -*-

\section{Validation of SBML documents using \multi\ constructs}
\label{def:apdx-validation}

This section summarizes all the conditions that should be true of an SBML Level~3 Version~1 model that uses the \multi\ package.  We use the same conventions that are used in the SBML Level~3 Version~1 Core specification document.  In particular, there are different degrees of rule strictness.  Formally, the differences are expressed in the statement of a rule: either a rule states that a condition \emph{must} be true, or a rule states that it \emph{should} be true.  Rules of the former kind are strict SBML validation rules---a model encoded in SBML must conform to all of them in order to be considered valid.  Rules of the latter kind are consistency rules.  To help highlight these differences, we use the three symbols next to the rule numbers as described in section A of the SBML Level~3 Version~1 Core specification document: 

%\begin{comment}
\begin{description}

\item[\hspace*{6.5pt}\vSymbol\vsp] A \vSymbolName indicates a \emph{requirement} for SBML conformance. If a model does not follow this rule, it does not conform to the \multi\ package specification.  (Mnemonic intention behind the choice of symbol: ``This must be checked.'')

\item[\hspace*{6.5pt}\cSymbol\csp] A \cSymbolName indicates a \emph{recommendation} for model consistency.  If a model does not follow this rule, it is not considered strictly invalid as far as the \multi\ package specification is concerned; however, it indicates that the model contains a physical or conceptual inconsistency.  (Mnemonic intention behind the choice of symbol: ``This is a cause for warning.'')

\item[\hspace*{6.5pt}\mSymbol\msp] A \mSymbolName indicates a strong recommendation for good modeling practice.  This rule is not strictly a matter of SBML encoding, but the recommendation comes from logical reasoning.  As in the previous case, if a model does not follow this rule, it is not considered an invalid SBML encoding.  (Mnemonic intention behind the choice of symbol: ``You're a star if you heed this.'')

\end{description}
%\end{comment}

The validation rules listed in the following subsections are all stated or implied in the rest of this specification document.  They are enumerated here for convenience.  Unless explicitly stated, all validation rules concern objects and attributes specifically defined in the \multi\ package.

For convenience and brevity, we use the shorthand ``\token{multi:x}'' to stand for an attribute or element name \token{x} in the namespace for the \multi\ package, using the namespace prefix \token{multi}. We use ``\token{multi:x}'' because it is shorter than to write a full explanation everywhere we refer to an attribute or element in the \multi\ package namespace.


\subsection*{General rules about the \multi\ package}

\validRule{multi-10101}{To conform to Version 1 of the \multi\ package specification for SBML Level~3, an
  SBML document must declare the use of the following XML Namespace:\\
  \uri{http://www.sbml.org/sbml/level3/version1/multi/version1}.  (References: SBML Le\-vel 3 Package Specification for \multi\, Version 1, \sec{def:Namespace_URI}.)}
  
\validRule{multi-10102}{Wherever they appear in an SBML document, elements and attributes from the \multi\ package must be declared either implicitly or explicitly to be in the XML namespace\\ \uri{http://www.sbml.org/sbml/level3/version1/multi/version1}.  (References: SBML Le\-vel 3 Package Specification for \multi\, Version 1, \sec{def:Namespace_URI}.) }


%\begin{blockChanged}
\subsection*{General rules about MathML content in the \multi\ package} 

\validRule{multi-10201}{A \ci\ element in a \class{Math} object may have the optional attributes \mSpeciesReferenceAtt\ and \mRepresentationTypeAtt.  No other attributes from the \multi\ namespace are permitted on a \ci\ element.  (References: \sec{def:Reaction:Math:ci}). }

\validRule{multi-10202}{The value of the \mSpeciesReferenceAtt\ attribute on a given \ci\ element must be the identifier of a \SpeciesReference object within the same reaction.  (References: \sec{def:Reaction:Math:ci:speciesReference}.)} 

\validRule{multi-10203}{The value of the \mRepresentationTypeAtt\ attribute on a given \ci\ element must conform to the syntax of the \multi\ data type \RepresentationTypePTWC.  (References: \sec{def:Reaction:Math:ci:representationType}.)} 

%\end{blockChanged}

\subsection*{General rules about identifiers} 

\validRule{multi-10301}{(Extends validation rule \#10301 in the SBML Level~3 Version~1 Core specification.) Within a \Model object, the values of the attributes \token{id} and \mIdAtt\ on every instance of the following classes of objects must be unique across the set of all \token{id} and \mIdAtt\ attribute values of all such objects in a model: the \Model itself, plus all contained \FunctionDefinition, \Compartment, \Species, \Reaction, \SpeciesReference, \ModifierSpeciesReference, \Event, and \Parameter objects, plus the \SpeciesType and \PossibleSpeciesFeatureValue objects defined by the \multi\ package, and any objects defined by any other package with \token{package:id} attributes defined as falling in the 'SId' namespace. (References: \sec{def:namespaces_scoping_rules}.) }

\validRule{multi-10302}{The value of a \mIdAtt\ attribute must
  always conform to the syntax of the SBML data type \primtype{SId}.
  (References: SBML Level~3 Version~1 Core, Section~3.1.7.)}

\validRule{multi-10303}{The value of a \mNameAtt\ attribute
  must always conform to the syntax of type \primtype{string}.  
  (References: SBML Level~3 Version~1 Core, Section~3.1.1.)}

%\begin{blockChanged}
\validRule{multi-10304}{The value of a \mIdAtt\ attribute on \SpeciesTypeInstance objects must be unique across the set of all \mIdAtt\ attribute values of all the \SpeciesTypeInstance\ objects under the direct parent \SpeciesType object in which it is located.  (References: \sec{def:SpeciesTypeInstance:idAndName} and \sec{def:namespaces_scoping_rules}.) }

\validRule{multi-10305}{The value of a \mIdAtt\ attribute on \SpeciesTypeComponentIndex objects must be unique across the set of all \mIdAtt\ attribute values of all the \SpeciesTypeComponentIndex\ objects under the direct parent \SpeciesType object in which it is located.  (References: \sec{def:SpeciesTypeComponentIndex:id} and \sec{def:namespaces_scoping_rules}.) }

\validRule{multi-10306}{The value of a \mIdAtt\ attribute on \InSpeciesTypeBond objects must be unique across the set of all \mIdAtt\ attribute values of all the \InSpeciesTypeBond\ objects under the direct parent \SpeciesType\ object in which it is located.  (References: \sec{def:InSpeciesTypeBond:idAndName} and \sec{def:namespaces_scoping_rules}.) }

\validRule{multi-10307}{The value of a \mIdAtt\ attribute on \SpeciesFeatureType objects must be unique across the set of all \mIdAtt\ attribute values of all the \SpeciesFeatureType\ objects under the direct parent \SpeciesType\ object in which it is located.  (References: \sec{def:SpeciesFeatureType:idAndName} and \sec{def:namespaces_scoping_rules}.) }

\validRule{multi-10308}{The value of a \mIdAtt\ attribute on \SubListOfSpeciesFeatures objects must be unique across the set of all \token{id} and \mIdAtt\ attribute values of all objects in the \ExSpecies object in which it is located.  (References: \sec{def:SubListOfSpeciesFeatures:id} and \sec{def:namespaces_scoping_rules}.) }

\validRule{multi-10309}{The value of a \mIdAtt\ attribute on \SpeciesFeature objects must be unique across the set of all \token{id} and \mIdAtt\ attribute values of all objects in the \ExSpecies object in which it is located.  (References: \sec{def:SpeciesFeature:id} and \sec{def:namespaces_scoping_rules}.) }

\validRule{multi-10310}{The value of a \mIdAtt\ attribute on \CompartmentReference objects must be unique across the set of all \token{id} and \mIdAtt\ attribute values of all objects in the \ExCompartment object in which it is located.  (References: \sec{def:CompartmentReference:idAndName} and \sec{def:namespaces_scoping_rules}.) }

% ref under SpeciesType  
\validRule{multi-10311}{The value of a \token{multi:compartment} attribute on \SpeciesType objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesType:compartment}.) }

\validRule{multi-10312}{The value of a \token{multi:numericValue} attribute on \PossibleSpeciesFeatureValue objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:PossibleSpeciesFeatureValue:numericValue}.) }

\validRule{multi-10313}{The value of a \token{multi:speciesType} attribute on \SpeciesTypeInstance objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesTypeInstance:speciesType}.) }

\validRule{multi-10314}{The value of a \token{multi:compartmentReference} attribute on \SpeciesTypeInstance objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesTypeInstance:compartmentReference}.) }

\validRule{multi-10315}{The value of a \token{multi:component} attribute on \SpeciesTypeComponentIndex objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesTypeComponentIndex:component}.) }

\validRule{multi-10316}{The value of a \token{multi:identifyingParent} attribute on \SpeciesTypeComponentIndex objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesTypeComponentIndex:identifyingParent}.) }

\validRule{multi-10317}{The value of a \token{multi:bindingSite1} attribute on \InSpeciesTypeBond objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:InSpeciesTypeBond:bindingSites}.) } 

\validRule{multi-10318}{The value of a \token{multi:bindingSite2} attribute on \InSpeciesTypeBond objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:InSpeciesTypeBond:bindingSites}.) } 

% ref under Species
\validRule{multi-10319}{The value of a \token{multi:speciesType} attribute on \ExSpecies objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:Species:speciesType}.) } 

\validRule{multi-10320}{The value of a \token{multi:component} attribute on \OutwardBindingSite objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:OutwardBindingSite:component}.) } 

\validRule{multi-10321}{The value of a \token{multi:speciesFeatureType} attribute on \SpeciesFeature objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesFeature:speciesFeatureType}.) } 

\validRule{multi-10322}{The value of a \token{multi:component} attribute on \SpeciesFeature objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesFeature:component}.) } 

\validRule{multi-10323}{The value of a \token{multi:value} attribute on \SpeciesFeatureValue objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesFeatureValue}.) } 

% ref under Reaction
\validRule{multi-10324}{The value of a \token{multi:compartmentReference} attribute on \ExSimpleSpeciesReference objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:ExSimpleSpeciesReference}.) } 

\validRule{multi-10325}{The value of a \token{multi:reactant} attribute on \SpeciesTypeComponentMapInProduct objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesTypeComponentMapInProduct:reactant}.) } 

\validRule{multi-10326}{The value of a \token{multi:reactantComponent} attribute on \SpeciesTypeComponentMapInProduct objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesTypeComponentMapInProduct:reactantComponent}.) } 

\validRule{multi-10327}{The value of a \token{multi:productComponent} attribute on \SpeciesTypeComponentMapInProduct objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:SpeciesTypeComponentMapInProduct:productComponent}.) } 

% ref under Compartment
\validRule{multi-10328}{The value of a \token{multi:compartmentType} attribute on \ExCompartment objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:Compartment:compartmentType}.) } 

\validRule{multi-10329}{The value of a \token{multi:compartment} attribute on \CompartmentReference objects must conform to the syntax of the SBML data type \primtype{SIdRef}.  (References: \sec{def:CompartmentReference:compartment}.) } 

%\end{blockChanged}

% 201** sbml -----------------------------------
\subsection*{Rules for extended SBML object} 

%\begin{blockChanged}
\validRule{multi-20101}{The \token{multi:required} attribute is required on the \token{<sbml>} element in the \multi\ package. (References: SBML Level 3 Package Specification for \multi\, Version 1, \sec{def:Namespace_URI}.) }

\validRule{multi-20102}{The \token{multi:required} attribute on the \token{<sbml>} element must be \token{Boolean}. (References: SBML Level 3 Package Specification for \multi\, Version 1, \sec{def:Namespace_URI}.) }

\validRule{multi-20103}{The value of the \token{multi:required} attribute on the \token{<sbml>} element must be \val{true}. (References: SBML Level 3 Package Specification for \multi\, Version 1, \sec{def:Namespace_URI}.) }

%\end{blockChanged}
% 201** Model -----------------------------------
\subsection*{Rules for extended \class{Model} objects} 
\label{validation:Model}

%\begin{blockChanged}
\validRule{multi-20201}{There may be at most one \ListOfSpeciesTypes container object within a \ExModel object.  (References: \sec{def:Model}.) }

\validRule{multi-20202}{A \ListOfSpeciesTypes object within an extended \ExModel object is optional, but if present, must not be empty.  (References: \sec{def:Model}.) }

\validRule{multi-20203}{A \ListOfSpeciesTypes object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfSpeciesTypes object.  (References: \sec{def:ListOfSpeciesTypes}.) }

\validRule{multi-20204}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfSpeciesTypes container object may only contain \SpeciesType objects. (References: \sec{def:ListOfSpeciesTypes}.) }

%\end{blockChanged}

% 203** Compartment -----------------------------------
\subsection*{Rules for extended \class{Compartment} objects}
\label{validation:Compartment}

%\begin{blockChanged}
\validRule{multi-20301}{An extended \ExCompartment object must have the required attribute \token{multi:isType}, and may also have the optional attribute \token{multi:comparetmentType}. No other attributes from the \multi\ namespace are permitted on an extended \ExCompartment object.(References: \sec{def:Compartment}.) }

\validRule{multi-20302}{The value of a \token{multi:isType} attribute on an extended \ExCompartment object must always confirm to the syntax of the SBML data type \token{boolean}.  (References: \sec{def:Compartment:isType}.) }

\validRule{multi-20303}{The \token{multi:isType} attribute on an extended \ExCompartment object is required.  (References: \sec{def:Compartment:isType}.) }

\validRule{multi-20304}{The value of the \token{multi:isType} attribute of the \ExCompartment object referenced by a \CompartmentReference object must be the same as that of the \token{multi:isType} attribute of the parent \ExCompartment object of the \ListOfCompartmentReferences\ object which contains the \CompartmentReference object. (References: \sec{def:Relationships_CompartmentReferences}.) }

\validRule{multi-20305}{The \token{multi:compartmentType} attribute on a \ExCompartment object must not be defined if the value of the \token{multi:isType} is \val{true}.  (References: \sec{def:Compartment:compartmentType}.) }

\validRule{multi-20306}{There may be at most one \ListOfCompartmentReferences container object within a \ExCompartment object. (References: \sec{def:ListOfCompartmentReferences}.) }

\validRule{multi-20307}{A \ListOfCompartmentReferences\ object within a \ExCompartment object is optional, but if present, must not be empty.  (References: \sec{def:ListOfCompartmentReferences}.) }

\validRule{multi-20308}{A \ListOfCompartmentReferences object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfCompartmentReferences object.  (References: \sec{def:ListOfCompartmentReferences}.) }

\validRule{multi-20309}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfCompartmentReferences container object may only contain \CompartmentReference objects. (References: \sec{def:ListOfCompartmentReferences}.) }

%\end{blockChanged}
% moved to avoid changing all numbers
% 203** CompartmentReference --------------------------------


% 204 ** SpeciesType ------------------------------
\subsection*{Rules for \class{SpeciesType} objects} 

\validRule{multi-20401}{A \SpeciesType object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \SpeciesType object.  (References: \sec{def:SpeciesType}). }

\validRule{multi-20402}{A \SpeciesType\ object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \SpeciesType object.  (References: \sec{def:SpeciesType}). }


\validRule{multi-20403}{A \SpeciesType object must have the required attribute \token{multi:id}, and may have the optional attributes \mNameAtt\ and \token{multi:compartment}. No other attributes from the \multi\ namespace are permitted on a \SpeciesType object.  (References: \sec{def:SpeciesType}.) }

\validRule{multi-20404}{The value of the \token{multi:compartment} attribute, if set on a given \SpeciesType object, must be the value of an \token{id} attribute on an existing \ExCompartment object in the \token{SId} namespace of the parent \ExModel object. (References: \sec{def:SpeciesType:compartment}.) }

\validRule{multi-20405}{The various \textsf{\textbf{ListOf\rule{0.15in}{0.5pt}}} subobjects within a \SpeciesType object are optional, but if present, these container objects must not be empty. Specifically, if any of the following classes of objects are present with a \SpeciesType\ object, it must not be empty: \ListOfSpeciesFeatureTypes, \ListOfSpeciesTypeInstances, \ListOfSpeciesTypeComponentIndexes\ and \ListOfInSpeciesTypeBonds.  (References: \sec{def:SpeciesType}.) }
  
\validRule{multi-20406}{There may be at most one \ListOfSpeciesFeatureTypes container object within a \SpeciesType\ object. (References: \sec{def:SpeciesType}.) }

\validRule{multi-20407}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfSpeciesFeatureTypes container object may only contain \SpeciesFeatureType objects. (References: \sec{def:ListOfSpeciesFeatureTypes}.) }
  
\validRule{multi-20408}{A \ListOfSpeciesFeatureTypes object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfSpeciesFeatureTypes object. (References: \sec{def:ListOfSpeciesFeatureTypes}.) }
  
\validRule{multi-20409}{There may be at most one \ListOfSpeciesTypeInstances container object within a \SpeciesType\ object. (References: \sec{def:SpeciesType}.) }

\validRule{multi-20410}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfSpeciesTypeInstances\ container object may only contain \SpeciesTypeInstance objects. (References: \sec{def:ListOfSpeciesTypeInstances}.) }
  
\validRule{multi-20411}{A \ListOfSpeciesTypeInstances object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfSpeciesTypeInstances. (References: \sec{def:ListOfSpeciesTypeInstances}.) }
  
\validRule{multi-20412}{There may be at most one \ListOfSpeciesTypeComponentIndexes container object within a \SpeciesType\ object. (References: \sec{def:SpeciesType}.) }

\validRule{multi-20413}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfSpeciesTypeComponentIndexes container object may only contain\\ \SpeciesTypeComponentIndex objects. (References: \sec{def:ListOfSpeciesTypeComponentIndexes}.) }
  
\validRule{multi-20414}{A \ListOfSpeciesTypeComponentIndexes object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfSpeciesTypeComponentIndexes object. (References: \sec{def:ListOfSpeciesTypeComponentIndexes}.) }
  
\validRule{multi-20415}{There may be at most one \ListOfInSpeciesTypeBonds container object within a \SpeciesType\ object. (References: \sec{def:SpeciesType}.) }

\validRule{multi-20416}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfInSpeciesTypeBonds container object may only contain \InSpeciesTypeBond objects. (References: \sec{def:ListOfInSpeciesTypeBonds}.) }

\validRule{multi-20417}{A \ListOfInSpeciesTypeBonds object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfInSpeciesTypeBonds object. (References: \sec{def:ListOfInSpeciesTypeBonds}.) }

% 205 BindingSiteSpeciesType --------------------------------  
\subsection*{Rules for \class{BindingSiteSpeciesType} objects} 

% per reply from Sarah, it is not necessary to repeat those rules in a non-abstract parent class
%The rules \token{multi-20501} to \token{multi-20510} are the same as the rules for the parent class \SpeciesType\ from \token{multi-20401} to \token{multi-20410} respectively.

\validRule{multi-20501}{A \BindingSiteSpeciesType\ object is not permitted to have any \ListOfSpeciesTypeInstances subobject.  (References: \sec{def:BindingSiteSpeciesType}). }

% 206 SpeciesFeatureType
\subsection*{Rules for \class{SpeciesFeatureType} objects} 

\validRule{multi-20601}{A \SpeciesFeatureType object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \SpeciesFeatureType object.  (References: \sec{def:SpeciesFeatureType}). }

\validRule{multi-20602}{A \SpeciesFeatureType object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \SpeciesFeatureType object.  (References: \sec{def:SpeciesFeatureType}). }

\validRule{multi-20603}{A \SpeciesFeatureType object must have the required attributes \mIdAtt\ and \mOccurAtt, and may have the optional attribute \mNameAtt. No other attributes from the \multi\ namespace are permitted on a \SpeciesFeatureType\ object.  (References: \sec{def:SpeciesFeatureType}.) }

\validRule{multi-20604}{The value of the \mOccurAtt\ attribute on a given \SpeciesFeatureType object must conform to the syntax of the SBML data type \primtype{positiveInteger}.  (References: \sec{def:SpeciesFeatureType:occur}.)} 

\validRule{multi-20605}{One \ListOfPossibleSpeciesFeatureValues subobject in a \SpeciesFeatureType object is required. (References: \sec{def:ListOfPossibleSpeciesFeatureValues}.) }
% 'only one' has been checked by rule 'multi-20407'
  
\validRule{multi-20606}{A \ListOfPossibleSpeciesFeatureValues object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfPossibleSpeciesFeatureValues object.  (References: \sec{def:ListOfPossibleSpeciesFeatureValues}.) }

\validRule{multi-20607}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfPossibleSpeciesFeatureValues container object may only contain \PossibleSpeciesFeatureValue objects. (References: \sec{def:ListOfPossibleSpeciesFeatureValues}.) }

\validRule{multi-20608}{A \ListOfPossibleSpeciesFeatureValues object must not be empty. (References: \sec{def:ListOfPossibleSpeciesFeatureValues}.) }
  

%207 PossibleSpeciesFeatureValue
\subsection*{Rules for \class{PossibleSpeciesFeatureValue} objects} 

\validRule{multi-20701}{A \PossibleSpeciesFeatureValue object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \PossibleSpeciesFeatureValue object.  (References: \sec{def:PossibleSpeciesFeatureValue}). }

\validRule{multi-20702}{A \PossibleSpeciesFeatureValue object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \PossibleSpeciesFeatureValue object.  (References: \sec{def:PossibleSpeciesFeatureValue}). }

\validRule{multi-20703}{A \PossibleSpeciesFeatureValue object must have the required attribute \mIdAtt, and may have the optional attributes \mNameAtt\ and \mNumericValueAtt. No other attributes from the \multi\ namespace are permitted on a \PossibleSpeciesFeatureValue object.  (References: \sec{def:PossibleSpeciesFeatureValue}.) }

\validRule{multi-20704}{The value of the \mNumericValueAtt\ attribute on a given \PossibleSpeciesFeatureValue object must be the identifier of a \Parameter object defined in the same \ExModel object.  (References: \sec{def:PossibleSpeciesFeatureValue:numericValue}.)} 

% 208 SpeciesTypeInstance
\subsection*{Rules for \class{SpeciesTypeInstance} objects} 

\validRule{multi-20801}{A \SpeciesTypeInstance object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \SpeciesTypeInstance object.  (References: \sec{def:SpeciesTypeInstance}). }

\validRule{multi-20802}{A \SpeciesTypeInstance object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \SpeciesTypeInstance object.  (References: \sec{def:SpeciesTypeInstance}). }
%\draftnote{occur change}
\validRule{multi-20803}{A \SpeciesTypeInstance object must have the required attributes \mIdAtt\ and \mSpeciesTypeAtt, and may have the optional attributes \mNameAtt\ and \mCompartmentReferenceAtt. No other attributes from the \multi\ namespace are permitted on a \SpeciesTypeInstance object.  (References: \sec{def:SpeciesTypeInstance}.)} 
%\draftnote{dropped}
%\validRule{\st{multi-20804}}{ The value of the \mOccurAtt\ attribute on a given \SpeciesTypeInstance object must conform to the syntax of the SBML data type \primtype{positiveInteger}. (References: \sec{def:SpeciesTypeInstance:occur}.)} 

\validRule{multi-20805}{The value of the \mSpeciesTypeAtt\ attribute on a given \SpeciesTypeInstance object must be the identifier of a \SpeciesType object defined in the same \ExModel object.  (References: \sec{def:SpeciesTypeInstance:speciesType}.)} 

\validRule{multi-20806}{The value of the \mCompartmentReferenceAtt\ attribute, if present on a given \SpeciesTypeInstance object, must be the identifier of a \CompartmentReference object defined in the same \ExModel object.  (References: \sec{def:SpeciesTypeInstance:compartmentReference}.)} 

% 209 SpeciesTypeComponentIndex
\subsection*{Rules for \class{SpeciesTypeComponentIndex} objects} 

\validRule{multi-20901}{A \SpeciesTypeComponentIndex object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \SpeciesTypeComponentIndex object.  (References: \sec{def:SpeciesTypeComponentIndex}). }

\validRule{multi-20902}{A \SpeciesTypeComponentIndex object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \SpeciesTypeComponentIndex object.  (References: \sec{def:SpeciesTypeComponentIndex}). }
%\draftnote{occur change}
\validRule{multi-20903}{A \SpeciesTypeComponentIndex object must have the required attributes \mIdAtt\ and \\
\token{multi:compartment}, and may have the optional attributes \mNameAtt\ and \mIdentifyingParentAtt. No other attributes from the \multi\ namespace are permitted on a \SpeciesTypeComponentIndex object.  (References: \sec{def:SpeciesTypeComponentIndex}.) }

\validRule{multi-20904}{The value of the \mComponentAtt\ attribute on a given \SpeciesTypeComponentIndex object must be the identifier of a \SpeciesTypeInstance object, or a \SpeciesTypeComponentIndex object under the \SpeciesType object that this \SpeciesTypeComponentIndex object belongs to, or the \SpeciesType object itself.  (References: \sec{def:SpeciesTypeComponentIndex:component}.)} 
%\draftnote{dropped}
%\validRule{\st{multi-20905}}{If the value of the \mComponentAtt\ attribute on a given \SpeciesTypeComponentIndex object is the identifier of a \SpeciesTypeComponentIndex object, the \SpeciesTypeComponentIndex object cannot have any \ListOfDenotedSpeciesTypeComponentIndexes object.  (References: \sec{def:SpeciesTypeComponentIndex:component}.)} 
%\draftnote{dropped}
%\validRule{\st{multi-20906}}{If the value of the \mComponentAtt\ attribute on a given \SpeciesTypeComponentIndex object is the identifier of another \SpeciesTypeComponentIndex object, the \mOccurAtt\ attribute must have the same value as that of the \mOccurAtt\ attribute of the referenced \SpeciesTypeComponentIndex object.  (References: \sec{def:SpeciesTypeComponentIndex:component}.)} 

\validRule{multi-20907}{The value of the \mIdentifyingParentAtt\ attribute on a given \SpeciesTypeComponentIndex object must be the identifier of a \component\ object under the \SpeciesType object that this \SpeciesTypeComponentIndex object belongs to. A \component\ object can be an object of \SpeciesTypeInstance, \SpeciesTypeComponentIndex or \SpeciesType. (References: \sec{def:SpeciesTypeComponentIndex:identifyingParent}.)} 
%\draftnote{dropped}
%\validRule{\st{multi-20908}}{The value of the \mOccurAtt\ attribute on a given \SpeciesTypeComponentIndex object must conform to the syntax of the SBML data type \primtype{positiveInteger}.  (References: \sec{def:SpeciesTypeComponentIndex:occur}.)} 

%\validRule{\st{multi-20909}}{A \ListOfDenotedSpeciesTypeComponentIndexes object in a \SpeciesTypeComponentIndex object is optional, but if present, must not be empty.  (References: \sec{def:ListOfDenotedSpeciesTypeComponentIndexes}.) }

%\validRule{\st{multi-20910}}{A \ListOfDenotedSpeciesTypeComponentIndexes object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfDenotedSpeciesTypeComponentIndexes object.  (References: \sec{def:ListOfDenotedSpeciesTypeComponentIndexes}.) }

%\validRule{multi-20911}}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfDenotedSpeciesTypeComponentIndexes container object may only contain \DenotedSpeciesTypeComponentIndex objects. (References: \sec{def:ListOfDenotedSpeciesTypeComponentIndexes}.) }

%210 DenotedSpeciesTypeComponentIndex
%\subsection*{Rules for \class{DenotedSpeciesTypeComponentIndex} objects} \draftnote{dropped}

%\validRule{multi-21001}{A \DenotedSpeciesTypeComponentIndex object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \DenotedSpeciesTypeComponentIndex object.  (References: \sec{def:DenotedSpeciesTypeComponentIndex}). }

%\validRule{multi-21002}{A \DenotedSpeciesTypeComponentIndex object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \DenotedSpeciesTypeComponentIndex object.  (References: \sec{def:DenotedSpeciesTypeComponentIndex}). }

%\validRule{multi-21003}{A \DenotedSpeciesTypeComponentIndex object must have the required attribute \mSpeciesTypeComponentIndexAtt. No other attributes from the \multi\ namespace are permitted on a \DenotedSpeciesTypeComponentIndex object.  (References: \sec{def:DenotedSpeciesTypeComponentIndex:speciesTypeComponentIndex}.) }

%\validRule{multi-21004}{The value of the \mSpeciesTypeComponentIndexAtt\ attribute on a given \DenotedSpeciesTypeComponentIndex object must be the identifier of a \SpeciesTypeComponentIndex object defined in the same \ExModel object.  (References: \sec{def:DenotedSpeciesTypeComponentIndex:speciesTypeComponentIndex}.)} 

%211 InSpeciesTypeBond
\subsection*{Rules for \class{InSpeciesTypeBond} objects} 

\validRule{multi-21101}{An \InSpeciesTypeBond object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on an \InSpeciesTypeBond object.  (References: \sec{def:InSpeciesTypeBond}). }

\validRule{multi-21102}{An \InSpeciesTypeBond object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on an \InSpeciesTypeBond object.  (References: \sec{def:InSpeciesTypeBond}). }

\validRule{multi-21103}{An \InSpeciesTypeBond object must have the required attributes, \mBindingSiteOneAtt\ and \mBindingSiteTwoAtt, and may have the optional attributes, \mIdAtt\ and \mNameAtt. No other attributes from the \multi\ namespace are permitted on an \InSpeciesTypeBond object.  (References: \sec{def:InSpeciesTypeBond}.) }

\validRule{multi-21104}{The value of the \mBindingSiteOneAtt\ attribute on a given \InSpeciesTypeBond object must be the identifier of a \SpeciesTypeInstance object or \SpeciesTypeComponentIndex which ultimately reference a object of \BindingSiteSpeciesType.  (References: \sec{def:InSpeciesTypeBond:bindingSites}.)} 

\validRule{multi-21105}{The value of the \mBindingSiteTwoAtt\ attribute on a given \InSpeciesTypeBond object must be the identifier of a \SpeciesTypeInstance object or \SpeciesTypeComponentIndex which ultimately reference a object of \BindingSiteSpeciesType.  (References: \sec{def:InSpeciesTypeBond:bindingSites}.)} 

% possible to validate this rule? 
\validRule{multi-21106}{The \mBindingSiteOneAtt\ and \mBindingSiteTwoAtt\ attributes must not reference the same \BindingSiteSpeciesType object. (References: \sec{def:InSpeciesTypeBond:bindingSites}.)} 

% 212** Species -----------------------------------
\subsection*{Rules for extended \class{Species} objects}
\label{validation:Species}

\validRule{multi-21201}{A \ExSpecies object may have the optional attribute, \mSpeciesTypeAtt. No other attributes from the \multi\ namespace are permitted on a \ExSpecies object. (References: \sec{def:ExSpecies}.) }

\validRule{multi-21202}{The value of a \mSpeciesTypeAtt\ attribute, if present on a \ExSpecies object, must be the identifier of a \SpeciesType object.  (References: \sec{def:Species:speciesType}.) }

\validRule{multi-21203}{Two \textsf{\textbf{ListOf\rule{0.15in}{0.5pt}}} subobjects with a \ExSpecies object are optional, but if present, these container object must not be empty.  Specifically, if any of the following two classes of objects are present on the \ExSpecies object, it must not be empty: \ListOfOutwardBindingSites and \ListOfSpeciesFeatures.  (References: \sec{def:ExSpecies}.) }

\validRule{multi-21204}{A \ListOfOutwardBindingSites object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfOutwardBindingSites object.  (References: \sec{def:ListOfOutwardBindingSites}.) }

\validRule{multi-21205}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfOutwardBindingSites container object may only contain \OutwardBindingSite objects. (References: \sec{def:ListOfOutwardBindingSites}.) }
  
\validRule{multi-21206}{A \ListOfSpeciesFeatures object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfSpeciesFeatures object.  (References: \sec{def:ListOfSpeciesFeatures}.) }

\validRule{multi-21207}{A \SubListOfSpeciesFeatures object may have the optional attributes \mIdAtt, \mNameAtt, \mComponentAtt, \mBlockChangedBegin{1.1.rc5}and the required attribute \mRelationAtt.\mBlockChangedEnd{1.1.rc5} No other attributes from the \multi\ namespace are permitted on a \SubListOfSpeciesFeatures object.  (References: \sec{def:SubListOfSpeciesFeatures}.) }

\validRule{multi-21208}{The value of the \mRelationAtt\ attribute, if presented on a \SubListOfSpeciesFeatures object, must conform to the syntax of the \multi\ data type \RelationPTWC.  (References: \sec{def:SubListOfSpeciesFeatures:relation}.) }

\validRule{multi-21209}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfSpeciesFeatures container object may only contain \SpeciesFeature and/or \SubListOfSpeciesFeatures objects. (References: \sec{def:ListOfSpeciesFeatures}.) }
  
\validRule{multi-21210}{A \SubListOfSpeciesFeatures object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \SubListOfSpeciesFeatures object.  (References: \sec{def:SubListOfSpeciesFeatures}.) }

\validRule{multi-21211}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \SubListOfSpeciesFeatures container object may only contain \SpeciesFeature objects. (References: \sec{def:SubListOfSpeciesFeatures}.) }

\validRule{multi-21212}{The value of the \mComponentAtt\ attribute on a given \SubListOfSpeciesFeatures object must be the identifier of an object of \SpeciesTypeInstance, \SpeciesTypeComponentIndex or \SpeciesType which contains the \SpeciesFeature objects in this \subListOfSpeciesFeatures.  (References: \sec{def:SubListOfSpeciesFeatures:component}.)} 

\mBlockChangedBegin{1.1.rc5}
% added at 1.1.rc5
\label{validation:species:21213}
\validRule{multi-21213}{A \species\ must have its \speciesType\ attribute defined when it has a \listOfOutwardBindingSites. (References: \sec{def:ExSpecies}.)} 

% added at 1.1.rc5
\label{validation:species:21214}
\validRule{multi-21214}{A \species\ must have its \speciesType\ attribute defined when it has a \listOfSpeciesFeatures. (References: \sec{def:ExSpecies}.)} 
  
% added at 1.1.rc5
\label{validation:species:21215}
\validRule{multi-21215}{The \relationAtt\ attribute of a \subListOfSpeciesFeatures\ can only have the value \val{and} if any \speciesFeature\ involved references a \speciesFeatureTypeAtt\ with \val{occur > 1}. (References: \sec{def:SubListOfSpeciesFeatures:relation}.)} 
  
% added at 1.1.rc5
\label{validation:species:21216}
\validRule{multi-21216}{A \SubListOfSpeciesFeatures object must have at least two \speciesFeature s.  (References: \sec{def:SubListOfSpeciesFeatures}.) } 
\mBlockChangedEnd{1.1.rc5}
  
%213 OutwardBindingSite
\subsection*{Rules for \class{OutwardBindingSite} objects} 

\validRule{multi-21301}{An \OutwardBindingSite object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on an \OutwardBindingSite object.  (References: \sec{def:OutwardBindingSite}). }

\validRule{multi-21302}{An \OutwardBindingSite object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on an \OutwardBindingSite object.  (References: \sec{def:OutwardBindingSite}). }

\validRule{multi-21303}{An \OutwardBindingSite object must have the required attributes, \mBindingStatusAtt\ and \mComponentAtt, and may have the optional attributes \mIdAtt\ and \mNameAtt. No other attributes from the \multi\ namespace are permitted on an \OutwardBindingSite object.  (References: \sec{def:OutwardBindingSite}.) }

\validRule{multi-21304}{The value of the \mBindingStatusAtt\ attribute on a given \OutwardBindingSite object must conform to the syntax of the \multi\ data type \BindingStatusPT. (References: \sec{def:OutwardBindingSite:bindingStatus}.)} 

\validRule{multi-21305}{The value of the \mComponentAtt\ attribute on a given \OutwardBindingSite object must be the identifier of an object of \SpeciesTypeInstance, \SpeciesTypeComponentIndex or \SpeciesType which ultimately reference an object of \BindingSiteSpeciesType.  (References: \sec{def:OutwardBindingSite:component}.)} 

\label{def:validation:21306}
\validRule{multi-21306}{An \outwardBindingSite\ cannot be a binding site referenced by any \inSpeciesTypeBond\ in the \species.  (References: \sec{def:OutwardBindingSite:component}.)} 


%214 SpeciesFeature
\subsection*{Rules for \class{SpeciesFeature} objects} 

\validRule{multi-21401}{A \SpeciesFeature object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \SpeciesFeature object.  (References: \sec{def:SpeciesFeature}). }

\validRule{multi-21402}{A \SpeciesFeature object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \SpeciesFeature object.  (References: \sec{def:SpeciesFeature}). }

\validRule{multi-21403}{A \SpeciesFeature object must have the required attributes, \mSpeciesFeatureTypeAtt\ and \mOccurAtt, and may have the optional attributes, \mIdAtt, \mNameAtt, and \mComponentAtt. No other attributes from the \multi\ namespace are permitted on a \SpeciesFeature object.  (References: \sec{def:SpeciesFeature}.) }

\validRule{multi-21404}{The value of the \mSpeciesFeatureTypeAtt\ attribute on a given \SpeciesFeature object must be the identifier of a \SpeciesFeatureType object which is in the \SpeciesType object referenced by the \Species object containing this \SpeciesFeature object. (References: \sec{def:SpeciesFeature:speciesFeatureType}.)} 

\validRule{multi-21405}{The value of the \mOccurAtt\ attribute on a given \SpeciesFeature object must conform to the syntax of the SBML data type \primtype{positiveInteger}. The value of the \mOccurAtt\ attribute must not be larger than that of the \mOccurAtt\ attribute of the \SpeciesFeatureType object referenced by this \SpeciesFeature object. (References: \sec{def:SpeciesFeature:occur}.)} 

\validRule{multi-21406}{The value of the \mComponentAtt\ attribute on a given \SpeciesFeature object must be the identifier of an object of \SpeciesTypeInstance, \SpeciesTypeComponentIndex or \SpeciesType which contains this \SpeciesFeature object.  (References: \sec{def:SpeciesFeature:component}.)} 

\validRule{multi-21407}{One and only one \ListOfSpeciesFeatureValues subobject within a \SpeciesFeature object is required. (References: \sec{def:ListOfSpeciesFeatureValues}.) }
  
\validRule{multi-21408}{A \ListOfSpeciesFeatureValues object must not be empty. (References: \sec{def:ListOfSpeciesFeatureValues}.) }
  
\validRule{multi-21409}{A \ListOfSpeciesFeatureValues object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfSpeciesFeatureValues object.  (References: \sec{def:ListOfSpeciesFeatureValues}.) }

\validRule{multi-21410}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfSpeciesFeatureValues container object may only contain \SpeciesFeatureValue objects. (References: \sec{def:ListOfSpeciesFeatureValues}.) }

%215 SpeciesFeatureValue
\subsection*{Rules for \class{SpeciesFeatureValue} objects} 

\validRule{multi-21501}{A \SpeciesFeatureValue object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \SpeciesFeatureValue object.  (References: \sec{def:SpeciesFeatureValue}). }

\validRule{multi-21502}{A \SpeciesFeatureValue object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \SpeciesFeatureValue object.  (References: \sec{def:SpeciesFeatureValue}). }

\validRule{multi-21503}{A \SpeciesFeatureValue object must have the required attribute \mValueAtt. No other attributes from the \multi\ namespace are permitted on a \SpeciesFeatureValue object.  (References: \sec{def:SpeciesFeatureValue}.) }

\validRule{multi-21504}{The value of the \mValueAtt\ attribute on a given \SpeciesFeatureValue object must be the identifier of a \PossibleSpeciesFeatureValue object defined in the \SpeciesFeatureType object referenced by the \SpeciesFeature object containing this \SpeciesFeatureValue object.  (References: \sec{def:SpeciesFeatureValue}.)} 

%216 IntraSpeciesReaction
\subsection*{Rules for \class{IntraSpeciesReaction} objects} 

\validRule{multi-21601}{An \IntraSpeciesReaction object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace and the \multi\ namespace are permitted on an \IntraSpeciesReaction object.  (References: \sec{def:IntraSpeciesReaction}). }

\validRule{multi-21602}{An \IntraSpeciesReaction object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on an \IntraSpeciesReaction object.  (References: \sec{def:IntraSpeciesReaction}). }

% 217** SimpleSpeciesReference -----------------------------------
\subsection*{Rules for extended \class{SimpleSpeciesReference} objects}
\label{validation:SimpleSpeciesReference}

\validRule{multi-21701}{An extended \ExSimpleSpeciesReference object may have the optional attribute,\\ 
\mCompartmentReferenceAtt. No other attributes from the \multi\ namespace are permitted on a \ExSimpleSpeciesReference object. (References: \sec{def:ExSimpleSpeciesReference}.) }

\validRule{multi-21702}{The value of a \mCompartmentReferenceAtt\ attribute, if present on a \ExSimpleSpeciesReference object, must be the identifier of a \CompartmentReference object.  (References: \sec{def:ExSimpleSpeciesReference}.) }

% 218** SpeciesReference -----------------------------------
\subsection*{Rules for extended \class{SpeciesReference} objects}
\label{validation:SpeciesReference}

\validRule{multi-21801}{A \ListOfSpeciesTypeComponentMapsInProduct object within an extended \ExSpeciesReference object is optional, but if present, must not be empty.  (References: \sec{def:ListOfSpeciesTypeComponentMapsInProduct}.) }

\validRule{multi-21802}{A \ListOfSpeciesTypeComponentMapsInProduct object may have the optional SBML core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace or the \multi\ namespace are permitted on a \ListOfSpeciesTypeComponentMapsInProduct object.  (References: \sec{def:ListOfSpeciesTypeComponentMapsInProduct}.) }

\validRule{multi-21803}{Apart from the general \notes\ and \annotation\ subobjects permitted on all SBML objects, a \ListOfSpeciesTypeComponentMapsInProduct container object may only contain \SpeciesTypeComponentMapInProduct objects. (References: \sec{def:ListOfSpeciesTypeComponentMapsInProduct}.) }

%219 SpeciesTypeComponentMapInProduct
\subsection*{Rules for \class{SpeciesTypeComponentMapInProduct} objects} 

\validRule{multi-21901}{A \SpeciesTypeComponentMapInProduct object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \SpeciesTypeComponentMapInProduct object.  (References: \sec{def:SpeciesTypeComponentMapInProduct}). }

\validRule{multi-21902}{A \SpeciesTypeComponentMapInProduct object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \SpeciesTypeComponentMapInProduct object.  (References: \sec{def:SpeciesTypeComponentMapInProduct}). }

\validRule{multi-21903}{A \SpeciesTypeComponentMapInProduct object must have the required attributes \mReactantAtt, \mReactantComponentAtt, and \mProductComponentAtt, and may have the optional attributes \mIdAtt\ and \mNameAtt. No other attributes from the \multi\ namespace are permitted on a \SpeciesTypeComponentMapInProduct object.  (References: \sec{def:SpeciesTypeComponentMapInProduct}.) }

\validRule{multi-21904}{The value of the \mReactantAtt\ attribute on a given \SpeciesTypeComponentMapInProduct object must be the identifier of a reactant \ExSpeciesReference object within a reaction.  (References: \sec{def:SpeciesTypeComponentMapInProduct:reactant}.)} 

\validRule{multi-21905}{The value of the \mReactantComponentAtt\ attribute on a given \SpeciesTypeComponentMapInProduct object must be the identifier of an object of \SpeciesTypeInstance, \SpeciesTypeComponentIndex or \SpeciesType.  (References: \sec{def:SpeciesTypeComponentMapInProduct:reactantComponent}.)} 

\validRule{multi-21906}{The value of the \mProductComponentAtt\ attribute on a given \SpeciesTypeComponentMapInProduct object must be the identifier of an object of \SpeciesTypeInstance, \SpeciesTypeComponentIndex or \SpeciesType.  (References: \sec{def:SpeciesTypeComponentMapInProduct:productComponent}.)} 

%\begin{blockChanged}
  
% 220** CompartmentReference --------------------------------
\subsection*{Rules for \class{CompartmentReference} objects} 

\validRule{multi-22001}{A \CompartmentReference object may have the optional SBML Level~3 Core attributes \token{metaid} and \token{sboTerm}.  No other attributes from the SBML Level~3 Core namespace are permitted on a \CompartmentReference object.  (References: \sec{def:CompartmentReference}). }

\validRule{multi-22002}{A \CompartmentReference\ object may have the optional SBML Level~3 Core subobjects for \notes\ and \annotation.  No other elements from the SBML Level~3 Core namespace are permitted on a \CompartmentReference object.  (References: \sec{def:CompartmentReference}). }

\validRule{multi-22003}{A \CompartmentReference\ object must have the required attribute \token{multi:compartment}, and may have the optional attributes \mIdAtt\ and \token{multi:name}. No other attributes from the \multi\ namespace are permitted on a \CompartmentReference\ object.  (References: \sec{def:CompartmentReference}.) }

\validRule{multi-22004}{The value of the \token{multi:compartment} attribute must be the value of an \token{id} attribute on an existing \ExCompartment\ object in the \token{SId} namespace of the parent \ExModel. (References: \sec{def:CompartmentReference}.) }

\validRule{multi-22005}{If some or all \CompartmentReference\ objects within a \ListOfCompartmentReferences\ object reference the same \Compartment object, those \compartmentReferences\ are required to have its \token{multi:id} attribute defined. (References: \sec{def:CompartmentReference:idAndName}.) }

\validRule{multi-22006}{A \compartmentReference\ cannot reference a \compartment\ that directly or indirectly contains the \compartmentReference. (References: \sec{def:CompartmentCircularReferencesNotAllowed}.) }
\label{def:validationRule:22006}

%\end{blockChanged}

\clearpage
