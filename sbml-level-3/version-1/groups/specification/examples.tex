% -*- TeX-master: "main" -*-

\section{Examples}
\label{examples}

This section contains examples employing the Groups package for SBML Level~3.

\subsection{Simple species typing via annotations}
\label{examples-speciestype}

The following is a simple example of using this proposed grouping facility to do something similar to the \SpeciesType example shown in Section~4.6.3 of the SBML Level~2 Version~4 specification (p.~43).

%VERSION2
%\exampleFile{figs/speciestype-example.xml}
%
%In this example, both species \val{ATPc} and \val{ATPm} are intended to be pools of ATP, but located in different compartments.  To indicate that they are both conceptually the same kind of molecular entity, the model includes a group definition of the \val{classification} variety.  The two species \val{ATPc} and \val{ATPm} are both listed as members of the same group.  The \ListOfMembers is given the \token{sboTerm} \val{SBO:0000248} to indicate that both species are small molecules.  Four restrictions are set in place by the \ListOfMemberConstraints element:  both species must be the same type, must be in different \token{compartments}, and must share the same \token{initialConcentration} and \token{constant} values.

\exampleFile{figs/speciestype-example-v1.xml}

In this example, both \val{ATPc} and \val{ATPm} are intended to be pools of ATP, but located in different compartments.  To indicate that they are both conceptually the same kind of molecular entity, the model includes a group definition of the \val{classification} variety.  The two species \val{ATPc} and \val{ATPm} are both listed as members of the same group.  The \ListOfMembers is given the \token{sboTerm} \val{SBO:0000248} to indicate that both species are small molecules.
This group definition could be enhanced further by including an annotation on the \ListOfMembers that references the ChEBI database entry for ATP; we omit that detail here in order to concentrate on the Groups constructs.


\subsection{Example using meta identifiers}

In the next example, two rules both influence a model in the same way, so a group is used to collect the rules and annotate them.

\exampleFile{figs/rule-example.xml}

The key point of this example is the use of meta identifiers for SBML entities (in particular, rules) that do not have regular identifiers (i.e., \token{id} attributes).

\subsection{Example using nested groups}

In this example, ATP is grouped as ATP in the organelles, and all ATP, with the former being a subgroup of the latter.  Because the intent of the group is to capture the ATP elements themselves, a reference to the first group's \ListOfMembers is used.

\exampleFile{figs/nested-example.xml}

In this example, all five ATP \Species are effectively labeled with SBO term \val{SBO:0000248} to indicate they are all small molecules.  An anotation added to \val{ATP\_all\_list} to additionally specify the ChEBI database entry for ATP would have likewise applied to all five ATP \Species.

Had the second group referenced \val{ATP\_organelle} instead, the SBO term would have been incorrect (since a group is not a small molecule), and the \token{kind} for the group should have been \token{collection} instead of \token{classification}.  

