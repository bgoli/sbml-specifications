% -*- TeX-master: "main" -*-

\section{Background and context}
\label{background}

SBML Level 2 Versions~2--4 provides two object classes, \CompartmentType and \SpeciesType, meant to allow the definition of types of compartments and species. The original motivation for their introduction was the anticipation of the introduction of generalized reactions, a scheme that would have allowed reactions to be defined on whole classes of entities in a compact format. However, generalized reactions never ended up being introduced in SBML Level~2, and the notion of generalized reactions has been superceded by the effort to support rule-based models using the Level~3 Multistate and Multicomponent Species package.  Moreover, the existence of just two types was never satisfactory in Level~2, because it did not satisfy the occasional desire to have other types of objects, such as parameters.  For these reasons, when SBML Level~3 was developed, \CompartmentType and \SpeciesType were removed with the expectation that packages would be developed to take their place.

The SBML Level~3 Groups package is intended to fill the gaps left by the absence of \CompartmentType and \SpeciesType from \sbmlthreecore, while offering a more flexible mechanism for indicating that components of an SBML model are related.  The nature of the relationship is left up to the modeler.  This package can entirely take the place of \SpeciesType, but the modeler must explicitly create the restrictions previously automatically associated with that element; as a trade-off, the Groups package offers modelers and software tools the ability to indicate relationships and restrictions between any type of SBML component, not just species and compartments.

The term \emph{groups} is used in this package rather than \emph{types}, because the latter would imply stronger behavioral constraints on objects than what the Groups package provides. This package really only provides a way of annotating a model.  It does not provide a way to define types in the computer science sense; therefore, a different term is appropriate.


\subsection{Prior work}

The earliest relevant work on this topic is the development of the \CompartmentType and \SpeciesType object classes in the SBML Level~2 specification beginning with Version~2~\citep{l2v2}. The original design was based on Andrew Finney's proposal for these object classes, which was made in the context of Finney's proposal for multicomponent species for SBML Level~3~\citep{finney_2004}. The \SpeciesType class was included in the draft SBML Level~2 Version~2 to lay the groundwork for multicomponent species in Level~3, but \class{CompartmentType} was not; instead, a community vote was held in 2006~\citep{vote_2006} on the question of whether \class{CompartmentType} should also be added to SBML Level~2 Version~2. The original expectation was to also introduce generalized reactions, and a community vote was held on this separate topic~\citep{vote_2006b}, but the result of the vote was that generalized reactions should be postponed to SBML Level~3 and not introduced in Level~2. Importantly, no one voted against generalized reactions outright, suggesting that a general typing mechanism for grouping species, compartments and reactions was something desired by the SBML community.

The first version of the Groups proposal was produced by the author in 2009~\citep{hucka_2009}, after discussions with the SBML Editors during the 2009 SBML Hackathon held at the European Bioinformatics Institute~\citep{sbml_hackathon_2009}.  The original proposal differed from the current proposal in several respects. The most notable architectural difference is that membership in groups was done in an inverted fashion compared to the current specification: model entities contained structures that indicated which groups they belonged to, rather than the current scheme, in which group definitions include lists of their members.  The current scheme was developed during discussions with the SBML Editors during HARMONY 2011 in New York City~\citep{harmony_2011} and HARMONY 2012 in Maastricht, The Netherlands~\citep{harmony_2012}.

The idea for using an attribute to indicate the type of a group (i.e., a whether it is a classification, partonomy or simply a collection) was put forwared by Nicolas Le~Nov\`{e}re during the discussions at HARMONY 2012.  The resulting attribute \token{kind} on the \Group object class solved a problem of group meaning in the previous definitions of the Groups package.

Finally, the idea of adding constraints to a Group in order to fully recapture the original semantics of \SpeciesType was proposed by Lucian Smith, and incorporated into Release~0.2 of the specification.
