% -*- TeX-master: "main"; fill-column: 72 -*-
\section{Validation of SBML documents}
\label{apdx-validation}

\subsection{Validation and consistency rules}
\label{validation-rules}

This section summarizes all the conditions that must (or in some cases,
at least \emph{should}) be true of an SBML Level~3 Version~1 model that
uses the \LayoutPackage.  We use the same
conventions as are used in the SBML Level~3 Version~1 Core specification
document.  In particular, there are different degrees of rule
strictness.  Formally, the differences are expressed in the statement of
a rule: either a rule states that a condition \emph{must} be true, or a
rule states that it \emph{should} be true.  Rules of the former kind are
strict SBML validation rules---a model encoded in SBML must conform to
all of them in order to be considered valid.  Rules of the latter kind
are consistency rules.  To help highlight these differences, we use the
following three symbols next to the rule numbers:

\begin{description}

\item[\hspace*{6.5pt}\vSymbol\vsp] A \vSymbolName indicates a
  \emph{requirement} for SBML conformance. If a model does not follow
  this rule, it does not conform to the Layout
  specification.  (Mnemonic intention behind the choice of symbol:
  ``This must be checked.'')

\item[\hspace*{6.5pt}\cSymbol\csp] A \cSymbolName indicates a
  \emph{recommendation} for model consistency.  If a model does not
  follow this rule, it is not considered strictly invalid as far as
  the Layout specification is concerned;
  however, it indicates that the model contains a physical or
  conceptual inconsistency.  (Mnemonic intention behind the choice of
  symbol: ``This is a cause for warning.'')

\item[\hspace*{6.5pt}\mSymbol\msp] A \mSymbolName indicates a strong
  recommendation for good modeling practice.  This rule is not
  strictly a matter of SBML encoding, but the recommendation comes
  from logical reasoning.  As in the previous case, if a model does
  not follow this rule, it is not strictly considered an invalid SBML
  encoding.  (Mnemonic intention behind the choice of symbol: ``You're
  a star if you heed this.'')

\end{description}

The validation rules listed in the following subsections are all stated
or implied in the rest of this specification document.  They are
enumerated here for convenience.  Unless explicitly stated, all
validation rules concern objects and attributes specifically defined in
the Layout package.

For \notice convenience and brevity, we use the shorthand
``\token{layout:\-x}'' to stand for an attribute or element name \token{x}
in the namespace for the \LayoutPackage, using
the namespace prefix \token{layout}.  In reality, the prefix string may be
different from the literal ``\token{layout}'' used here (and indeed, it
can be any valid XML namespace prefix that the modeler or software
chooses).  We use ``\token{layout:\-x}'' because it is shorter than to
write a full explanation everywhere we refer to an attribute or element
in the \LayoutPackage namespace.


\subsubsection*{General rules about this package}

\validRule{layout-10101}{To conform to the \LayoutPackage specification 
for SBML Level~3 Version~1, an SBML document must declare the use of the 
following XML Namespace:\\
\textsl{\uri{http://www.sbml.org/sbml/level3/version1/layout/version1}}.\\
(References: SBML Level~3 Package Specification for Layout, Version~1, 
\sec{xml-namespace}.)}

\validRule{layout-10102}{Wherever they appear in an SBML document,
elements and attributes from the \LayoutPackage must be declared either 
implicitly or explicitly to be in the XML namespace\\
\uri{http://www.sbml.org/sbml/level3/version1/layout/version1}.\\
(References: SBML Level~3 Package Specification for Layout , Version~1, 
\sec{xml-namespace}.) }

\subsubsection*{General rules about identifiers}

\validRule{layout-10301}{(Extends validation rule \#10301 in the SBML
Level~3 Version~1 Core specification.) Within a \Model the values of the 
attributes \token{id} and \token{layout:\-id} on every instance of the 
following classes of objects must be unique across the set of all \token{id} and
\token{layout:\-id} attribute values of all such objects in a model: the
\Model itself, plus all contained \FunctionDefinition, \Compartment,
\Species, \Reaction, \SpeciesReference, \ModifierSpeciesReference,
\Event, and \Parameter objects, plus the \BoundingBox, \CompartmentGlyph, 
\GeneralGlyph, \GraphicalObject, \LayoutClass, \SpeciesGlyph, 
\SpeciesReferenceGlyph, \ReactionGlyph, \ReferenceGlyph, and \TextGlyph 
objects defined by the \LayoutPackage.
(References: SBML Level~3 Package Specification for Layout, Version~1, \sec{primtypes}.) }

\validRule{layout-10302}{The value of the \token{layout:\-id} attribute must always conform
to the syntax of the SBML data type SId.
(References: SBML Level~3 Package Specification for Layout , Version~1, 
\sec{primtypes}.) }

\subsubsection*{Rules for the extended \class{SBML} class}

\validRule{layout-20101}{In all SBML documents using the \LayoutPackage,
the \SBML object must include a value for the attribute 
\token{layout:\-required} attribute.
(References: SBML Level~3 Version~1 Core, Section~4.1.2.) }

\validRule{layout-20102}{The value of attribute \token{layout:\-required} on
the \SBML object must be of the data type \primtype{boolean}.
(References: SBML Level~3 Version~1 Core, Section~4.1.2.) }

\validRule{layout-20103}{The value of attribute \token{layout:\-required} on
the \SBML object must be set to \val{false}.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{xml-namespace}.) }

\subsubsection*{Rules for extended \class{Model} object}

\validRule{layout-20201}{There may be at most one instance of \ListOfLayouts 
element within a \Model object using Layout. No other elements from the Layout 
package are allowed.  
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{model-class}.) }

\validRule{layout-20202}{The \ListOfLayouts within a \Model
object is optional, but if present, must not be empty.  
(References: SBML Level~3 Package Specification for Layout, 
Version~1, \sec{model-class}.) }

\validRule{layout-20203}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfLayouts container
object may only contain \LayoutClass objects.  (References: SBML Level~3
Package Specification for Layout, Version~1,
\sec{model-class}.) }

\validRule{layout-20204}{A \ListOfLayouts object may have the optional
\token{meta\-id} and \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a
\ListOfLayouts object.  (References: SBML Level~3 Package
Specification for Layout, Version~1,
\sec{model-class}.) }

\subsubsection*{Rules for the \class{Layout} object}

\validRule{layout-20301}{A \LayoutClass object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \LayoutClass.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20302}{A \LayoutClass object may have the optional SBML
Level 3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\LayoutClass. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20303}{There may be at most one instance of each of the
following ListOf kinds of objects within a \LayoutClass object: \ListOfCompartmentGlyphs, \ListOfSpeciesGlyphs, 
\ListOfReactionGlyphs, \ListOfTextGlyphs, \ListOfAdditionalGraphicalObjects.  
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{layout-class}.) }

\validRule{layout-20304}{The various
\textsf{\textbf{ListOf\rule{0.15in}{0.5pt}}} subobjects within a \LayoutClass 
object are optional, but if present, these container object must not be 
empty.  Specifically, if any of the following classes of objects are present 
on the \LayoutClass, it must not be empty: \ListOfCompartmentGlyphs, 
\ListOfSpeciesGlyphs, \ListOfReactionGlyphs, \ListOfTextGlyphs, 
\ListOfAdditionalGraphicalObjects.  
(References: SBML Level~3 Package Specification for Layout, 
Version~1, \sec{layout-class}.) }

\validRule{layout-20305}{A \LayoutClass object must have the required attribute 
\token{layout:\-id} and may have the optional attribute \token{layout:\-name}.  
No other attributes from the SBML Level~3 Layout namespace are permitted 
on a \LayoutClass object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{layout-class}.) }

\validRule{layout-20306}{The attribute \token{layout:\-name} of a \LayoutClass
must be of the data type \token{string}. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1, \sec{layout-class}.) }

\validRule{layout-20307}{A \ListOfCompartmentGlyphs object may have the optional attributes 
\token{meta\-id} and \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a \ListOfCompartmentGlyphs object.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{listofcompartmentglyphs-class}.) }
	
\validRule{layout-20308}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfCompartmentGlyphs container
object may only contain \CompartmentGlyph objects.  (References: SBML Level~3
Package Specification for Layout, Version~1,
\sec{listofcompartmentglyphs-class}.) }
	
\validRule{layout-20309}{A \ListOfSpeciesGlyphs object may have the optional attributes
\token{meta\-id} and \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a
\ListOfSpeciesGlyphs object.  (References: SBML Level~3 Package
Specification for Layout, Version~1,
\sec{listofspeciesglyphs-class}.) }
	
\validRule{layout-20310}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfSpeciesGlyphs container
object may only contain \SpeciesGlyph objects.  (References: SBML Level~3
Package Specification for Layout, Version~1,
\sec{listofspeciesglyphs-class}.) }
	
\validRule{layout-20311}{A \ListOfReactionGlyphs object may have the optional attributes
\token{meta\-id} and \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a
\ListOfReactionGlyphs object.  (References: SBML Level~3 Package
Specification for Layout, Version~1,
\sec{listofreactionglyphs-class}.) }
	
\validRule{layout-20312}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfReactionGlyphs container
object may only contain \ReactionGlyph objects.  (References: SBML Level~3
Package Specification for Layout, Version~1,
\sec{listofreactionglyphs-class}.) }
		
\validRule{layout-20313}{A \ListOfAdditionalGraphicalObjects object may have the optional attributes
\token{meta\-id} and \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a \ListOfAdditionalGraphicalObjects object.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{listofadditionalgraphicalobjects-class}.) }
	
\validRule{layout-20314}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfAdditionalGraphicalObjects container
object may only contain \GeneralGlyph and \\ \GraphicalObject objects.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{listofadditionalgraphicalobjects-class}.) }

\validRule{layout-20315}{A \LayoutClass object must contain exactly one \Dimensions object.
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{layout-class}.) }

\validRule{layout-20316}{A \ListOfTextGlyphs object may have the optional attributes
\token{meta\-id} and \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a \ListOfTextGlyphs object.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{textglyph-class}.) }
	
\validRule{layout-20317}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfTextGlyphs container
object may only contain \TextGlyph objects.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{textglyph-class}.) }


\subsubsection*{Rules for the \class{GraphicalObject} class}

\validRule{layout-20401}{A \GraphicalObject object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \GraphicalObject.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20402}{A \GraphicalObject object may have the optional SBML
Level 3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\GraphicalObject. 
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20403}{There may be at most one instance of a \BoundingBox 
object on a \GraphicalObject.  No other elements from the Layout namespace 
are permitted on a \GraphicalObject.
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{graphicalobject-class}.) }

\validRule{layout-20404}{A \GraphicalObject object must have the required 
attribute \token{layout:\-id} and may have the optional attribute 
\token{layout:\-metaidRef}.  No other attributes from the SBML Level~3 Layout 
namespace are permitted on a \GraphicalObject object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{graphicalobject-class}.) }

\validRule{layout-20405}{The attribute \token{layout:\-metaidRef} of 
a \GraphicalObject must be of the data type \token{IDREF}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20406}{The value of a \token{layout:\-metaidRef} attribute of 
a \GraphicalObject must be of the \token{metaid} of an existing element 
in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20407}{A \GraphicalObject object must contain exactly 
one \BoundingBox object.
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\subsubsection*{Rules for the \class{CompartmentGlyph} object}

\validRule{layout-20501}{A \CompartmentGlyph object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \CompartmentGlyph.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20502}{A \CompartmentGlyph object may have the optional SBML
Level 3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\CompartmentGlyph. 
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20503}{There may be at most one instance of an \BoundingBox 
object on a \CompartmentGlyph.  No other elements from the Layout namespace are 
permitted on a \CompartmentGlyph.
(References: SBML Level~3 Package Specification for Layout, 
Version~1, \sec{compartmentglyph-class}.) }

\validRule{layout-20504}{A \CompartmentGlyph object must have the required 
attribute \token{layout:\-id} and may have the optional attributes 
\token{layout:\-metaidRef}, \token{layout:\-compartment} or 
\token{layout:\-order}.  No other attributes from the SBML Level~3 Layout 
namespace are permitted on a \CompartmentGlyph object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{compartmentglyph-class}.) }

\validRule{layout-20505}{The attribute \token{layout:\-metaidRef} of 
a \CompartmentGlyph must be of the data type \token{IDREF}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20506}{The value of a \token{layout:\-metaidRef} 
of a \CompartmentGlyph must be of the \token{metaid} of an 
existing element in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20507}{The attribute \token{layout:\-compartment} 
of a \CompartmentGlyph must be of the data type \token{SIdRef}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{compartmentglyph-class}.) }

\validRule{layout-20508}{The value of a \token{layout:\-compartment} 
of a \CompartmentGlyph must be of the \token{id} of an existing 
\Compartment in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{compartmentglyph-class}.) }

\validRule{layout-20509}{If both attributes \token{layout:\-compartment} 
and \token{layout:\-metaidRef} are specified on a \\ \CompartmentGlyph 
they have to reference the same \Compartment of the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{compartmentglyph-class}.) }

\validRule{layout-20510}{The attribute \token{layout:\-order} of a 
\CompartmentGlyph must be of the data type \token{double}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{compartmentglyph-class}.) }


\subsubsection*{Rules for the \class{SpeciesGlyph} object}

\validRule{layout-20601}{A \SpeciesGlyph object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \SpeciesGlyph.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20602}{A \SpeciesGlyph object may have the optional SBML
Level 3 Core attributes \token{metaid} and \\ \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\SpeciesGlyph. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20603}{There may be at most one instance of an 
\BoundingBox object on a \SpeciesGlyph.  No other elements from the 
Layout namespace are permitted on a \SpeciesGlyph.
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{speciesglyph-class}.) }

\validRule{layout-20604}{A \SpeciesGlyph object must have the required 
attribute \token{layout:\-id} and may have the optional attribute 
\token{layout:\-metaidRef} or \token{layout:\-species}.  No other attributes 
from the SBML Level~3 Layout namespace are permitted on a \SpeciesGlyph object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{speciesglyph-class}.) }

\validRule{layout-20605}{The attribute \token{layout:\-metaidRef} of a 
\SpeciesGlyph must be of the data type \token{IDREF}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20606}{The value of a \token{layout:\-metaidRef} of 
a \SpeciesGlyph must be of the \token{metaid} of an existing element 
in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20607}{The attribute \token{layout:\-species} of 
a \SpeciesGlyph must be of the data type \token{SIdRef}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{speciesglyph-class}.) }

\validRule{layout-20608}{The value of a \token{layout:\-species} of a 
\SpeciesGlyph must be of the \token{id} of an existing \Species in the 
\Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{speciesglyph-class}.) }

\validRule{layout-20609}{If both attributes \token{layout:\-species} 
and \token{layout:\-metaidRef} are specified on a \SpeciesGlyph they 
have to reference the same \Species of the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{speciesglyph-class}.) }

\subsubsection*{Rules for the \class{ReactionGlyph} object}

\validRule{layout-20701}{A \ReactionGlyph object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \ReactionGlyph.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20702}{A \ReactionGlyph object may have the optional SBML
Level 3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\ReactionGlyph. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20703}{There may be at most one instance of each of the 
following kinds of objects within a \ReactionGlyph object: \BoundingBox, 
\Curve, \ListOfSpeciesReferenceGlyphs.  No other elements from the 
Layout namespace are permitted on a \ReactionGlyph.
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{reactionglyph-class}.) }

\validRule{layout-20704}{A \ReactionGlyph object must have the required 
attribute \token{layout:\-id} and may have the optional attribute 
\token{layout:\-metaidRef} or \token{layout:\-reaction}.  No other attributes 
from the SBML Level~3 Layout namespace are permitted on a \ReactionGlyph 
object. 
(References: SBML Level~3 Package Specification for Layout, Version~1,  
\sec{reactionglyph-class}.) }

\validRule{layout-20705}{The attribute \token{layout:\-metaidRef} of a \ReactionGlyph
must be of the data type \token{IDREF}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20706}{The value of a \token{layout:\-metaidRef} of a \ReactionGlyph
must be of the \token{metaid} of an existing element in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20707}{The attribute \token{layout:\-reaction} of a \ReactionGlyph
must be of the data type \token{SIdRef}. (References: SBML Level~3
Package Specification for Layout, Version~1,
\sec{reactionglyph-class}.) }

\validRule{layout-20708}{The value of a \token{layout:\-reaction} of a \ReactionGlyph
must be of the \token{id} of an existing \Reaction in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{reactionglyph-class}.) }

\validRule{layout-20709}{If both attributes \token{layout:\-reaction} and 
\token{layout:\-metaidRef} are specified on a \ReactionGlyph they have to 
reference the same \Reaction of the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{reactionglyph-class}.) }

\validRule{layout-20710}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfSpeciesReferenceGlyphs container
object may only contain \SpeciesReferenceGlyph objects.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{reactionglyph-class}.) }

\validRule{layout-20711}{A \ListOfSpeciesReferenceGlyphs object may have the optional
\token{meta\-id} and \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a \ListOfSpeciesReferenceGlyphs object.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{reactionglyph-class}.) }
	
	
\subsubsection*{Rules for the \class{GeneralGlyph} object}

\validRule{layout-20801}{A \GeneralGlyph object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \GeneralGlyph.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20802}{A \GeneralGlyph object may have the optional SBML
Level 3 Core attributes \token{metaid} and \\ \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\GeneralGlyph. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20803}{There may be at most one instance of each of the 
following kinds of objects within a \GeneralGlyph object: \BoundingBox, 
\Curve, \ListOfReferenceGlyphs and \ListOfSubGlyphs.  No other elements 
from the Layout namespace are permitted on a \GeneralGlyph.
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{generalglyph-class}.) }

\validRule{layout-20804}{A \GeneralGlyph object must have the required 
attribute \token{layout:\-id} and may have the optional attribute 
\token{layout:\-metaidRef} or \token{layout:\-reference}.  No other 
attributes from the SBML Level~3 Layout namespace are permitted on 
a \GeneralGlyph object. 
(References: SBML Level~3 Package Specification for Layout, Version~1,  
\sec{generalglyph-class}.) }

\validRule{layout-20805}{The attribute \token{layout:\-metaidRef} 
of a \GeneralGlyph must be of the data type \token{IDREF}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20806}{The value of a \token{layout:\-metaidRef} 
of a \GeneralGlyph must be of the \token{metaid} of an existing 
element in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20807}{The attribute \token{layout:\-reference} 
of a \GeneralGlyph must be of the data type \token{SIdRef}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{generalglyph-class}.) }

\validRule{layout-20808}{The value of a \token{layout:\-reference} 
of a \GeneralGlyph must be of the \token{id} of an existing element 
in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{generalglyph-class}.) }

\validRule{layout-20809}{If both attributes \token{layout:\-reference} 
and \token{layout:\-metaidRef} are specified on a \GeneralGlyph they 
have to reference the same element of the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{generalglyph-class}.) }

\validRule{layout-20810}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfReferenceGlyphs container
object may only contain \ReferenceGlyph objects.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{generalglyph-class}.) }

\validRule{layout-20811}{A \ListOfReferenceGlyphs object may have the optional
\token{meta\-id} and \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a \ListOfReferenceGlyphs object.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{generalglyph-class}.) }
	
\validRule{layout-20812}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfSubGlyphs container
object may only contain \CompartmentGlyph, \SpeciesGlyph, \\ 
\ReactionGlyph, \GeneralGlyph, \GraphicalObject, \TextGlyph, \\ 
\SpeciesReferenceGlyph and \ReferenceGlyph objects.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{generalglyph-class}.) }

\validRule{layout-20813}{A \ListOfSubGlyphs object may have the optional
\token{meta\-id} and \\ \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a \ListOfSubGlyphs object.  

(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{generalglyph-class}.) }
	
\subsubsection*{Rules for the \class{TextGlyph} object}

\validRule{layout-20901}{A \TextGlyph object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \TextGlyph.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20902}{A \TextGlyph object may have the optional SBML
Level 3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\TextGlyph. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-20903}{A \TextGlyph object must contain exactly one 
\BoundingBox object.  No other elements from the Layout namespace are 
permitted on a \TextGlyph.
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{textglyph-class}.) }

\validRule{layout-20904}{A \TextGlyph object must have the required 
attribute \token{layout:\-id} and may have the optional attributes 
\token{layout:\-metaidRef}, \token{layout:\-graphicalObject}, 
\token{layout:\-text} and \\ \token{layout:\-originOfText}.  No 
other attributes from the SBML Level~3 Layout namespace are 
permitted on a \TextGlyph object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{textglyph-class}.) }

\validRule{layout-20905}{The attribute \token{layout:\-metaidRef} 
of a \TextGlyph must be of the data type \token{IDREF}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20906}{The value of a \token{layout:\-metaidRef} 
of a \TextGlyph must be of the \token{metaid} of an existing 
element in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-20907}{The attribute \token{layout:\-originOfText} 
of a \TextGlyph must be of the data type \token{SIdRef}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{textglyph-class}.) }

\validRule{layout-20908}{The value of a \token{layout:\-originOfText} 
of a \TextGlyph must be of the \token{id} of an existing element in 
the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{textglyph-class}.) }

\validRule{layout-20909}{If both attributes \token{layout:\-originOfText} 
and \token{layout:\-metaidRef} are specified on a Text\-Glyph they 
have to reference the same element of the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{textglyph-class}.) }

\validRule{layout-20910}{The attribute \token{layout:\-graphicalObject} 
of a \TextGlyph must be of the data type \token{SIdRef}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{textglyph-class}.) }

\validRule{layout-20911}{The value of a \token{layout:\-graphicalObject} 
of a \TextGlyph must be of the \token{id} of an existing \GraphicalObject 
(or derived) element in the \LayoutClass. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{textglyph-class}.) }

\validRule{layout-20912}{The attribute \token{layout:\-text} of a \TextGlyph
must be of the data type \token{string}. (References: SBML Level~3
Package Specification for Layout, Version~1,
\sec{textglyph-class}.) }

\subsubsection*{Rules for the \class{SpeciesReferenceGlyph} object}

\validRule{layout-21001}{A \SpeciesReferenceGlyph object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \SpeciesReferenceGlyph.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21002}{A \SpeciesReferenceGlyph object may have the optional SBML
Level 3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\SpeciesReferenceGlyph. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21003}{A \SpeciesReferenceGlyph may have at most one instance of 
a \BoundingBox and \Curve object.  No other elements from the Layout namespace 
are permitted on a \SpeciesReferenceGlyph.
(References: SBML Level~3 Package Specification for Layout,  Version~1, 
\sec{speciesreferenceglyph-class}.) }

\validRule{layout-21004}{A \SpeciesReferenceGlyph object must have the required 
attributes \token{layout:\-id} and \token{layout:\-speciesGlyph} and may have 
the optional attribute \token{layout:\-metaidRef} or 
\token{layout:\-species\-Reference} and \token{layout:\-role}.  No other 
attributes from the SBML Level~3 Layout namespace are permitted on a 
\SpeciesReferenceGlyph object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{speciesreferenceglyph-class}.) }

\validRule{layout-21005}{The attribute \token{layout:\-metaidRef} of a 
\SpeciesReferenceGlyph must be of the data type \token{IDREF}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-21006}{The value of a \token{layout:\-metaidRef} 
of a \SpeciesReferenceGlyph must be of the \token{metaid} of an 
existing element in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-21007}{The attribute \token{layout:\-speciesReference} 
of a \SpeciesReferenceGlyph must be of the data type \token{SIdRef}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{speciesreferenceglyph-class}.) }

\validRule{layout-21008}{The value of a \token{layout:\-speciesReference} 
of a \SpeciesReferenceGlyph must be of the \token{id} of an existing 
\SpeciesReference in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{speciesreferenceglyph-class}.) }

\validRule{layout-21009}{If both attributes \token{layout:\-speciesReference} 
and \token{layout:\-metaidRef} are specified on a \\ \SpeciesReferenceGlyph 
they have to reference the same \SpeciesReference of the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{speciesreferenceglyph-class}.) }

\validRule{layout-21010}{The attribute \token{layout:\-speciesGlyph} 
of a \SpeciesReferenceGlyph must be of the data type \token{SIdRef}.
(References: SBML Level~3 Package Specification for Layout, 
Version~1, \\  \sec{speciesreferenceglyph-class}.) }

\validRule{layout-21011}{The value of a \token{layout:\-speciesGlyph} 
of a \SpeciesReferenceGlyph must be of the \token{id} of an existing 
\SpeciesGlyph in the \LayoutClass. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{speciesreferenceglyph-class}.) }

\validRule{layout-21012}{The attribute \token{layout:\-role} of a 
\SpeciesReferenceGlyph must be of the data type 
\token{Species\-Reference\-Role}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{speciesreferenceglyph-class}.) }

\validRule{layout-21013}{The value of a \token{layout:\-role} of a 
\SpeciesReferenceGlyph must be one of: \token{substrate}, \token{product},  
\token{sidesubstrate}, \token{sideproduct}, \token{modifier}, 
\token{activator}, \token{inhibitor} or \token{undefined}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{speciesreferenceglyph-class}.) }


\subsubsection*{Rules for the \class{ReferenceGlyph} object}

\validRule{layout-21101}{A \ReferenceGlyph object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \ReferenceGlyph.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21102}{A \ReferenceGlyph object may have the optional SBML
Level 3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\ReferenceGlyph. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21103}{There may be at most one instance of an \BoundingBox 
and \Curve object on a \ReferenceGlyph.  No other elements from the Layout 
namespace are permitted on a \ReferenceGlyph.
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{referenceglyph-class}.) }

\validRule{layout-21104}{A \ReferenceGlyph object must have the required 
attributes \token{layout:\-id} and \token{layout:\-glyph} and may have 
the optional attribute \token{layout:\-metaidRef} or \token{layout:\-reference} 
and \token{layout:\-role}.  No other attributes from the SBML Level~3 Layout 
namespace are permitted on a \ReferenceGlyph object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{referenceglyph-class}.) }

\validRule{layout-21105}{The attribute \token{layout:\-metaidRef} of a 
\ReferenceGlyph must be of the data type \token{IDREF}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-21106}{The value of a \token{layout:\-metaidRef} of a 
\ReferenceGlyph must be of the \token{metaid} of an existing element 
in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\validRule{layout-21107}{The attribute \token{layout:\-reference} 
of a \ReferenceGlyph must be of the data type \token{SIdRef}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{referenceglyph-class}.) }

\validRule{layout-21108}{The value of a \token{layout:\-reference} 
of a \ReferenceGlyph must be of the \token{id} of an existing element 
in the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{referenceglyph-class}.) }

\validRule{layout-21109}{If both attributes \token{layout:\-reference} 
and \token{layout:\-metaidRef} are specified on a \ReferenceGlyph they 
have to reference the same element of the \Model. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{referenceglyph-class}.) }

\validRule{layout-21110}{The attribute \token{layout:\-glyph} of a 
\ReferenceGlyph must be of the data type \token{SIdRef}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{referenceglyph-class}.) }

\validRule{layout-21111}{The value of a \token{layout:\-glyph} of 
a \ReferenceGlyph must be of the \token{id} of an existing 
\GraphicalObject (or derived) element in the \LayoutClass. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{referenceglyph-class}.) }

\validRule{layout-21112}{The attribute \token{layout:\-role} of 
a \ReferenceGlyph must be of the data type \token{string}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{referenceglyph-class}.) }

\subsubsection*{Rules for the \class{Point} class}

\validRule{layout-21201}{A \Point object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core or \LayoutClass namespace are permitted on a \Point.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21202}{A \Point object may have the optional SBML
Level 3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\Point. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21203}{A \Point object must have the required 
attributes \token{layout:\-x} and \token{layout:\-y} and may have 
the optional attributes \token{layout:\-id} and \token{layout:\-z}.  
No other attributes from the SBML Level~3 Layout namespace are 
permitted on a \Point object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{point-class}.) }

\validRule{layout-21204}{The attributes \token{layout:\-x}, \token{layout:\-y} 
and \token{layout:\-z} of a \Point element must be of the data 
type \token{double}. 
(References: SBML Level~3 Package Specification for  Layout, 
Version~1, \sec{point-class}.) }

\subsubsection*{Rules for the \class{BoundingBox} class}

\validRule{layout-21301}{A \BoundingBox object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \BoundingBox.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21302}{A \BoundingBox object may have the optional SBML
Level 3 Core attributes \token{metaid} and \\ \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\BoundingBox. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21303}{There must be exactly one instance of a \Point 
and a \Dimensions object on a \BoundingBox.  No other elements from 
the Layout namespace are permitted on a \BoundingBox.
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{boundingbox-class}.) }

\validRule{layout-21304}{A \BoundingBox object must have the optional 
attribute \token{layout:\-id}.  No other attributes from the SBML 
Level~3 Layout namespace are permitted on a \BoundingBox object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{boundingbox-class}.) }

\validRule{layout-21305}{If the \token{layout:\-z} attribute of a 
\Point element on a \BoundingBox is not specified, the attribute 
\token{layout:\-depth} of its \Dimensions object must also not 
be specified.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{graphicalobject-class}.) }

\subsubsection*{Rules for the \class{Curve} class}

\validRule{layout-21401}{A \Curve object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \Curve.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21402}{A \Curve object may have the optional SBML
Level 3 Core attributes \token{metaid} and \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\Curve. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21403}{There must be exactly one instance of a  
\ListOfCurveSegments object on a \Curve.  No other elements from the 
Layout namespace are permitted on a \Curve.
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{curve-class}.) }

\validRule{layout-21404}{A \ListOfCurveSegments object may have the optional
\token{meta\-id} and \token{sboTerm} defined by SBML Level~3 Core.  No
other attributes from the SBML Level~3 Core namespace or the
Layout namespace are permitted on a \ListOfCurveSegments object.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{listofcurvesegments-class}.) }
	
\validRule{layout-21405}{Apart from the general notes and annotation
subobjects permitted on all SBML objects, a \ListOfCurveSegments container
object may only contain \LineSegment and \CubicBezier objects.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{listofcurvesegments-class}.) }
	
\validRule{layout-21406}{The \ListOfCurveSegments container
object may not be empty.  
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{listofcurvesegments-class}.) }
	
\subsubsection*{Rules for the \class{LineSegment} class}

\validRule{layout-21501}{A \LineSegment object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \LineSegment.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21502}{A \LineSegment object may have the optional SBML
Level 3 Core attributes \token{metaid} and \\ \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\LineSegment. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21503}{A \LineSegment must specify the two \Point elements 
\token{start} and \token{end}. No other elements from the Layout namespace 
are permitted on a \LineSegment .
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{linesegment-class}.) }

\validRule{layout-21504}{A \LineSegment object must have the required 
attribute \token{xsi:\-type}.  No other attributes from the SBML Level~3 
Layout namespace are permitted on a \LineSegment object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{linesegment-class}.) }

\validRule{layout-21505}{The attribute \token{xsi:\-type} of a \LineSegment
must be of the data type \token{string}. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1, \sec{linesegment-class}.) }

\validRule{layout-21506}{The value of a \token{xsi:\-type} of a \LineSegment
must be \token{LineSegment}. (References: SBML Level~3
Package Specification for Layout, Version~1,
\sec{linesegment-class}.) }

\subsubsection*{Rules for the \class{CubicBezier} class}

\validRule{layout-21601}{A \CubicBezier object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core namespace are permitted on a \CubicBezier.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21602}{A \CubicBezier object may have the optional SBML
Level 3 Core attributes \token{metaid} and \\ \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\CubicBezier. (References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21603}{A \CubicBezier must specify the four \Point 
elements \token{start}, \token{basePoint1}, \token{basePoint2} and 
\token{end}. No other elements from the Layout namespace are 
permitted on a \CubicBezier .
(References: SBML Level~3 Package Specification for Layout,
Version~1, \sec{cubicbezier-class}.) }

\validRule{layout-21604}{A \CubicBezier object must have the required 
attribute \token{xsi:\-type}.  No other attributes from the SBML 
Level~3 Layout namespace are permitted on a \CubicBezier object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{cubicbezier-class}.) }

\validRule{layout-21605}{The attribute \token{xsi:\-type} of a \CubicBezier
must be of the data type \token{string}. (References: SBML Level~3
Package Specification for Layout, Version~1,
\sec{cubicbezier-class}.) }

\validRule{layout-21606}{The value of a \token{xsi:\-type} of a \CubicBezier
must be \token{CubicBezier}. (References: SBML Level~3
Package Specification for Layout, Version~1,
\sec{cubicbezier-class}.) }

\subsubsection*{Rules for the \class{Dimensions} class}

\validRule{layout-21701}{A \Dimensions object may have the optional SBML
Level 3 Core subobjects for notes and annotations. No other elements
from the SBML Level 3 Core or \LayoutClass namespace are permitted on a \Dimensions.
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21702}{A \Dimensions object may have the optional SBML
Level 3 Core attributes \token{metaid} and \\ \token{sboTerm}. No other
attributes from the SBML Level 3 Core namespace are permitted on a
\Dimensions. 
(References: SBML Level~3 Version~1 Core, Section~3.2.) }

\validRule{layout-21703}{A \Dimensions object must have the required 
attributes \token{layout:\-width} and \token{layout:\-height} and may 
have the optional attributes \token{layout:\-id} and 
\token{layout:\-depth}.  No other attributes from the SBML Level~3 
Layout namespace are permitted on a \Dimensions object. 
(References: SBML Level~3 Package Specification for Layout, 
Version~1,  \sec{dimensions-class}.) }

\validRule{layout-21704}{The attributes \token{layout:\-width}, 
\token{layout:\-height} and \token{layout:\-depth} of a \Dimensions 
object must be of the data type \token{double}. 
(References: SBML Level~3 Package Specification for Layout, Version~1,
\sec{dimensions-class}.) }

