% -*- TeX-master: "main"; fill-column: 72 -*-

\section{Examples}
\label{examples}

This section contains a variety of examples of SBML Level~3 Version~1
documents employing the Flux Balance Constraints package.

\subsection{\FBC syntax examples}

\paragraph{Encoding the \FluxBound}
As described in \ref{fluxbound-class} the flux bound represents a mathematical (in)equality of the form <\token{reaction}> <\token{operator}> <\token{value}>. In SBML Level~3 Version~1 with \FBC this is encoded as: 
%
\exampleFile{examples/ex_fb_fbc.txt}
%
This example illustrates two things: the encoding of $\infty$ and that care should be used when selecting inequalities such as \value{less} or \value{greater}. While mathematically there is a difference, this difference is only practically relevant when working with rational arithmetic (solvers).

\paragraph{Encoding the \Objective}
The \FBC allows for the definition of multiple `objective functions' with one being designated as active (see \ref{objective-class}) the following example illustrates this:
%
\exampleFile{examples/ex_objf_fbc.txt}
%
Note how both \Objective instances differ in \token{type} and each contains different set of \class{FluxObjectives}.


\subsection{Examples contrasting the current \SBML L2 encoding with L3 and \FBC}
These examples contrast some elements of an existing model, iJR904 from the \textsf{BiGG} Database encoded in the \textsf{COBRA} format \cite{ijr904, bigg, cobra} that have been translated into SBML Level~3 Version~1 using the \textsf{CBMPy} implementation of the \FBC package \cite{pysces, cbmpy} and \textsf{libSBML} experimental ver.~5.6.0 \cite{libsbml}.


\subsubsection*{Reaction definition and flux bounds}
\paragraph{Old \SBML Level 2 style reaction}
\exampleFile{examples/ex_reaction_bigg.txt}
\newpage
\paragraph{New \SBML Level 3 style reaction and flux bound}
Please note that in order to maintain all the annotation encoded in the \SBML L2 \Reaction \token{notes} an additional `KeyValueData' annotation is introduced. Note also how the `EC number' (see previous example) has been converted from a text annotation to a {MIRIAM} compliant one.
\exampleFile{examples/ex_reaction_l3.txt}
\exampleFile{examples/ex_fb_l3.txt}


\subsubsection*{Objective function definition}
\paragraph{Old style \SBML Level 2 objective}
\exampleFile{examples/ex_objf_bigg.txt}
\newpage
\paragraph{New \SBML Level 3 style objective}
\protect\exampleFile{examples/ex_objf_l3.txt}

