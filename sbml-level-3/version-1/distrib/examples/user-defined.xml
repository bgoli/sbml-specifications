<?xml version="1.0" encoding="UTF-8"?>
<sbml xmlns="http://www.sbml.org/sbml/level3/version1/core" level="3" version="1"
      xmlns:distrib="http://www.sbml.org/sbml/level3/version1/distrib/version1" 
      distrib:required="true">
  <!-- Code snippet. Not a valid model. -->
  <model id="UserDefined" name="User Defined Example" substanceUnits="item"
         timeUnits="second" volumeUnits="litre" extentUnits="item">
    <distrib:listOfDistributionsDefns>
	<distrib:explicitPDF distrib:id="mynormal" name="My Normal Distribution">
        <!-- Function defines a PDF using MathML. The implied behaviour is that
             A value will be sampled from the distribution described by this PDF -->
        <math xmlns="http://www.w3.org/1998/Math/MathML">
          <lambda>
            <bvar><ci>mu</ci></bvar>
            <bvar><ci>omega</ci></bvar> 
            <apply>
              <apply>
                <times />
                <apply>
                  <power />
                  <exponentiale />
                  <apply>
                    <times />
                    <apply>
                      <times />
                      <cn type='integer'>-1</cn>
                      <cn type='rational'>1<sep />2</cn>
                    </apply>
                    <apply>
                      <power />
                      <apply>
                        <times />
                        <apply>
                          <plus />
                          <ci>x</ci>
                          <apply>
                            <times />
                            <cn type='integer'>-1</cn>
                            <ci>mu</ci>
                          </apply>
                        </apply>
                        <apply>
                          <power />
                          <ci>sigma</ci>
                          <cn type='integer'>-1</cn>
                        </apply>
                      </apply>
                      <cn type='integer'>2</cn>
                    </apply>
                  </apply>
                </apply>
                <apply>
                  <power />
                  <apply>
                    <times />
                    <ci>omega</ci>
                    <apply>
                      <ci>sqrt</ci>
                      <apply>
                        <times />
                        <cn type='integer'>2</cn>
                        <pi/>
                      </apply>
                    </apply>
                  </apply>
                  <cn type='integer'>-1</cn>
                </apply>
              </apply>
            </apply>
          </lambda>
        </math>
	</distrib:explicitPDF>
    </distrib:listOfDistributionsDefns>
    <listOfParameters>
      <parameter id="V" constant="true">
	<distrib:ref idref="mynormal">
	  <distrib:arg idref="mu">
	    <distrib:varref idref="V"/>
	  </distrib:arg>
	  <distrib:arg idref="omega">
	    <distrib:varref idref="V_omega"/>
	  </distrib:arg>
	</distrib:ref>
      </parameter>
      <parameter id="V_pop" value="100" constant="true"/>
      <parameter id="V_omega" value="0.25" constant="true"/>
    </listOfParameters>
    <listOfInitialAssignments>
      <initialAssignment symbol="V">
	<math xmlns="http://www.w3.org/1998/Math/MathML"> 
	    <ci>V_pop</ci>
	</math>
	<distrib:ref idref="mynormal">
	  <distrib:arg idref="mu">
	    <distrib:varref idref="V_pop"/>
	  </distrib:arg>
	  <distrib:arg idref="omega">
	    <distrib:varref idref="V_omega"/>
	  </distrib:arg>
	</distrib:ref>
      </initialAssignment>
    </listOfInitialAssignments>
  </model>
</sbml>
