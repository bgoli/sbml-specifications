<?xml version="1.0" encoding="UTF-8"?>
<sbml xmlns="http://www.sbml.org/sbml/level3/version1/core" level="3" version="1"
      xmlns:distrib="http://www.sbml.org/sbml/level3/version1/distrib/version1" 
      distrib:required="true"
      xmlns:arrays="http://www.sbml.org/sbml/level3/version1/arrays/version1" 
      arrays:required="true">
  <!-- Code snippet. Not a valid model. -->
  <model id="UserDefined" name="User Defined Example" substanceUnits="item"
         timeUnits="second" volumeUnits="litre" extentUnits="item">
    <listOfFunctionDefinitions>
      <functionDefinition id="myDistribution"
	       distrib:function="http:///identifiers.org/Distribution/UserDefinedDiscrete">
	        <!-- below is a dummy function provided to ensure valid SBML Core
		     for software that do not understand distrib. -->
                <math xmlns="http://www.w3.org/1998/Math/MathML">
                    <lambda>
                        <bvar><ci>param1</ci></bvar>
		      <apply>
                        <ci>param1</ci>
		      </apply>
                    </lambda>
                </math>
      </functionDefinition>
      </listOfFunctionDefinitions>
      <listOfParameters>
        <parameter id="W" constant="true"/>
      <parameter id="outcomes" constant="true">
	<arrays:listOfDimensions>
	  <arrays:dimension id="i" lowerLimit="1" upperLimit="11" />
	  <arrays:dimension id="j" lowerLimit="1" upperLimit="11" />
	</arrays:listOfDimensions>
      </parameter>
      </listOfParameters>
      <listOfInitialAssignments>
        <initialAssignment symbol="W">
	<math xmlns="http://www.w3.org/1998/Math/MathML"
	      xmlns:sbml="http://www.sbml.org/sbml/level3/version1/core">
	  <apply>
	    <ci>myDistribution</ci>
	    <ci>outcomes</ci>
	  </apply>
	</math>  
	</initialAssignment>
	<initialAssignment symbol="outcomes">
	<math xmlns="http://www.w3.org/1998/Math/MathML"
	      xmlns:sbml="http://www.sbml.org/sbml/level3/version1/arraymaths/version1">
	  <!-- This is an unresolved issue. The l3 V1 Core mathml subset does not support
	       matrices. One solution - as above is to use a different MathML subset definition.
	       We may choose to use numml here too.
	  -->
	  <matrix>
	    <matrixrow>
	      <cn>2</cn>
	      <cn>3</cn>
	      <cn>4</cn>
	      <cn>5</cn>
	      <cn>6</cn>
	      <cn>7</cn>
	      <cn>8</cn>
	      <cn>9</cn>
	      <cn>10</cn>
	      <cn>11</cn>
	      <cn>12</cn>
	    </matrixrow>
	    <matrixrow>
	      <apply><divide/><cn>1</cn><cn>21</cn></apply>
	      <apply><divide/><cn>1</cn><cn>21</cn></apply>
	      <apply><divide/><cn>2</cn><cn>21</cn></apply>
	      <apply><divide/><cn>2</cn><cn>21</cn></apply>
	      <apply><divide/><cn>3</cn><cn>21</cn></apply>
	      <apply><divide/><cn>3</cn><cn>21</cn></apply>
	      <apply><divide/><cn>3</cn><cn>21</cn></apply>
	      <apply><divide/><cn>2</cn><cn>21</cn></apply>
	      <apply><divide/><cn>2</cn><cn>21</cn></apply>
	      <apply><divide/><cn>1</cn><cn>21</cn></apply>
	      <apply><divide/><cn>1</cn><cn>21</cn></apply>
	    </matrixrow>
	  </matrix>
	</math>
        </initialAssignment>
      </listOfInitialAssignments>
    </model>
  </sbml>
