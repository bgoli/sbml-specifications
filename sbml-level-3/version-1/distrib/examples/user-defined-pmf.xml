<?xml version="1.0" encoding="UTF-8"?>
<sbml xmlns="http://www.sbml.org/sbml/level3/version1/core" level="3" version="1"
      xmlns:distrib="http://www.sbml.org/sbml/level3/version1/distrib/version1" 
      distrib:required="true">
  <model id="UserDefined" name="User Defined Example">
    <listOfFunctionDefinitions>
      <functionDefinition id="myDistribution">
        <drawFromDistribution xmlns="http://www.sbml.org/sbml/level3/version1/distrib/version1">
          <listOfDistribInputs>
            <distribInput distrib:id="wt1" distrib:index="0"/>
            <distribInput distrib:id="wt2" distrib:index="1"/>
            <distribInput distrib:id="wt3" distrib:index="2"/>
          </listOfDistribInputs>
          <CategoricalDistribution xmlns="http://uncertml.org/3.0">
            <values>2 3 4</values>
            <probabilities> wt1 wt2 wt3 </probabilities>
          </CategoricalDistribution>
        </drawFromDistribution>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
          <lambda>
            <bvar><ci>wt1</ci></bvar>
            <bvar><ci>wt2</ci></bvar>
            <bvar><ci>wt3</ci></bvar>
            <cn>0</cn>
          </lambda>
        </math>
      </functionDefinition>
    </listOfFunctionDefinitions>
    <listOfParameters>
      <parameter id="W" constant="true"/>
      <parameter id="catProb" constant="true"/>
    </listOfParameters>
    <listOfInitialAssignments>
      <initialAssignment symbol="catProb">
        <math xmlns="http://www.w3.org/1998/Math/MathML">
          <apply><divide/><cn>33</cn><cn>36</cn></apply>
        </math>
      </initialAssignment>
      <initialAssignment symbol="W">
        <math xmlns="http://www.w3.org/1998/Math/MathML">
          <apply>
            <ci>myDistribution</ci>
            <!-- Defined mathematically as a fraction -->
            <apply><divide/><cn>1</cn><cn>36</cn></apply>
            <!-- Defined as decimal -->
            <cn>0.05555556</cn>
            <!-- Defined by a reference to a parameter or another variable -->
            <ci>catProb</ci>
          </apply>
        </math>  
      </initialAssignment>
    </listOfInitialAssignments>
  </model>
</sbml>
