<?xml version="1.0" encoding="UTF-8"?>
<sbml xmlns="http://www.sbml.org/sbml/level3/version1/core" level="3" version="1"
      xmlns:distrib="http://www.sbml.org/sbml/level3/version1/distrib/version1" 
      distrib:required="true"
      xmlns:arrays="http://www.sbml.org/sbml/level3/version1/arrays/version1" 
      arrays:required="true">
  <!-- Code snippet. Not a valid model. -->
  <model id="UserDefined" name="User Defined Example" substanceUnits="item"
         timeUnits="second" volumeUnits="litre" extentUnits="item">
    <listOfFunctionDefinitions>
      <functionDefinition id="myDistribution">
	<distrib:explicitPMF>
	  <math xmlns="http://www.w3.org/1998/Math/MathML"
		xmlns:sbml="http://www.sbml.org/sbml/level3/version1/arraymaths/version1">
	    <!-- This is an unresolved issue. The l3 V1 Core mathml subset does not support
		 matrices. One solution - as above is to use a different MathML subset definition.
		 We may choose to use numml here too.
	    -->
	    <matrix>
	      <matrixrow>
		<cn>2</cn>
		<cn>3</cn>
		<cn>4</cn>
		<cn>5</cn>
		<cn>6</cn>
		<cn>7</cn>
		<cn>8</cn>
		<cn>9</cn>
		<cn>10</cn>
		<cn>11</cn>
		<cn>12</cn>
	      </matrixrow>
	      <matrixrow>
		<apply><divide/><cn>1</cn><cn>36</cn></apply>
		<apply><divide/><cn>2</cn><cn>36</cn></apply>
		<apply><divide/><cn>3</cn><cn>36</cn></apply>
		<apply><divide/><cn>4</cn><cn>36</cn></apply>
		<apply><divide/><cn>5</cn><cn>36</cn></apply>
		<apply><divide/><cn>6</cn><cn>36</cn></apply>
		<apply><divide/><cn>5</cn><cn>36</cn></apply>
		<apply><divide/><cn>4</cn><cn>36</cn></apply>
		<apply><divide/><cn>3</cn><cn>36</cn></apply>
		<apply><divide/><cn>2</cn><cn>36</cn></apply>
		<apply><divide/><cn>1</cn><cn>36</cn></apply>
	      </matrixrow>
	    </matrix>
	  </math>
	</distrib:explicitPMF>
	<!-- below is a dummy function provided to ensure valid SBML Core
	     for software that do not understand distrib. -->
	<math xmlns="http://www.w3.org/1998/Math/MathML">
	  <lambda>
	    <apply>
	      <cn>0</cn>
	    </apply>
	  </lambda>
	</math>
      </functionDefinition>
    </listOfFunctionDefinitions>
    <listOfParameters>
      <parameter id="W" constant="true"/>
    </listOfParameters>
    <listOfInitialAssignments>
      <initialAssignment symbol="W">
	<math xmlns="http://www.w3.org/1998/Math/MathML"
	      xmlns:sbml="http://www.sbml.org/sbml/level3/version1/core">
	  <apply>
	    <ci>myDistribution</ci>
	  </apply>
	</math>  
      </initialAssignment>
    </listOfInitialAssignments>
  </model>
</sbml>
