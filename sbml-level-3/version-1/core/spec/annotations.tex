% -*- TeX-master: "sbml-level-3-version-1-core"; fill-column: 66 -*-
% $Id$
% $HeadURL$
% ----------------------------------------------------------------

\section{A standard format for the \token{annotation} element}
\label{sec:finney-novere}
\label{sec:annotation-standard}

This section describes the recommended non-proprietary format for
the content of \Annotation objects in SBML when (a) referring to
controlled vocabulary terms and database identifiers which define
and describe biological and biochemical entities, and (b)
describing the creator of a model and its modification history.
Such a structured format should facilitate the generation of
models compliant with the MIRIAM guidelines for model
curation~\citep{le_novere:2005}.

The format described in this section is intended to be the form of
one of the top-level elements that could reside in an \Annotation
object attached to an SBML object derived from \SBase.  The
element is named \token{rdf:RDF}.  The format described here is
compliant with the constraints placed on the form of annotation
elements described in Section~\ref{sec:annotation-use}.  We refer
readers to Section~\ref{sec:annotation-use} for important
information on the structure and organization of
application-specific annotations; these are not described here.

The annotations described in this section are optional on a model,
but if present, they must conform to the details specified here in
order to be considered valid annotations in this format.  If they
do not conform to the format described here, it does not render
the overall SBML model invalid, but the annotations are then
considered to be in a proprietary format rather than being
\emph{SBML MIRIAM annotations}.


\subsection{Motivation}

The SBML structures described elsewhere in this document do not
have any biochemical or biological semantics.  This section
provides a scheme for linking SBML structures to external
resources so that those structures can be given semantics.  The
motivation for the introduction of this scheme is similar to that
given for the introduction of \token{sboTerm}; however, the
general annotation scheme here is more flexible.

It is generally not recommended that this format be used to refer
to SBO terms.  In most cases, the SBO terms should be assigned
using the attribute \token{sboTerm} on objects derived from \SBase
(Section~\ref{sec:sboTerm}).  However in certain situations, for
instance to be able to add additional information about the
functional role of a species, it is necessary to add the
information using the annotation format described here.


\subsection{XML namespaces in the standard annotation}

This format uses a restricted form of Dublin
Core~\citep{DCMI:2003} and BioModels qualifier elements (see
\url{http://sbml.org/miriam/qualifiers/}) embedded in the XML form
of RDF~\citep{w3c:2004}.  The scheme defined here uses a number of
external XML standards and associated XML namespaces.
Table~\ref{tab:namespaces-for-standard-annotation} lists these
namespaces and relevant documentation on those namespaces.  The
format constrains the order of elements in these namespaces beyond
the constraints defined in the standard definitions for those
namespaces.  For each standard listed, the format only uses a
subset of the possible syntax defined by the given standard.
Thus, it is possible for an \token{annotation} element to include
XML that is compliant with those external standards but is not
compliant with the format described here.

\begin{table}[bh]
  \small
  \centering
  \begin{edtable}{tabular}{lll}
    \toprule
    \textbf{Prefix used in}\\
    \textbf{examples here} & \textbf{Namespace URI} & \textbf{Reference/description} \\
    \midrule
    \token{dc}      & \uri{http://purl.org/dc/elements/1.1/} & \cite{powell:2003}\\[3pt]
    \token{rdf}     & \uri{http://www.w3.org/1999/02/22-rdf-syntax-ns\#} & \cite{w3c:2004b} \\[3pt]
    \token{dcterms} & \uri{http://purl.org/dc/terms/} & \cite{kokkelink:2002},\\
                    &                                 & \cite{DCMIUB:2005} \\[3pt]
    \token{vcard}   & \uri{http://www.w3.org/2001/vcard-rdf/3.0\#} & \cite{iannella:2001} \\[3pt]
    \token{bqbiol}  & \uri{http://biomodels.net/biology-qualifiers/} & \url{http://sbml.org/miriam/qualifiers/} \\[3pt]
    \token{bqmodel} & \uri{http://biomodels.net/model-qualifiers/} & \url{http://sbml.org/miriam/qualifiers/} \\[3pt]
    \bottomrule
  \end{edtable}
  \vspace*{-0.95ex}
  \caption{The XML standards used in the SBML standard format for annotations.
    The namespace prefixes are only shown to indicate the prefix
    used in the main text; the prefixes are not required to be the
    specific strings shown here.}
  \label{tab:namespaces-for-standard-annotation}
\end{table}


% The default page break is too awkward here.
\clearpage

%=============================================================================
\subsection{General syntax for the standard annotation}
%=============================================================================

An outline of the format syntax is shown below.

\newcommand{\sbmlElementNS}    {\colorbox[gray]{.4}{\texttt{\color{white}{SBML\_ELEMENT}}}}
\newcommand{\sbmlElement}      {\sbmlElementNS\xspace}
\newcommand{\otherContentNS}   {\colorbox[rgb]{.82,.9,.82}{\texttt{+++}}}
\newcommand{\otherContent}     {\otherContentNS\xspace}
\newcommand{\otherContentTall} {{\setlength{\fboxsep}{3.5pt}{\scalefont{1.2}\otherContent}}}
\newcommand{\moreOfTheSameNS}  {\colorbox[rgb]{.95,.8,.8}{\texttt{...}}}
\newcommand{\moreOfTheSame}    {\moreOfTheSameNS\xspace}
\newcommand{\relationElementNS}{\texttt{\textsl{RELATION\_ELEMENT}}}
\newcommand{\relationElement}  {\relationElementNS\xspace}
\newcommand{\sbmlMetaNS}       {\underline{\texttt{SBML\_META\_ID}}}
\newcommand{\sbmlMeta}         {\sbmlMetaNS\xspace}
\newcommand{\historyNS}        {\colorbox[gray]{.7}{\texttt{[HISTORY]}}}
\newcommand{\history}          {\historyNS\xspace}
\newcommand{\resourceURINS}    {\colorbox[rgb]{.8,.8,1}{\underline{\texttt{URI}}}}
\newcommand{\resourceURI}      {\resourceURINS\xspace}

\vspace*{-1ex}
\begin{example}
<\sbmlElement \otherContentTall metaid="\sbmlMetaNS" \otherContentTall>
  \otherContent
  <annotation>
    \otherContent
    <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
             xmlns:dc="http://purl.org/dc/elements/1.1/"
             xmlns:dcterm="http://purl.org/dc/terms/"
             xmlns:vcard="http://www.w3.org/2001/vcard-rdf/3.0\#"
             xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
             xmlns:bqmodel="http://biomodels.net/model-qualifiers/" >\vspace*{0.5ex}
      <rdf:Description rdf:about="#\sbmlMetaNS">
        \history
        <\relationElementNS>
          <rdf:Bag>
            <rdf:li rdf:resource="\resourceURINS" />
            \moreOfTheSame
          </rdf:Bag>
        </\relationElementNS>
        \moreOfTheSame
      </rdf:Description>
      \otherContent
    </rdf:RDF>
    \otherContent
  </annotation>
  \otherContent
</\sbmlElementNS>
\end{example}
\vspace*{-1ex}

The outline above shows the expected order of the elements.  The
capitalized identifiers refer to generic strings of specific
types, as follows: \sbmlElement refers to any SBML element name
that can contain an \token{annotation} element; \sbmlMeta is an
XML \primtype{ID} string; \relationElement refers to element names
in either the namespace
{\scalefont{0.98}\uri{http://biomodels.net/biology-qualifiers/}}
or {\scalefont{0.98}\uri{http://biomodels.net/model-qualifiers/}}
(see Section~\ref{sec:qualified-dc-annotation}); \resourceURI is a
URI identifying a resource (see
Section~\ref{sec:uri-in-annotation}); and \history refers to
optional content described in
Section~\ref{sec:model-history-annotation}.  The string
`\otherContent' is a placeholder for either no content or valid
XML content that is not defined by the annotation scheme described
here but is consistent with the relevant standards for the
enclosing elements.  Finally, the string `\moreOfTheSame' is a
placeholder for zero or more elements of the same form as the
immediately preceding element.  The precise form of whitespace and
the XML namespace prefix definitions is not constrained; however,
the elements and attributes must be in the namespaces shown. The
rest of this section describes the format formally in English.

In this format, the annotation of an element is located in a
single \token{rdf:RDF} element contained within an SBML
\token{annotation} element. The annotation element can contain
other elements in any order as described in
Section~\ref{sec:annotation-use}.  The format described in this
section only defines the form of the \token{rdf:RDF} element. The
containing SBML \SBase element must have a \token{metaid}
attribute value (and note that, as this attribute is of XML type
\primtype{ID}, its value must be unique to the entire SBML
document).

The first element of the \token{rdf:RDF} element must be an
\token{rdf:Description} element with an \token{rdf:about}
attribute. The value of the
\token{rdf:about} attribute must be of the form
\texttt{\#<string>} where the string component is equal to the
value of the \token{metaid} attribute of the containing SBML element.
This format doesn't define the form of subsequent
subelements of the \token{rdf:RDF} element. In particular, the unique \token{rdf:RDF} element contained in the annotation can contain other \token{rdf:Description}, which content can be any valid RDF.

The \token{rdf:Description} element can contain only an optional
history section (see Section~\ref{sec:model-history-annotation})
followed by a sequence of zero or more BioModels relation
elements.  The specific type of the relation elements will vary
depending on the relationship between the SBML component and
referenced information or resource.  Although
Section~\ref{sec:qualified-dc-annotation} describes the detailed
semantics of each of the relation element types, the content of
these elements follows the same form.  The BioModels qualifiers
relation elements must only contain a single \token{rdf:Bag}
element which in turn must only contain one or more \token{rdf:li}
elements.  The \token{rdf:li} elements must only have a
\token{rdf:resource} attribute containing a URI referring to an
information resource (See Section~\ref{sec:uri-in-annotation}).

%Annotations in this format can be located at different depths
%within a model component.

%=============================================================================
\subsection{Use of URIs}
\label{sec:uri-in-annotation}
%=============================================================================

The format represents a set of relationships between SBML elements
and resources referred to by values of \token{rdf:resource}
attributes. The BioModels relation elements simply define the
relationship.

For example, a \Species object representing a protein could be
annotated with a reference to the database UniProt by the
\uri{urn:miriam:uniprot:P12999} resource identifier,
identifying exactly the protein described by the \Species object.
This identifier maps to a unique entry in UniProt which is never
deleted from the database. In the case of UniProt, this is the
``accession'' of the entry. When the entry is merged with another
one, both ``accession'' are conserved. Similarly in a controlled
vocabulary resource, each term is associated with a perennial
identifier. The UniProt entry also possess an ``entry name'' (the
Swiss-Prot ``identifier''), a ``protein name'', ``synonyms'' etc.
Only the ``accession'' is perennial and should be used.

The value of a \token{rdf:resource} attribute is a URI that both
uniquely identifies the resource, and the data in the resource. 
The value of the \token{rdf:resource} attribute is a URI, not a
URL; as such, a URI does not have to reference a physical web
object but simply identifies a controlled vocabulary term or
database object (a URI is a label). For instance, a true URL for an Internet
resource such as \uri{http://www.uniprot.org/entry/P12999} might
correspond to the URI \uri{urn:miriam:uniprot:P12999}.

SBML does not specify how a parser is to interpret a URI. In the
case of a transformation into a physical URL, there could be
several solutions. For example, the URI
\uri{urn:miriam:obo.go:GO\%3A0007268} can be translated into any
of the following:
\begin{itemize}\setlength{\parskip}{-0.7ex}

\item \uri{http://www.godatabase.org/cgi-bin/amigo/go.cgi?view=details\&query=GO:0007268}
\item \uri{http://www.informatics.jax.org/searches/GO.cgi?id=GO:0007268}

\end{itemize}\vspace*{-0.5ex}

Similarly the URI \uri{urn:miriam:ec-code:3.5.4.4} can refer to
any of the following (among many):
\begin{itemize}\setlength{\parskip}{-0.7ex}

\item \uri{http://www.chem.qmul.ac.uk/iubmb/enzyme/EC3/5/4/4.html}
\item \uri{http://www.genome.jp/dbget-bin/www\_bget?ec:3.5.4.4}
\item \uri{http://www.ebi.ac.uk/intenz/query?cmd=SearchEC\&ec=3.5.4.4}

\end{itemize}\vspace*{-1ex}

To enable interoperability, the community has agreed on an initial
set of standardized valid URI syntax rules which may be used
within the standard annotation format.  This set of rules is not
part of the SBML standard but will grow independently from
specific SBML Levels and Versions.  As the set changes, a given
URI syntax rule will not be modified, although the physical
resources associated with the rule may change.  These URIs will
always be composed as \token{resource:id}.  An up-to-date list and
explanation of the URIs is always available online at
\url{http://sbml.org/miriam/qualifiers}.  Each entry contains a
list of SBML and relation elements in which the given URI can be
appropriately embedded.  To enable consistent 
linking to external resources, the URI syntax rule set must have a
consistent view of the concepts represented by the different SBML
elements for the purposes of this format.  For example, as the
rule set is designed to link SBML biological and biochemical
resources, the rule set assumes that a \Species object represents
the concept of a biochemical entity type rather than mathematical
symbol.  The URI rule list will evolve with the evolution of
databases and resources.

Note this means that all \token{rdf:resource} \emph{must} be
MIRIAM URIs and thus cannot refer to, for example, other elements
in the model.  While it would be possible to place such
information in RDF content elsewhere (e.g., after the first
\token{rdf:Description} element), the information will be outside
the scope of the simple annotation scheme described here, and as
such, there is no guarantee that other software could understand
it.


%=============================================================================
\subsection{Relation elements}
\label{sec:qualified-dc-annotation}
%=============================================================================

Different BioModels qualifier elements encode different types of
relationships.  When appearing in an annotation, each qualifier
element encloses a set of \token{rdf:li} elements.  Its appearance
in a relation element implies a specific relationship between the
enclosing SBML object and the resources referenced by the
\token{rdf:li} elements.  The detailed semantics of each qualifier
is defined online at \url{http://sbml.org/miriam/qualifiers/}.
Generally, each qualifier is defined with the assumption that the
biological entity represented by a given SBML element is the
concept linked to the reference resource.

Several relation elements with a given tag, enclosed in the same
SBML element, each represent an alternative annotation to the SBML
element.  For example two \token{bqbiol:hasPart} elements within a
\Species object represent two different sets of references
to the parts making up the chemical entity represented by the
species.  (The species is not made up of all the entities
represented by all the references combined).

Table~\vref{tab:miriam-qualifiers} lists the elements defined at
the time of this writing.  The list is divided into two symbol
namespaces.  One is for model qualifiers, and this one has the URI
\uri{http://biomodels.net/model-qualifiers/} (for which we use the
prefix \token{bqmodel} in examples shown in this section).  The
other namespace is for biological qualifiers; this has the URI
\uri{http://biomodels.net/biology-qualifiers/} (for which we use
the prefix \token{bqbiol}).  The list will only grow; \ie no
element will be removed from the list.

\begin{table}[htb]
  \small
  \centering
  \setlength{\tabcolsep}{4pt}
  \begin{tabular}{lp{4.84in}}
    \toprule
    \textbf{Element} & \textbf{Meaning} \\
    \midrule
    \token{bqmodel:is}
    & The modeling object encoded by the SBML
    component is the subject of the referenced resource.  This
    might be used, e.g., to link the model to an entry in a
    model database.
    \\[6pt]
    \token{bqmodel:isDerivedFrom}
    & The modeling object
    represented by the component of the encoded model is derived
    from the modeling object represented by the referenced resource.
    For instance, they can be the fruit of a refinement or their
    adaptation for use in a different context.
    \\[6pt]
    \token{bqmodel:isDescribedBy}
    & The modeling object
    encoded by the SBML component is described by
    the referenced resource. This could link a component (e.g., a
    reaction) to a publication about it.
    \\[4pt]
    \midrule \\[-8pt]
    \token{bqbiol:is}
    & The biological entity represented by the
    SBML component is the subject of the referenced resource. This
    could serve to link a reaction to its counterpart in (e.g.) KEGG.
    \\[6pt]
    \token{bqbiol:hasPart}
    & The biological entity represented by
    the SBML component includes the subject of the referenced
    resource, either physically or logically. This relation might be
    used to link a complex to a description of its components.
    \\[6pt]
    \token{bqbiol:hasProperty}
    & The subject of the referenced
    resource is a property of the biological entity represented by
    the model component.  This relation might be used when a
    biological entity has a given activity or exerts a specific
    function.
    \\[6pt]
    \token{bqbiol:isPartOf}
    & The biological entity represented by
    the SBML component is a physical or logical part of the subject
    of the referenced resource. This relation might be used to link
    a component to the description of the complex it belongs to.
    \\[6pt]
    \token{bqbiol:isPropertyOf}
    & The biological entity
    represented by the SBML component is a property of the
    referenced resource.
    \\[6pt]
    \token{bqbiol:isVersionOf}
    & The biological entity represented
    by the SBML component is a version or an instance of the subject
    of the referenced resource.
    \\[6pt]
    \token{bqbiol:hasVersion}
    & The subject of the referenced
    resource is a version or an instance of the biological entity
    represented by the SBML component.
    \\[6pt]
    \token{bqbiol:isHomologTo}
    & The biological entity represented
    by the SBML component is homolog, to the subject of the
    referenced resource, i.e., they share a common ancestor.
    \\[6pt]
    \token{bqbiol:isDescribedBy}
    & The biological entity
    represented by the SBML component is described by the referenced
    resource.
    \\[6pt]
    \token{bqbiol:isEncodedBy}
    & The biological entity represented
    by the model component is encoded, either directly or by virtue
    of transitivity, by the subject of the referenced resource.
    \\[6pt]
    \token{bqbiol:encodes}
    & The biological entity represented by
    the model component encodes, either directly or by virtue of
    transitivity, the subject of the referenced resource.
    \\[6pt]
    \token{bqbiol:occursIn}
    & The biological entity represented by
    the model component takes place in the subject of the reference
    resource.
    \\[3pt]
    \bottomrule
  \end{tabular}
  \vspace*{-1ex}
  \caption{BioModels qualifiers at the time of this writing, and a
    summary of their meanings.  The complete list of the qualifier
    elements in the BioModels qualifier namespaces is documented
    online at \url{http://sbml.org/miriam/qualifiers/}. }
  \label{tab:miriam-qualifiers}
\end{table}


%===============================================================
\subsection{History}
\label{sec:model-history-annotation}
%================================================================

The format described in previous sections can include additional
elements to describe the history of the model or its individual
SBML components.  If this history data is present, it must occur
immediately before the first BioModels relation elements of an
SBML MIRIAM annotation.  These additional elements encode
information about the creator of the encoding and a sequence of
dates recording dates of creation and subsequent modifications.
The syntax for this section is outlined below.

\newcommand{\familyNameNS}  {\colorbox[gray]{.4}{\texttt{\color{white}{FAMILY\_NAME}}}}
\newcommand{\familyName}    {\familyNameNS\xspace}
\newcommand{\givenNameNS}   {\colorbox[gray]{.4}{\texttt{\color{white}{GIVEN\_NAME}}}}
\newcommand{\givenName}     {\givenNameNS\xspace}
\newcommand{\emailAddressNS}{\colorbox[gray]{.4}{\texttt{\color{white}{EMAIL\_ADDRESS}}}}
\newcommand{\emailAddress}  {\emailAddressNS\xspace}
\newcommand{\orgNameNS}     {\colorbox[gray]{.4}{\texttt{\color{white}{ORGANIZATION\_NAME}}}}
\newcommand{\orgName}       {\orgNameNS\xspace}
\newcommand{\creatorDateNS} {\colorbox[gray]{.4}{\texttt{\color{white}{DATE}}}}
\newcommand{\creatorDate}   {\creatorDateNS\xspace}

\vspace*{1ex}
\begin{example}
<dc:creator>
  <rdf:Bag>
    <rdf:li rdf:parseType="Resource">
\colorbox[gray]{.94}{\begin{minipage}{3.75in}\begin{example}
\otherContent
<vCard:N rdf:parseType="Resource">
  <vCard:Family>\familyNameNS</vCard:Family>
  <vCard:Given>\givenNameNS</vCard:Given>
</vCard:N>
\otherContent
[<vCard:EMAIL>\emailAddressNS</vCard:EMAIL>]
\otherContent
[<vCard:ORG rdf:parseType="Resource" >
  <vCard:Orgname>\orgNameNS</vCard:Orgname>
</vCard:ORG>]
\otherContent
\end{example}\end{minipage}}
    </rdf:li>
    \moreOfTheSame
  </rdf:Bag>
</dc:creator>
<dcterms:created rdf:parseType="Resource">
  <dcterms:W3CDTF>\creatorDateNS</dcterms:W3CDTF>
</dcterms:created>
<dcterms:modified rdf:parseType="Resource">
  <dcterms:W3CDTF>\creatorDateNS</dcterms:W3CDTF>
</dcterms:modified>
\moreOfTheSame
\end{example}
\vspace*{1ex}

The order of elements is as shown above, except that elements of
the format contained in the light gray box can occur
in any order.  The capitalized identifiers refer to generic
strings of a particular type: \familyName is the family
name of a person who created the model; \givenName is
the first name of the same person who created the model;
\emailAddress is the email address of the same person
who created the model; and \texttt{ORGANIZATION\_NAME} is the name
of the organization with which the same person who created the
model is affiliated \creatorDate is a date in W3C date
format~\citep{wolf:1998}. \texttt{W3CDTF}, \texttt{N},
\texttt{ORG} and \texttt{EMAIL} are literal strings. The elements
of the format contained between \texttt{[} and \texttt{]} are
optional. `\otherContent' is a placeholder for either no content or
valid XML syntax that is not defined by this scheme but is
consistent with the relevant standards for the enclosing elements.
Ellipses (`\moreOfTheSame') are placeholders for zero or more
elements of the same form as the immediately preceding element.
The precise form of whitespace and the XML namespace prefix
definitions is not constrained.  The remaining text in this
section describes the syntax formally in English.

The additional elements available in this history sub-format
consist of a sequence of a \token{dc:creator} element, a
\token{dcterms:created} element and zero or more
\token{dcterms:modified} elements.  The last two elements must
have the attribute \token{rdf:parseType} set to \texttt{Resource}.

The \token{dc:creator} element describes the person who created
the SBML encoding of the model or model component and contains a single
\token{rdf:Bag} element.  The \token{rdf:Bag} element can contain
any number of elements; however, the first element must be a
\token{rdf:li} element.  The \token{rdf:li} element can contain
any number of elements in any order.  The set of elements
contained with the \token{rdf:li} element can include the
following informative elements: \token{vCard:N},
\token{vCard:EMAIL} and \token{vCard:ORG}.  The \token{vCard:N}
contains the name of the creator and must consist of a sequence of
two elements: \token{vCard:Family} and the \token{vCard:Given}
whose content is the family (surname) and given (first) names of
the creator respectively.  The \token{vCard:N} must have the
attribute \token{rdf:parseType} set to \texttt{Resource}.  The
content of the \token{vCard:EMAIL} element must be the email
address of the creator.  The content of the \token{vCard:ORG}
element must contain a single \token{vCard:Orgname} element.  The
\token{vCard:Orgname} element must contain the name of an
organization to which the creator is affiliated.

The \token{dcterms:created} and \token{dcterms:modified} elements
must each contain a single \token{dcterms:W3CDTF} element whose
content is a date in W3C date format~\citep{wolf:1998} which is a
profile of (i.e., a restricted form of) ISO 8601.


%================================================================
\subsection{Examples}
%=================================================================

The following shows the annotation of a model with model creation
data and links to external resources:

\begin{example}
<model metaid="_180340" id="GMO" name="Goldbeter1991_MinMitOscil">
    <annotation>
        <rdf:RDF
                xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
                xmlns:dc="http://purl.org/dc/elements/1.1/"
                xmlns:dcterms="http://purl.org/dc/terms/"
                xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0\#"
                xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
                xmlns:bqmodel="http://biomodels.net/model-qualifiers/"
        >
            <rdf:Description rdf:about="#_180340">
                <dc:creator>
                    <rdf:Bag>
                        <rdf:li rdf:parseType="Resource">
                            <vCard:N rdf:parseType="Resource">
                                <vCard:Family>Shapiro</vCard:Family>
                                <vCard:Given>Bruce</vCard:Given>
                            </vCard:N>
                            <vCard:EMAIL>bshapiro@jpl.nasa.gov</vCard:EMAIL>
                            <vCard:ORG rdf:parseType="Resource">
                                <vCard:Orgname>NASA Jet Propulsion Laboratory</vCard:Orgname>
                            </vCard:ORG>
                        </rdf:li>
                    </rdf:Bag>
                </dc:creator>
                <dcterms:created rdf:parseType="Resource">
                    <dcterms:W3CDTF>2005-02-06T23:39:40+00:00</dcterms:W3CDTF>
                </dcterms:created>
                <dcterms:modified rdf:parseType="Resource">
                    <dcterms:W3CDTF>2005-09-13T13:24:56+00:00</dcterms:W3CDTF>
                </dcterms:modified>
                <bqmodel:is>
                    <rdf:Bag>
                        <rdf:li rdf:resource="urn:miriam:biomodels.db:BIOMD0000000003"/>
                    </rdf:Bag>
                </bqmodel:is>
                <bqmodel:isDescribedBy>
                     <rdf:Bag>
                         <rdf:li rdf:resource="urn:miriam:pubmed:1833774"/>
                     </rdf:Bag>
                </bqmodel:isDescribedBy>
                <bqbiol:isVersionOf>
                    <rdf:Bag>
                        <rdf:li rdf:resource="urn:miriam:kegg.pathway:hsa04110"/>
                        <rdf:li rdf:resource="urn:miriam:reactome:REACT_152"/>
                    </rdf:Bag>
                </bqbiol:isVersionOf>
            </rdf:Description>
        </rdf:RDF>
    </annotation>
</model>
\end{example}


The following example shows a \Reaction object annotated with a
reference to its exact Reactome counterpart.

\begin{example}
<reaction id="cdc2Phospho" metaid="jb007" reversible="true" fast="false">
  <annotation>
    <rdf:RDF
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
    >
      <rdf:Description rdf:about="#jb007">
        <bqbiol:is>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:reactome:REACT_6327"/>
          </rdf:Bag>
        </bqbiol:is>
      </rdf:Description>
    </rdf:RDF>
  </annotation>
  <listOfReactants>
    <speciesReference species="cdc2" stoichiometry="1"/>
  </listOfReactants>
  <listOfProducts>
    <speciesReference species="cdc2-Y15P" stoichiometry="1"/>
  </listOfProducts>
  <listOfModifiers>
    <modifierSpeciesReference species="wee1"/>
  </listOfModifiers>
</reaction>
\end{example}

The following example describes a species that represents a
complex between the protein calmodulin and calcium ions:

\begin{example}
<species id="Ca_calmodulin" metaid="cacam" compartment="C"
         hasOnlySubstanceUnits="false" boundaryCondition="false"
         constant="false">
  <annotation>
    <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
    >
      <rdf:Description rdf:about="\#cacam">
        <bqbiol:hasPart>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:uniprot:P62158"/>
            <rdf:li rdf:resource="urn:miriam:kegg.compound:C00076"/>
          </rdf:Bag>
        </bqbiol:hasPart>
      </rdf:Description>
    </rdf:RDF>
  </annotation>
</species>
\end{example}

The following example describes a species that represents either
``Calcium/calmodulin-dependent protein kinase type II alpha
chain'' or ``Calcium/calmodulin-dependent protein kinase type II
beta chain''. This is the case, for example, in the somatic
cytoplasm of striatal medium-size spiny neurons, where both are
present but they cannot be functionally differentiated.


\begin{example}
<species id="calcium_calmodulin" metaid="cacam" compartment="C"
         hasOnlySubstanceUnits="false" boundaryCondition="false"
         constant="false">
  <annotation>
    <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
    >
      <rdf:Description rdf:about="\#cacam">
        <bqbiol:hasVersion>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:uniprot:Q9UQM7"/>
            <rdf:li rdf:resource="urn:miriam:uniprot:Q13554"/>
          </rdf:Bag>
        </bqbiol:hasVersion>
      </rdf:Description>
    </rdf:RDF>
  </annotation>
</species>
\end{example}


The above approach should not be used to describe ``any
Calcium/calmodulin-dependent protein kinase type II chain'',
because such an annotation requires referencing the products of
other genes such as gamma or delta. All the known proteins could
be enumerated, but such an approach would almost surely lead to
inaccuracies because biological knowledge continues to evolve.
Instead, the annotation should refer to generic information such
as Ensembl family ENSF00000000194 ``CALCIUM/CALMODULIN DEPENDENT
KINASE TYPE II CHAIN'' or PIR superfamily PIRSF000594
``Calcium/calmodulin-dependent protein kinase type~II''.

%While with \texttt{HasVersion}, the described component could
%represent several alternative, with \texttt{isVersionOf} the
%described component is one of the alternative understated by the
%referenced resource.

The following two examples show how to use the qualifier
\token{isVersionOf}. The first example is the relationship
between a reaction and an EC code. An EC code describes an
enzymatic activity and an enzymatic reaction involving a
particular enzyme can be seen as an instance of this activity. For
example, the following reaction represents the phosphorylation of
a glutamate receptor by a complex calcium/calmodulin kinase II.

\begin{example}
<reaction id="NMDAR_phosphorylation" metaid="thx1138"
          reversible="true" fast="false">
  <annotation>
    <rdf:RDF
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
    >
      <rdf:Description rdf:about="#thx1138">
        <bqbiol:isVersionOf>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:ec-code:2.7.1.17"/>
          </rdf:Bag>
        </bqbiol:isVersionOf>
      </rdf:Description>
    </rdf:RDF>
  </annotation>
  <listOfReactants>
    <speciesReference species="NMDAR" stoichiometry="1"/>
  </listOfReactants>
  <listOfProducts>
    <speciesReference species="P-NMDAR" stoichiometry="1"/>
  </listOfProducts>
  <listOfModifiers>
    <modifierSpeciesReference species="CaMKII"/>
  </listOfModifiers>
  <kineticLaw>
    <math xmlns="http://www.w3.org/1998/Math/MathML">
      <apply>
        <times/>
        <ci>CaMKII</ci>
        <ci>kcat</ci>
        <apply>
          <divide/>
          <ci>NMDAR</ci>
          <apply> </times> <ci>NMDAR</ci> <ci>Km</ci> </apply>
        </apply>
      </apply>
    </math>
    <listOfLocalParameters>
      <localParameter id="kcat" value="1"/>
      <localParameter id="Km" value="5e-10"/>
    </listOfLocalParameters>
  </kineticLaw>
</reaction>
\end{example}

The second example of the use of \token{isVersionOf} is the
complex between Calcium/calmodulin-dependent protein kinase type
II alpha chain and Calcium/calmodulin, that is only one of the
``calcium- and calmodulin-dependent protein kinase complexes''
described by the Gene Ontology term GO:0005954.  (Note also how
the GO identifier is written---we return to this point below.)

\begin{example}
<species id="CaCaMKII" metaid="C8H10N4O2" compartment="C"
         hasOnlySubstanceUnits="false" boundaryCondition="false"
         constant="false">
  <annotation>
    <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
    >
      <rdf:Description rdf:about="\#C8H10N4O2">
        <bqbiol:isVersionOf>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:obo.go:GO\%3A0005954"/>
          </rdf:Bag>
        </bqbiol:isVersionOf>
      </rdf:Description>
    </rdf:RDF>
  </annotation>
</species>
\end{example}

In the example above, the URN for the GO term is written as
\token{GO\%3A0005954}, yet in reality, the actual GO identifier is
\token{GO:0005954}.  The reason for this rests in the definition
of RDF/XML and URNs.  The essential point is that the colon
character (\val{:}) is a reserved character representing the
component separator in URNs.  Thus, when an identifier contains a
colon character as part of it (as GO, ChEBI, and certain other
identifiers do), the colon characters must be percent-encoded.
The sequence \val{\%3A} is the percent-encoded form of \val{:}.
Applications must percent-encode \val{:} characters that appear in
entity identifiers (whether from ECO, ChEBI, GO, or other) when
writing them in MIRIAM URIs, and percent-decode the identifiers
when reading the URIs.  More examples of this appear throughout
the rest of this section.

The previous case is different from the following one, although they
could seem similar at first sight. The
``Calcium/calmodulin-dependent protein kinase type II alpha
chain'' is a part of the above mentioned ``calcium- and
calmodulin-dependent protein kinase complex''.

\begin{example}
<species id="CaMKIIalpha" metaid="C10H14N2" compartment="C"
         hasOnlySubstanceUnits="false" boundaryCondition="false"
         constant="false">
  <annotation>
    <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
    >
      <rdf:Description rdf:about="\#C10H14N2">
        <bqbiol:isPartOf>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:obo.go:GO\%3A0005954"/>
          </rdf:Bag>
        </bqbiol:isPartOf>
      </rdf:Description>
    </rdf:RDF>
  </annotation>
</species>
\end{example}

It is possible describe a component with several alternative sets
of qualified annotations. For example, the following species
represents a pool of  GMP, GDP and GTP. We annotate it with the
three corresponding KEGG compound identifiers but also with the
three corresponding ChEBI identifiers.  The two alternative
annotations are encoded in separate \token{hasVersion} qualifier
elements.

\begin{example}
<species id="GXP" metaid="GXP" compartment="C"
         hasOnlySubstanceUnits="false" boundaryCondition="false"
         constant="false">
  <annotation>
    <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
    >
      <rdf:Description rdf:about="\#GXP">
        <bqbiol:hasVersion>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:obo.chebi:CHEBI\%3A17345"/>
            <rdf:li rdf:resource="urn:miriam:obo.chebi:CHEBI\%3A17552"/>
            <rdf:li rdf:resource="urn:miriam:obo.chebi:CHEBI\%3A17627"/>
          </rdf:Bag>
        </bqbiol:hasVersion>
        <bqbiol:hasVersion>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:kegg.compound:C00035"/>
            <rdf:li rdf:resource="urn:miriam:kegg.compound:C00044"/>
            <rdf:li rdf:resource="urn:miriam:kegg.compound:C00144"/>
          </rdf:Bag>
        </bqbiol:hasVersion>
      </rdf:Description>
    </rdf:RDF>
  </annotation>
</species>
\end{example}

The following example presents a reaction being actually the
combination of three different elementary molecular reactions. We
annotate it with the three corresponding KEGG reactions, but also
with the three corresponding enzymatic activities.  Again the two
\token{hasPart} elements represent two alternative annotations.
The process represented by the \Reaction structure is
composed of three parts, and  not six parts.

\begin{example}
<reaction id="adenineProd" metaid="adeprod" reversible="true" fast="false">
  <annotation>
    <rdf:RDF
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
    >
      <rdf:Description rdf:about="\#adeprod">
        <bqbiol:hasPart>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:ec-code:2.5.1.22"/>
            <rdf:li rdf:resource="urn:miriam:ec-code:3.2.2.16"/>
            <rdf:li rdf:resource="urn:miriam:ec-code:4.1.1.50"/>
          </rdf:Bag>
        </bqbiol:hasPart>
        <bqbiol:hasPart>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:kegg.reaction:R00178"/>
            <rdf:li rdf:resource="urn:miriam:kegg.reaction:R01401"/>
            <rdf:li rdf:resource="urn:miriam:kegg.reaction:R02869"/>
          </rdf:Bag>
        </bqbiol:hasPart>
      </rdf:Description>
    </rdf:RDF>
  </annotation>
</reaction>
\end{example}

It is possible to mix different URIs in a given set. The
following example presents two alternative annotations of the human
hemoglobin, the first with ChEBI heme and the second with KEGG
heme.

\begin{example}
<species id="heme" metaid="heme" compartment="C"
         hasOnlySubstanceUnits="false" boundaryCondition="false"
         constant="false">
  <annotation>
    <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
    >
     <rdf:Description rdf:about="\#heme">
       <bqbiol:hasPart>
         <rdf:Bag>
           <rdf:li rdf:resource="urn:miriam:uniprot:P69905"/>
           <rdf:li rdf:resource="urn:miriam:uniprot:P68871"/>
           <rdf:li rdf:resource="urn:miriam:obo.chebi:CHEBI\%3A17627">
         </rdf:Bag>
       </bqbiol:hasPart>
       <bqbiol:hasPart>
         <rdf:Bag>
          <rdf:li rdf:resource="urn:miriam:uniprot:P69905"/>
           <rdf:li rdf:resource="urn:miriam:uniprot:P68871"/>
           <rdf:li rdf:resource="urn:miriam:kegg.compound:C00032"/>
         </rdf:Bag>
       </bqbiol:hasPart>
     </rdf:Description>
   </rdf:RDF>
  </annotation>
</species>
\end{example}

As formally defined above it is possible to use different
qualifiers in the same annotation element. The following
phosphorylation is annotated by its exact KEGG counterpart and by
the generic GO term ``phosphorylation''.

\begin{example}
<reaction id="phosphorylation" metaid="phosphorylation"
          reversible="true" fast="false">
  <annotation>
    <rdf:RDF
      xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns\#"
    >
      <rdf:Description rdf:about="\#phosphorylation">
        <bqbiol:is>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:kegg.reaction:R03313" />
          </rdf:Bag>
        </bqbiol:is>
        <bqbiol:isVersionOf>
          <rdf:Bag>
            <rdf:li rdf:resource="urn:miriam:obo.go:GO\%3A0016310" />
          </rdf:Bag>
        </bqbiol:isVersionOf>
      </rdf:Description>
    </rdf:RDF>
  </annotation>
</reaction>
\end{example}
