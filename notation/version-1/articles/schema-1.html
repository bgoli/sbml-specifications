<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html >
<head>
<title>XML Schema Part 1: Structures</title>
<link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-WD">
<style type="text/css">
                   code { font-family: monospace}
                   .termdef {color: rgb(133,0,033)}
                   PRE {MARGIN-LEFT: 0em}
                   dl.props {margin-bottom: 0em}   
                   div.stale {color:gray}
                   div.stale td {color:gray}
                   div.stale a:link {color:gray}
                   div.stale a:visited {color:gray}
                   div.stale a:active {color:gray}
                   div.stale span {color:gray}
                   p.stale {color:red}
                   p.element-syntax { border: solid thin;
                                      font-family: monospace}
                   div.constraint {
                      margin-left: 1em; 
                   }
                   table.constraintlist {
                      border:none; 
                      border-spacing:2
                      margin-left:1%;
                   }
                   td.clnumber {
                      vertical-align:top; }
                   table.schemaComp { margin-left: 2em; margin-right: 2em; }
                   table.restricts { margin-top: 1em; margin-bottom: 1em; }
                </style>
</head>
<body>
  <div class="head">
<a href="http://www.w3.org/"><img src="http://www.w3.org/Icons/WWW/w3c_home" alt="W3C" height="48" width="72"></a>
<h1>XML Schema Part 1: Structures</h1>
<h2>W3C Working Draft 7 April 2000</h2>
<dl>
<dt>This version:</dt>
<dd> <a href="http://www.w3.org/TR/2000/WD-xmlschema-1-20000407/">http://www.w3.org/TR/2000/WD-xmlschema-1-20000407/</a>
<br> (in <a href="http://www.w3.org/TR/2000/WD-xmlschema-1-20000407/structures.xml">XML</a> (with its own <a href="http://www.w3.org/TR/2000/WD-xmlschema-1-20000407/xmlspec-19990429.dtd">DTD</a>, <a href="http://www.w3.org/TR/2000/WD-xmlschema-1-20000407/xmlschema.xsl">XSL
stylesheet</a> (Nov REC version)) and <a href="http://www.w3.org/TR/2000/WD-xmlschema-1-20000407/structures.html">HTML</a>), with separate provision of the <a href="http://www.w3.org/1999/XMLSchema.xsd">schema</a> and <a href="http://www.w3.org/1999/XMLSchema.dtd">DTD</a> for schemas described herein.</dd>
<dt>Latest version:</dt>
<dd>
<a href="http://www.w3.org/TR/xmlschema-1/">http://www.w3.org/TR/xmlschema-1/</a>
<br>
 </dd>
<dt>Previous version:</dt>
<dd>
    <a href="http://www.w3.org/TR/2000/WD-xmlschema-1-20000225/">http://www.w3.org/TR/2000/WD-xmlschema-1-20000225/</a>
<br>
   </dd>
<dt>Editors:</dt>
<dd>
      
        Henry S. Thompson
         (University of Edinburgh) 
        <a href="mailto:ht@cogsci.ed.ac.uk">&lt;ht@cogsci.ed.ac.uk&gt;</a>
      <br>
     
      David Beech
       (Oracle Corp.) 
      <a href="mailto:dbeech@us.oracle.com">&lt;dbeech@us.oracle.com&gt;</a>
     <br>
     
      Murray Maloney
       (Commerce One) 
      <a href="mailto:murray@muzmo.com">&lt;murray@muzmo.com&gt;</a>
     <br>
     
      Noah Mendelsohn
       (Lotus Development Corporation) 
      <a href="mailto:Noah_Mendelsohn@lotus.com">&lt;Noah_Mendelsohn@lotus.com&gt;</a>
     <br>
    </dd>
</dl>
<p>
<small><A href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"> Copyright</A>
&copy;1999, 2000 <A href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></A><sup>&reg;</sup> (<A href="http://www.lcs.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></A>, <A href="http://www.inria.fr/"><abbr lang="fr" title="Institut National de Recherche en Informatique et Automatique">INRIA</abbr></A>, <A href="http://www.keio.ac.jp/">Keio</A>), All Rights Reserved. W3C <A href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</A>, <A href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</A>, <A href="http://www.w3.org/Consortium/Legal/copyright-documents-19990405">document use</A> and <A href="http://www.w3.org/Consortium/Legal/copyright-software-19980720">software licensing</A> rules
apply.</small>
</p>
<hr title="Separator for header">
</div>
<h2>
<a name="abstract">Abstract</a>
</h2>
          <p>
<i>XML Schema: Structures</i> specifies the XML Schema definition language,
          which offers facilities for describing the structure and constraining the contents
            of XML 1.0 documents. The schema language, which is itself represented in XML
            1.0, provides a superset of the capabilities found in XML 1.0 document type
            definitions (DTDs).  This specification depends on <i>XML Schema Part 2:
            Datatypes</i>.</p>
    <h2>
<a name="status">Status of this document</a>
</h2>
<p>This is the Last-Call public working draft of XML Schema 1.0,
issued by the <a href="http://www.w3.org/XML/Activity#schema-wg">XML 
Schema Working Group</a>, for review
by the public and by members and working groups of the World Wide Web
Consortium.  
</p>
<p>
This working draft incorporates all Working Group decisions through 
2000-04-06.  It has been reviewed by the XML Schema Working Group, and 
the Working Group has agreed to its publication as a Last Call draft.  
The Last Call period is expected to end 12 May 2000.  Following this 
Last Call for Review, the Working Group intends to submit this specification
for publication as a Candidate Recommendation.</p>
<p>
This schedule may vary, depending on the comments of the public and of
other W3C working groups on this draft.  Such comments are instrumental
in the WG's deliberations, and we encourage readers to review the draft
and to send comments to
<a href="mailto:www-xml-schema-comments@w3.org">www-xml-schema-comments@w3.org</a>.
An <a href="http://lists.w3.org/Archives/Public/www-xml-schema-comments/">archive 
of the comments received</a> is available.</p>
     <p>Although the Working Group does not anticipate further
changes to the functionality described here, this is still a working
draft, subject to change.  The present version should
be implemented only by those interested in providing a check on
its design or by those preparing for an implementation of the
Candidate Recommendation. <i>The Schema WG will
not allow early implementation to constrain its ability to make changes to this
specification prior to final release. </i>
</p>
      <p>A list of current W3C working drafts can be found at
        <a href="http://www.w3.org/TR/">http://www.w3.org/TR/</a>. They may be
        updated, replaced, or obsoleted by other documents at any time. It is
        inappropriate to use W3C Working Drafts as reference material or to cite them
        as other than "work in progress". </p>
    
  <h2>
<a name="contents">Table of contents</a>
</h2>1 <a href="#intro">Introduction</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;1.1 <a href="#intro-purpose">Purpose</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;1.2 <a href="#intro-relatedWork">Dependencies on Other Specifications</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;1.3 <a href="#intro-terminology">Documentation Conventions and Terminology</a>
<br>2 <a href="#concepts">Conceptual Framework</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;2.1 <a href="#section-Overview-of-XML-Schema">Overview of XML Schema</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;2.2 <a href="#concepts-data-model">XML Schema Abstract Data Model</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.1 <a href="#Type_Definition_Summary">Type Definition Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.1.1 <a href="#Type_Derivation">Type Definition Hierarchy</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.1.2 <a href="#Simple_Type_Definition">Simple Type Definition</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.1.3 <a href="#Complex_Type_Definition">Complex Type Definition</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.2 <a href="#Declarations_Summary">Declaration Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.2.1 <a href="#Element_Declaration">Element Declaration</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.2.2 <a href="#Element_Equivalence_Class">Element Equivalence Class</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.2.3 <a href="#Attribute_Declaration">Attribute Declaration</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.2.4 <a href="#Notation_Declaration">Notation Declaration</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.3 <a href="#Model_Group_Summary">Model Group Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.3.1 <a href="#Model_Group">Model Group</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.3.2 <a href="#Particle">Particle</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.3.3 <a href="#Wildcard">Wildcard</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.4 <a href="#Identity-constraint_Definition">Identity-constraint Definition Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.5 <a href="#Group_Definitions">Group Definition Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.5.1 <a href="#Model_Group_Definition">Model Group Definition</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.5.2 <a href="#Attribute_Group_Definition">Attribute Group Definition</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2.6 <a href="#Annotation">Annotation Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;2.3 <a href="#concepts-schemaConstraints">Constraints and Contributions</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;2.4 <a href="#concepts-conformance">Conformance</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;2.5 <a href="#concepts-nameSymbolSpaces">Names and Symbol Spaces</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;2.6 <a href="#Instance_Document_Constructions">Schema-Related Markup in
Documents Being Schema-Validated</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.6.1 <a href="#xsi:type">xsi:type</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.6.2 <a href="#xsi:null">xsi:null</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.6.3 <a href="#xsi:schemaLocation">xsi:schemaLocation, xsi:noNamespaceSchemaLocation</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;2.7 <a href="#web-representation">Representation of Schemas on the World Wide Web</a>
<br>3 <a href="#components">Schema Component Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.1 <a href="#Schema_details">Schema details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.2 <a href="#Attribute_Declaration_details">Attribute Declaration Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.3 <a href="#Element_Declaration_details">Element Declaration Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.4 <a href="#Complex_Type_Definition_details">Complex Type Definition Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.5 <a href="#Attribute_Group_Definition_details">Attribute Group Definition Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.6 <a href="#Model_Group_Definition_details">Model Group Definition Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.7 <a href="#Model_Group_details">Model Group Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.8 <a href="#Particle_details">Particle Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.9 <a href="#Wildcard_details">Wildcard Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.10 <a href="#Identity-constraint_Definition_details">Identity-constraint Definition Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.11 <a href="#Notation_Declaration_details">Notation Declaration Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.12 <a href="#Annotation_details">Annotation Details</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;3.13 <a href="#Simple_Type_Definition_details">(non-normative) Simple Type Definition Details</a>
<br>4 <a href="#declare">XML Representation of Schemas and Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;4.1 <a href="#declare-schema">XML Representations of Schemas</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;4.2 <a href="#refSchemaConstructs">References to Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.2.1 <a href="#section-References-to-Schema-Components-from-Elsewhere">References to Schema Components from Elsewhere</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;4.3 <a href="#declare-typesElementsAttributes">XML Representation of Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.1 <a href="#declare-attribute">XML Representation of Attribute Declaration Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.2 <a href="#declare-element">XML Representation of Element Declaration Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.3 <a href="#declare-type">XML Representation of Complex Type Definition Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.4 <a href="#declare-attributeGroup">XML Representation of Attribute Group Definition Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.5 <a href="#declare-namedModelGroup">XML Representation of Model Group Definition Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.6 <a href="#declare-contentModel">XML Representation of Model Group Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.7 <a href="#declare-openness">XML Representation of Wildcard Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.8 <a href="#declare-key">XML Representation of Identity-constraint Definition Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.9 <a href="#declare-notation">XML Representation of Notation Declaration Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.10 <a href="#declare-annotation">XML Representation of Annotation Schema Components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.11 <a href="#declare-datatype">(non-normative) XML Representation of Simple Type Definition Schema Components</a>
<br>5 <a href="#conformance-details">Schema Component Validity Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.1 <a href="#coss-attribute">Attribute Declaration Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.2 <a href="#coss-element">Element Declaration Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.3 <a href="#coss-identity-constraint">Identity-constraint Definition Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.4 <a href="#coss-attrGroup">Attribute Group Definition Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.5 <a href="#coss-wildcard">Wildcard Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.6 <a href="#coss-groupDef">Model Group Definition Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.7 <a href="#coss-modelGroup">Model Group Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.8 <a href="#coss-notation">Notation Declaration Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.9 <a href="#coss-annotation">Annotation Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.10 <a href="#coss-particle">Particle Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.11 <a href="#coss-ct">Complex Type Definition Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.12 <a href="#coss-st">Simple Type Definition Constraints</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;5.13 <a href="#coss-schema">Schema Constraints</a>
<br>6 <a href="#composition">Schema Access and Composition</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;6.1 <a href="#layer1">Layer 1: Summary of the schema-validation core </a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;6.2 <a href="#layer2">Layer 2: Schema definitions in XML</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.2.1 <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.2.2 <a href="#composition-schemaImport">References to schema components across namespaces</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;6.3 <a href="#composition-instances">Layer 3: Web-interoperability</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.3.1 <a href="#schema-repr">Standards for representation of schemas and retrieval of schema documents on the Web</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.3.2 <a href="#schema-loc">How schema definitions are located on the Web</a>
<br>7 <a href="#conformance">Validation Processing of schemas and documents</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;7.1 <a href="#conformance-schemaValidity">Errors in Schema Construction and Structure</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;7.2 <a href="#validation_outcome">Schema Validation of Documents</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;7.3 <a href="#conformance-missing">Missing Sub-components</a>
<br>&nbsp;&nbsp;&nbsp;&nbsp;7.4 <a href="#conformance-processorResponsibilities">Responsibilities of Schema-aware processors</a>
<br>
<h3>Appendices</h3>A <a href="#normative-schemaSchema">(normative) Schema for Schemas</a>
<br>B <a href="#normative-schemaDTD">(normative) DTD for Schemas</a>
<br>C <a href="#normative-glossary">Glossary (normative) *</a>
<br>D <a href="#normative-references">References (normative) *</a>
<br>E <a href="#non-ambig">(non-normative) Analysis of the Unique Particle Attribution constraint</a>
<br>F <a href="#acknowledgments">Acknowledgements (non-normative)</a>
<br>G <a href="#section-Tabulation-of-changes">Tabulation of changes</a>
<br>H <a href="#openIssues">Open Issues</a>
<br>
<hr>
    <div class="div1">
      <h2>
<a name="intro"></a>1 Introduction</h2>
      <p>This document sets out the structural part (<i>XML Schema: Structures</i>) of the XML Schema definition language.</p>
      <p>Chapter 2 presents a <a href="#concepts">Conceptual Framework (&sect;2)</a> for XML Schemas, including
        an introduction to the nature of XML Schemas and a formal specification
of the XML Schema abstract data model, along with
        other terminology used throughout this document. </p>
      <p>Chapter 3, <a href="#components">Schema Component Details (&sect;3)</a>, specifies the precise
semantics of each component of the abstract model.</p>
     <p>Chapter 4, <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>, presents the XML representation
that maps to the abstract model, in the form
of a DTD and XML Schema for an XML Schema document type, along with rules and
conventions for identifying the components needed for any particular
validation.</p>
     <p>Chapter 5 presents <a href="#conformance-details">Schema Component Validity Constraints (&sect;5)</a>, which provide
detailed constraints on the internal structure of each component of the
abstract model.</p>
      <p>Chapter 6 presents <a href="#composition">Schema Access and Composition (&sect;6)</a>, including the
connection between documents and schemas, the import and inclusion of declarations and definitions and
        the foundations of schema-validity.</p>
      <p>Chapter 7 discusses <a href="#conformance">Validation Processing of schemas and documents (&sect;7)</a>, including the
overall approach to schema-validation of documents, and responsibilities of schema-aware
        processors. </p>
      <p>The normative appendices include a <a href="#normative-schemaDTD">(normative) DTD for Schemas (&sect;B)</a>
        and a <a href="#normative-schemaSchema">(normative) Schema for Schemas (&sect;A)</a> for the transfer syntax, a <a href="#normative-glossary">Glossary (normative) * (&sect;C)</a> [not yet written] and
        <a href="#normative-references">References (normative) * (&sect;D)</a>.</p>
    <div class="div2">
      <h3>
<a name="intro-purpose"></a>1.1 Purpose</h3>
      <p>The purpose of <i>XML Schema: Structures</i> is to define the nature of XML schemas
and their component parts,
provide an inventory of XML markup
        constructs with which to represent schemas, and define the
application of schemas to XML documents. </p>
      <p>The purpose of an <i>XML Schema: Structures</i> schema is to define and describe a class of
        XML documents by using schema components to constrain and document the meaning,
        usage and relationships of their constituent parts: datatypes, elements and
        their content and attributes and their values. Schemas may also provide for the specification of additional
        document information, such as default values for attributes
and elements. Schemas have
facilities for self-documentation. Thus, <i>XML Schema: Structures</i> can be used to define, describe and catalogue XML
        vocabularies for classes of XML documents. </p>

     <p>Any application that consumes well-formed XML can use the <i>XML Schema: Structures</i>
        formalism to express syntactic, structural and value constraints applicable to
        its document instances. The <i>XML Schema: Structures</i> formalism allows a useful level of
        constraint checking to be described and validated for a wide spectrum of XML
        applications.  However, the language defined by this specification does not attempt to provide
        <i>all</i> the facilities that might be needed by <i>any</i>
        application. Some applications may require constraint capabilities not
        expressible in this language, and so may need to perform their own additional
        validations.</p>
    </div>
    <div class="div2">
    
      <h3>
<a name="intro-relatedWork"></a>1.2 Dependencies on Other Specifications</h3>
      <p>The definition of <i>XML Schema: Structures</i> depends on the following specifications:
      <a href="#ref-uri">[URI]</a>,
      <a href="#ref-xmlinfo">[XML-Infoset]</a>,
      <a href="#ref-xml-namespaces">[XML-Namespaces]</a>,
      <a href="#bib-xpath">[XPath]</a>, and
      <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.  If the XML Base proposal is adopted before we go to REC, we will
need to account for any changes it makes to the Infoset in the areas of
<a href="#gloss-QName">QName</a> interpretation and value space and
the interpretation of all aspects of schemas involving values identified as
being of type <code>uriReference</code>, including in particular
<code>xsi:schemaLocation</code>, <code>xsi:noNamespaceSchemaLocation</code> and <code>targetNamespace</code>.</p>
    </div>
    <div class="div2">
        <h3>
<a name="intro-terminology"></a>1.3 Documentation Conventions and Terminology</h3>
        <p>The following highlighting and typography is used to present technical material in
          this document: </p>
        <p>Special terms are defined at their point of
introduction in the text; hyperlinks connect other uses of the
term to the definition.  For example, a definition of
<a href="#key-sampledef">term</a> might read: <span class="termdef"><a name="key-sampledef">[Definition:]&nbsp;&nbsp;</a>A <b>term</b> is
          something we use a lot</span>.  The definition is labeled as such and the term is highlighted
typographically.  The end of the definition is not specially marked
in the displayed or printed text.</p>
          <p>Non-normative examples are set off
typographically and accompanied by a brief
explanation:</p>
        <blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
          <tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;schema
        targetNamespace="http://www.muzmo.com/XMLSchema/1.0/mySchema" &gt;</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
          <tr>
<td>And an explanation of the example.</td>
</tr>
      </tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
     <p>References to properties of information items as defined in <a href="#ref-xmlinfo">[XML-Infoset]</a> are notated as links to the relevant section thereof, set off with square brackets, for example <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>.</p>
      <p>The definition of each kind of schema component consists of a list of
      its properties and their contents, followed by descriptions of the
      semantics of the properties:</p>
        <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#intro-terminology">Example</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
   <dl class="props">
  <dt>
<a name="xmpl-prop">{example property}</a>
</dt>
<dd>
Definition of the property.
   </dd>
  </dl>
 </td>
</tr>
</tbody>
</table>
</blockquote>
     <p>References to properties of schema components are notated as links to
the relevant definition as exemplified above, set off with curly braces, for instance <a href="#xmpl-prop">{example property}</a>.</p>
      <p>The correspondence between an element information item which is part
of the XML representation of a schema and one or more schema components is presented in a tableau
which illustrates the element information item(s) involved,
followed by a tabulation of the correspondence between properties of the component
and properties of the information item.  Where context may determine which of
several different components may arise, several tabulations, one per component,
are given.  In the XML representation, bold-face
attribute names (e.g. <b>count</b> below) indicate a required
attribute information item, and the rest are
optional.  Where an attribute information item has an enumerated type
definition, the values are shown separated by vertical bars, as for
<code>size</code> below; if there is a default value, it is shown
following a colon.  The allowed content of the information item is
shown as a grammar fragment, using the Kleene operators <code>?</code>,
<code>*</code> and <code>+</code>.  The property correspondences are normative, but
the illustration of the XML representation element information items is not.</p>
<blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>example</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-example">&lt;example</a>
<br>&nbsp;&nbsp;<b>count</b> = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#integer">integer</a>
<br>&nbsp;&nbsp;size = <var>large</var> | <var>medium</var> | <var>small</var>&nbsp;:&nbsp;medium&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-example">child1</a> | <a href="#element-example">child2</a>*)<br>&lt;/example&gt;</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#intro-terminology">Example</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#xmpl-prop">{example property}</a></td><td>Description of what the property corresponds to, e.g. the value of the <code>size</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>

      <p>The following highlighting is used for non-normative commentary in
        this document:</p>
      <a name="dummy"></a>
<blockquote>
<b>Issue (dummy): </b>
        A recorded issue.
      </blockquote>

      <blockquote>
<p>
<b>Ed. Note: </b>
        Notes from the editors to themselves or the Working Group.
      </p>
</blockquote>

      <blockquote>
<b>NOTE: </b>
        General comments directed to all readers. 
      </blockquote>
    </div>
  </div>
  <div class="div1">
    <h2>
<a name="concepts"></a>2 Conceptual Framework</h2>
<p>This chapter gives an overview of <i>XML Schema: Structures</i> at the level of its abstract data model.  (<a href="#components">Schema Component Details (&sect;3)</a> provides details on this model, and subsequent
chapters define
a normative representation in XML for the components of the model.)
Readers interested primarily in learning to write schema documents may wish to first read <a href="#bib-expo">[XML Schema: Primer]</a>  and then consult <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>, using the sections below as a guide to the underlying formal structure of the schema language.</p>
   <div class="div2">
    <h3>
<a name="section-Overview-of-XML-Schema"></a>2.1 Overview of XML Schema</h3>
    <p>An XML Schema
consists of components such as type definitions
and element declarations.  These can be used to assess the validity of well-formed element information items (as defined
in <a href="#ref-xmlinfo">[XML-Infoset]</a>), and furthermore
may specify augmentations to those items and their descendants.  This augmentation makes explicit information which may have
been implicit in the original document, such as default values for
attributes and elements and
the types of element and attribute information items.</p>
    <p>The process of schema validation consists of determining
whether an element information item satisfies the constraints embodied in the
components of an XML Schema, and if so of
adding any appropriate augmentations.</p>
   </div>
   <div class="div2">
    <h3>
<a name="concepts-data-model"></a>2.2 XML Schema Abstract Data Model</h3>
    <p>This specification builds on <a href="#ref-xml">[XML]</a> and
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>.  The concepts and definitions used
herein regarding XML are framed at the abstract level of <a class="xtermref" href="http://www.w3.org/TR/1999/WD-xml-infoset-19991220#infoitem">information
items</a> as defined in <a href="#ref-xmlinfo">[XML-Infoset]</a>.  By
definition, this use of the infoset provides <i>a priori</i> guarantees of <a class="xtermref" href="http://www.w3.org/TR/REC-xml#sec-well-formed">well-formedness</a>
(as defined in <a href="#ref-xml">[XML]</a>) and <a class="xtermref" href="http://www.w3.org/TR/REC-xml-names/#Conformance">namespace
conformance</a> (as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>) for
all candidates for schema-validity and for all schema documents.</p>
    <p>Just as <a href="#ref-xml">[XML]</a> and
<a href="#ref-xml-namespaces">[XML-Namespaces]</a> can be described in terms of
information items, XML Schemas can be described in terms of an
abstract data model.  In defining XML Schemas in terms of an abstract
data model, this specification rigorously specifies the information which
must be available to a conforming XML Schema processor.  The abstract
model for schemas is conceptual only, and does not mandate any
particular implementation or representation of this information.  To
facilitate interoperation and sharing of schema information, a
normative interchange format for schemas is described in <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>
</p>
    
  <blockquote>
<b>NOTE: </b>
    We have not so far seen any need to reconstruct the XML 1.0 notion of
      <i>root</i>. For the connection from document instances to schemas, see
<a href="#composition-instances">Layer 3: Web-interoperability (&sect;6.3)</a> and <a href="#conformance-schemaValidity">Errors in Schema Construction and Structure (&sect;7.1)</a>.
  </blockquote>
<p>
<span class="termdef"><a name="key-component">[Definition:]&nbsp;&nbsp;</a> <b>Schema component</b> is the generic term for the building blocks that comprise the abstract data model of the schema.
</span>
<span class="termdef"><a name="key-schema">[Definition:]&nbsp;&nbsp;</a>
An <b>XML Schema</b> is a
set of <a href="#key-component">schema component</a>s.</span>  There are 12 kinds of
component in all, falling into three groups.  The primary components
are as follows.  They may have names, and (except for some element
declarations) may be independently accessed:</p>
<ul>
<li>Simple type definitions
</li>
<li>Complex type definitions</li>
<li>Attribute declarations</li>
 <li>Element declarations</li>
</ul>
<p>The secondary components are as follows. Like the primary
components, they may have names and be independently accessed:</p>
<ul>
<li>Attribute group definitions</li>
<li>Identity-constraint definitions</li>
<li>Model group definitions</li>
<li>Notation declarations</li>
</ul>
<p>Finally, the "helper" components provide small parts of
other components; they are not independent of their context and
cannot be independently accessed:</p>
<ul>
<li>Annotations</li>
<li>Model groups</li>
<li>Particles</li>
<li>Wildcards</li>
</ul>
     <p>During validation, <span class="termdef"><a name="key-declaration">[Definition:]&nbsp;&nbsp;</a><b>declaration</b> components are associated by
(qualified) name to information items being validated</span>.</p>
<p>On the other hand, <span class="termdef"><a name="key-definition">[Definition:]&nbsp;&nbsp;</a><b>definition</b> components define
internal schema components that can be used in other schema components.</span>
</p>
<p>
<span class="termdef"><a name="key-compName">[Definition:]&nbsp;&nbsp;</a>Declarations and
definitions may have and be identified by <b>name</b>s, which are NCNames as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a></span>.</p>

    <p>  <span class="termdef"><a name="key-targetNS">[Definition:]&nbsp;&nbsp;</a>Several kinds
of component have a <b>target namespace</b>, which is either
<a href="#key-null">absent</a> or a namespace URI, also as
defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a></span>.  The target
namespace serves to identify the namespace within which the
association between the component and its name exists.  In the case of
declarations, this in turn determines the namespace URI of, for example, the element
information items it may validate.</p>
    <blockquote>
<b>NOTE: </b>
     At the abstract level, there is
no requirement that the components of a schema share a
<a href="#key-targetNS">target namespace</a>.  Any schema for use in
schema-validation of documents containing names from more than one namespace
will of necessity include components with different <a href="#key-targetNS">target namespaces</a>.  This contrasts with
the situation at the level of the <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>, in which each schema document contributes
definitions and declarations to a single target namespace.
    </blockquote>
    <p>Schema-validity, defined in detail in <a href="#conformance">Validation Processing of schemas and documents (&sect;7)</a>, is a
relation between information items and schema components.  For example, an
attribute information item may be schema-valid with respect to an attribute
declaration, a list of element information items may be schema-valid with
respect to a content model, and so on.  The following sections briefly
introduce the kinds of components in the
schema abstract data model, other major features of the abstract model, and how they contribute to the overall definition of
schema-validity.  </p>

     <div class="div3">
<h4>
<a name="Type_Definition_Summary"></a>2.2.1 Type Definition Components</h4>
<p>The abstract model provides two kinds of type definition component: simple
and complex.</p>
<p>
<span class="termdef"><a name="key-typeDefn">[Definition:]&nbsp;&nbsp;</a>This specification uses
the phrase <b>type definition</b> in cases where no distinction
need be made between simple and complex types.</span>
</p>
<p>Type definitions form a hierarchy with a single root.  First we describe characteristics of that
hierarchy, then provide an introduction to simple and complex type definitions themselves.</p>
<div class="div4">
<h5>
<a name="Type_Derivation"></a>2.2.1.1 Type Definition Hierarchy</h5>
<p>
<span class="termdef"><a name="key-typeDefinitionHierarchy">[Definition:]&nbsp;&nbsp;</a>Except for a distinguished <a href="#key-urType">ur-type definition</a>, every <a href="#key-typeDefn">type definition</a> is, by construction, either a
<a href="#key-typeRestriction">restriction</a> or an <a href="#key-typeExtension">extension</a> of some other type definition.  The graph of these relationships forms a tree known as the <b>Type Definition Hierarchy</b>.</span>
</p>
<p>
<span class="termdef"><a name="key-typeRestriction">[Definition:]&nbsp;&nbsp;</a>A type
definition whose
declarations or facets are in a one-to-one relation with those of another
specified type
definition, with each in turn restricting the possibilities of the one it
corresponds to, is said to be a <b>restriction</b>.</span>
The specific restrictions might include narrowed ranges or reduced
alternatives.
Members of a type, A, whose definition is a <a href="#key-typeRestriction">restriction</a> of the definition of another type, B, are always members of type B as well.</p>
<p>
<span class="termdef"><a name="key-typeExtension">[Definition:]&nbsp;&nbsp;</a>A complex type definition
which allows element or attribute content in addition to that allowed by
another specified type
definition is said to be an <b>extension</b>.</span>
</p>
<p>
<span class="termdef"><a name="key-urType">[Definition:]&nbsp;&nbsp;</a>A distinguished <b>ur-type
definition</b> is present in each <a href="#key-schema">XML Schema</a>, serving as the root of the type
definition hierarchy for that schema.</span>  The ur-type definition has
the unique characteristic that it can function as a complex or a
simple type definition, according to context.
Specifically, <a href="#key-typeRestriction">restriction</a>s of the ur-type definition can
themselves be either simple or complex type definitions.
</p>
<p>
<span class="termdef"><a name="key-baseTypeDefinition">[Definition:]&nbsp;&nbsp;</a>A type definition used as the
basis for an <a href="#key-typeExtension">extension</a> or
<a href="#key-typeRestriction">restriction</a> is known as
the <b>base type definition</b> of that definition.</span>
</p>
</div>
<div class="div4">

     <h5>
<a name="Simple_Type_Definition"></a>2.2.1.2 Simple Type Definition</h5>
     <p>A simple type definition is a set of constraints on strings and information about the values they encode, applicable to the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of an attribute
information item or of an element information item with no element children.
Informally, it applies to attribute values and text-only content of elements.
</p>
     <p>Each simple type definition, whether built-in (that is, defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>) or
user-defined, is a <a href="#key-typeRestriction">restriction</a> of some particular
simple <a href="#key-baseTypeDefinition">base type
definition</a>, which can be the <a href="#key-urType">ur-type
definition</a>, or specifies a type whose members are lists of items
themselves constrained by some other simple type definition.</p>
     <p>For details on the composition and
schema-validation contributions of simple type definitions, see <a href="#Simple_Type_Definition_details">(non-normative) Simple Type Definition Details (&sect;3.13)</a> and <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.  The latter also defines an extensive inventory of
pre-defined simple types.  See <a href="#declare-datatype">(non-normative) XML Representation of Simple Type Definition Schema Components (&sect;4.3.11)</a> for the XML representation of
simple type definitions, and <a href="#coss-st">Simple Type Definition Constraints (&sect;5.12)</a> for constraints on simple
type definition components as such.</p>
</div>
<div class="div4">
<h5>
<a name="Complex_Type_Definition"></a>2.2.1.3 Complex Type Definition</h5>
<p>A complex type definition is a set of attribute declarations and a content type, applicable to the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> and
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of an element information item respectively.  The content type may
require the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> to contain neither element nor character information
items, to be a string which is schema-valid with respect to particular simple
type or to contain a sequence of element information items which is schema-valid with respect to a particular model group, with or without character information items as well.</p>
     <p>Each complex type definition is either
      </p>
<ul>
       <li>
        A restriction of a complex <a href="#key-baseTypeDefinition">base
type definition</a>
       </li>
      </ul>
<p>
      or
      </p>
<ul>
<li>
an <a href="#key-typeExtension">extension</a> of a simple or complex <a href="#key-baseTypeDefinition">base
type definition</a>
</li>
</ul>
<p>
      or
      </p>
<ul>
       <li>
A <a href="#key-typeRestriction">restriction</a> of the
<a href="#key-urType">ur-type definition</a>.
</li>
      </ul>
<p>
</p>
<p> A
complex type which extends another does so by having additional content model
particles at the end of the other definition's content model,
or by having additional attribute declarations, or both.
  </p>
<blockquote>
<b>NOTE: </b>
   This specification allows only appending, and not other kinds of
extensions. This decision
simplifies application processing required to cast instances from derived to
base type.  Future versions may allow more kinds of extension, requiring more
complex transformations to effect casting.
  </blockquote>
     <p>
See <a href="#Complex_Type_Definition_details">Complex Type Definition Details (&sect;3.4)</a> for the composition and
schema-validation contributions of complex type definition schema components, <a href="#declare-type">XML Representation of Complex Type Definition Schema Components (&sect;4.3.3)</a> for the XML representation of
complex type definitions and <a href="#coss-ct">Complex Type Definition Constraints (&sect;5.11)</a> for constraints on complex
type definition components as such.</p>
</div>
</div>

     <div class="div3">
<h4>
<a name="Declarations_Summary"></a>2.2.2 Declaration Components</h4>
<p>There are three kinds of declaration component: element, attribute, and
notation.  Each described in a section below. Also included is a discussion of element equivalence
classes, which is a feature provided in conjunction with element declarations.  </p>
<div class="div4">
<h5>
<a name="Element_Declaration"></a>2.2.2.1 Element Declaration</h5>
<p>An element declaration is an association of a name with a type definition, either simple or
complex, an (optional) default value and a set of identity-constraint
definitions.  The association is either global or scoped to a containing complex type definition.  A
global element declaration with name 'A' is broadly comparable to a pair of
DTD declarations as follows, where the associated type definition
fills in the ellipsis:</p>
<pre>&lt;!ELEMENT A . . .&gt;
&lt;!ATTLIST A . . .&gt;
</pre>
<p>Element declarations contribute to
schema-validity as part of model group validation, when their defaults and type components are checked against an element
information item with a matching name and namespace, and by triggering
identity-constraint definition validation.</p>
     <p>
See <a href="#Element_Declaration_details">Element Declaration Details (&sect;3.3)</a> for the composition and
schema-validation contributions of element declaration schema components, <a href="#declare-element">XML Representation of Element Declaration Schema Components (&sect;4.3.2)</a> for the XML representation of
element declarations and <a href="#coss-element">Element Declaration Constraints (&sect;5.2)</a> for constraints on
element declaration components as such.</p>
</div>
<div class="div4">
<h5>
<a name="Element_Equivalence_Class"></a>2.2.2.2 Element Equivalence Class</h5>
<p>In XML 1.0, the name and content of an element must correspond exactly to the element type referenced in the corresponding content model.</p>
<p>
<span class="termdef"><a name="key-equivalenceClass">[Definition:]&nbsp;&nbsp;</a>Through the new mechanism of <b>element equivalence classes</b>, XML Schemas provides a more powerful model supporting substitution of one named element for another.</span>
Any global element declaration can serve as the defining element, or
exemplar, for an element equivalence class.  Other global element declarations, regardless of target namespace, can be designated as members of the class defined by the exemplar.  In a suitably enabled content model, a reference to the exemplar validates not just the exemplar itself, but elements corresponding to any member of the equivalence class as well.
</p>
<p>All such members must have type definitions which are either the same as the
exemplar's type definition or
restrictions or extensions of it.
Therefore, although the names of elements can vary widely as new
namespaces and members of the equivalence class are defined, the
content of member elements is strictly limited according to the type
definition of the equivalence class exemplar.</p>
<p>Note that element equivalence classes are not represented as separate components.  They are
specified in the property values for element declarations (see <a href="#Element_Declaration">Element Declaration (&sect;2.2.2.1)</a>).</p>
</div>
<div class="div4">
<h5>
<a name="Attribute_Declaration"></a>2.2.2.3 Attribute Declaration</h5>
<p>An attribute declaration is an association between a name and a simple type definition, together
with occurrence information and (optionally) a default value. The
association is either global, or local to its containing complex type definition.  Attribute declarations contribute to
schema-validity as part of complex type definition validation, when their
occurrence, defaults and type components are checked against an attribute
information item with a matching name and namespace.</p>
     <p>
See <a href="#Attribute_Declaration_details">Attribute Declaration Details (&sect;3.2)</a> for the composition and
schema validation contributions of attribute declaration schema components, <a href="#declare-attribute">XML Representation of Attribute Declaration Schema Components (&sect;4.3.1)</a> for the XML representation of
attribute declarations and <a href="#coss-attribute">Attribute Declaration Constraints (&sect;5.1)</a> for constraints on
attribute declaration components as such.</p>
</div>
<div class="div4">
<h5>
<a name="Notation_Declaration"></a>2.2.2.4 Notation Declaration</h5>
<p>A notation declaration is an association between a name and an identifier for a
notation.  For an attribute information item to be schema-valid with respect to a
<code>NOTATION</code> simple type definition, its value must have been declared
with a notation declaration.</p>
     <p>
See <a href="#Notation_Declaration_details">Notation Declaration Details (&sect;3.11)</a> for the composition and
schema validation contributions of notation declaration schema components, <a href="#declare-notation">XML Representation of Notation Declaration Schema Components (&sect;4.3.9)</a> for the XML representation of
notation declarations and <a href="#coss-notation">Notation Declaration Constraints (&sect;5.8)</a> for constraints on
notation declaration components as such.</p>
</div>
</div>

     <div class="div3">
<h4>
<a name="Model_Group_Summary"></a>2.2.3 Model Group Components</h4>
<p>The model group, particle, and wildcard components contribute to
the portion of a complex type definition that controls an element
information item's content type.</p>
<div class="div4">
<h5>
<a name="Model_Group"></a>2.2.3.1 Model Group</h5>
<p>A model group is a constraint in the form of a grammar fragment that applies to
lists of element information items.  It consists of a list of particles, i.e.
element declarations, wildcards and model groups.  There are three varieties of
model group:</p>
<ul>
<li>Sequence (the element information items
match the particles in sequential order)</li>
<li>Conjunction (the element information items match the
particles, in any order)</li>
<li>Disjunction (the element information items match
one of the particles)</li>
</ul>
     <p>
See <a href="#Model_Group_details">Model Group Details (&sect;3.7)</a> for the composition and
schema-validation contributions of model group schema components, <a href="#Complex_Type_Definition_details">Complex Type Definition Details (&sect;3.4)</a> for the use of model groups as content models, <a href="#declare-contentModel">XML Representation of Model Group Schema Components (&sect;4.3.6)</a> for the XML representation of
model groups and <a href="#coss-modelGroup">Model Group Constraints (&sect;5.7)</a> for constraints
on model group components as such.</p>
</div>
<div class="div4">
<h5>
<a name="Particle"></a>2.2.3.2 Particle</h5>
<p>A particle is a term in the grammar for element content, consisting of either an element
declaration, a wildcard or a model group, together with
occurrence constraints.  Particles contribute to
schema-validity as part of complex type validation, when they allow anywhere
from zero to many element information items or sequences thereof, depending on
their contents and occurrence
constraints.</p>
      <p>
<span class="termdef"><a name="key-contentModel">[Definition:]&nbsp;&nbsp;</a>A particle can
be used in a complex type definition to express a validity
constraint on the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of an element information item; such a particle is called
a <b>content model</b></span>.
</p>
<blockquote>
<b>NOTE: </b>
<i>XML Schema: Structures</i> <a href="#key-contentModel">content model</a>s are similar to but more expressive than
<a href="#ref-xml">[XML]</a> content models; unlike <a href="#ref-xml">[XML]</a>, <i>XML Schema: Structures</i> applies <a href="#key-contentModel">content model</a>s to the validation of both mixed and element-only content. 
</blockquote>
     <p>
See <a href="#Particle_details">Particle Details (&sect;3.8)</a> for the composition and
schema-validation contributions of particle schema components, <a href="#declare-contentModel">XML Representation of Model Group Schema Components (&sect;4.3.6)</a> for the XML representation of
particles and <a href="#coss-particle">Particle Constraints (&sect;5.10)</a> for constraints
on particle components as such.</p>
</div>
<div class="div4">
<h5>
<a name="Wildcard"></a>2.2.3.3 Wildcard</h5>
<p>A wildcard is a special kind of particle which matches element and attribute information items dependent on their namespace URI, independently
of their local names.</p>
     <p>
See <a href="#Wildcard_details">Wildcard Details (&sect;3.9)</a> for the composition and
schema-validation contributions of wildcard schema components, <a href="#declare-openness">XML Representation of Wildcard Schema Components (&sect;4.3.7)</a> for the XML representation of
wildcards and <a href="#coss-wildcard">Wildcard Constraints (&sect;5.5)</a> for constraints
on wildcard components as such.</p>
</div>
</div>

     <div class="div3">
<h4>
<a name="Identity-constraint_Definition"></a>2.2.4 Identity-constraint Definition Components</h4>
<p>A identity-constraint definition is an association between a name and one of
several varieties of
identity-constraint related to uniqueness and reference.  All the
varieties use <a href="#bib-xpath">[XPath]</a> expressions to pick out sets of
information items relative to particular target element
information items which are unique, or a key, or a valid reference, within
a specified scope. An element information item is only schema-valid with
respect to an element declaration
with identity-constraint definitions if those definitions are all satisfied for all the descendants
of that element information item which they pick out.</p>
     <p>
See <a href="#Identity-constraint_Definition_details">Identity-constraint Definition Details (&sect;3.10)</a> for the composition and
schema-validation contributions of identity-constraint definition schema components, <a href="#declare-key">XML Representation of Identity-constraint Definition Schema Components (&sect;4.3.8)</a> for the XML representation of
identity-constraint definitions and <a href="#coss-identity-constraint">Identity-constraint Definition Constraints (&sect;5.3)</a> for constraints
on identity-constraint definition components as such.</p>
    </div>
<div class="div3">
<h4>
<a name="Group_Definitions"></a>2.2.5 Group Definition Components</h4>
<p>There are two kinds of convenience definitions available for use
in reusing pieces of complex type definitions: model group definitions
and attribute group definitions.</p>
<div class="div4">
<h5>
<a name="Model_Group_Definition"></a>2.2.5.1 Model Group Definition</h5>
<p>A model group definition is an association between a name and a model group,
for use in reusing the same model group in several complex type
definitions.</p>
     <p>
See <a href="#Model_Group_Definition_details">Model Group Definition Details (&sect;3.6)</a> for the composition and
schema validation contributions of model group definition schema components, <a href="#declare-namedModelGroup">XML Representation of Model Group Definition Schema Components (&sect;4.3.5)</a> for the XML representation of
model group definitions and <a href="#coss-groupDef">Model Group Definition Constraints (&sect;5.6)</a> for constraints
on model group definition components as such.</p>
</div>
<div class="div4">
<h5>
<a name="Attribute_Group_Definition"></a>2.2.5.2 Attribute Group Definition</h5>
<p>An attribute group definition is an association between a name and a set of attribute declarations,
for use in reusing the same set in several complex type
definitions.</p>
     <p>
See <a href="#Attribute_Group_Definition_details">Attribute Group Definition Details (&sect;3.5)</a> for the composition and
schema-validation contributions of attribute group definition schema components, <a href="#declare-attributeGroup">XML Representation of Attribute Group Definition Schema Components (&sect;4.3.4)</a> for the XML representation of
attribute group definitions and <a href="#coss-attrGroup">Attribute Group Definition Constraints (&sect;5.4)</a> for constraints
on attribute group definition components as such.</p>
</div>
</div>
    <div class="div3">
     <h4>
<a name="Annotation"></a>2.2.6 Annotation Components</h4>
     <p>An annotation is information for human and/or mechanical
consumers. The interpretation of such information is
not defined in this specification.</p>
     <p>
See <a href="#Annotation_details">Annotation Details (&sect;3.12)</a> for the composition and
schema-validation contributions of annotation schema components, <a href="#declare-annotation">XML Representation of Annotation Schema Components (&sect;4.3.10)</a> for the XML representation of
annotations and <a href="#coss-annotation">Annotation Constraints (&sect;5.9)</a> for constraints
on annotation components as such.</p>

     </div>
   </div>
    <div class="div2">
      <h3>
<a name="concepts-schemaConstraints"></a>2.3 Constraints and Contributions</h3>
      <p>The <a href="#ref-xml">[XML]</a> specification describes two kinds of
        constraints on XML documents: <i>well-formedness</i> and
        <i>validity</i> constraints. Informally, the well-formedness constraints
        are those imposed by the definition of XML itself (such as the rules for the
        use of the &lt; and &gt; characters and the rules for proper nesting of
        elements), while validity constraints are the further constraints on document
        structure provided by a particular DTD. </p>
      <p>The preceding section focussed on schema-validity, that is
the constraints on information items which schema components supply.  In fact
however this specification provides four different kinds of normative statements about schema
        components, their representations in XML and their contribution to the
schema-validation of information items:</p>
      <dl>
        
          <dt>
<b><span class="termdef"><a name="gloss-cos">[Definition:]&nbsp;&nbsp;</a><b>Constraint on Schemas</b></span>
          </b>
</dt>
          <dd>
            Constraints on the schema components themselves, i.e.
conditions components must satisfy to be components at all.  Largely to be
found in <a href="#conformance-details">Schema Component Validity Constraints (&sect;5)</a>.
          </dd>
        
       
        <dt>
<b><span class="termdef"><a name="gloss-src">[Definition:]&nbsp;&nbsp;</a><b>Schema Representation Constraint</b></span></b>
</dt>
        <dd>
         Constraints on the
representation of schema components in XML.  Some but not all of these are expressed in <a href="#normative-schemaDTD">(normative) DTD for Schemas (&sect;B)</a> and <a href="#normative-schemaSchema">(normative) Schema for Schemas (&sect;A)</a>.  Largely to be
found in <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>.
        </dd>
       
        
          <dt>
<b><span class="termdef"><a name="gloss-cvc">[Definition:]&nbsp;&nbsp;</a><b>Validity Contribution</b></span> </b>
</dt>
          <dd>
            Constraints expressed by schema components which information
items must satisfy to
              be schema-valid.  Largely to be
found in <a href="#components">Schema Component Details (&sect;3)</a>.
          </dd>
        
      </dl>
     <p>The definition of the above constraints sometimes involves many
clauses, some as alternatives, some as joint requirements.  The presentations
below number all clauses:  clauses at the same level are either clearly
identified as alternatives with words such as <i>either</i> and
<i>or</i>, or should be understood as joint.</p>
     <dl>
      
          <dt>
<b><span class="termdef"><a name="gloss-sic">[Definition:]&nbsp;&nbsp;</a><b>Schema Information Set
            Contribution </b></span></b>
</dt>
          <dd>
            Augmentations to post-schema-validation information sets
expressed by schema components, which follow
              as a consequence of schema-validation.
Largely to be
found in <a href="#components">Schema Component Details (&sect;3)</a>.
          </dd>
        
     </dl>
        <p>Schema information set
          contributions are not new.  XML 1.0
          validation augments the XML 1.0 information set in similar ways,
for example by
          providing values for attributes not present in instances, and by implicitly
          exploiting type information for normalisation or access.
(As an example of the latter case, consider the
          effect of <code>NMTOKENS</code> on attribute whitespace, and the semantics of
          <code>ID</code> and <code>IDREF</code>.) By including schema
information set contributions, this specification makes explicit some features
that XML 1.0 left implicit.</p>

    </div>
<div class="div2">
<h3>
<a name="concepts-conformance"></a>2.4 Conformance</h3>
<p>This specification describes three levels of conformance for schema aware processors.  The first is
required of all processors.  Support for the other two will depend on the application environments
for which the processor is intended.</p>
<p>
<span class="termdef"><a name="key-minimallyConforming">[Definition:]&nbsp;&nbsp;</a><b>Minimally conforming</b> processors must completely and
correctly implement the <a href="#gloss-cos">Constraints on
Schemas</a>, <a href="#gloss-cvc">Validity Contributions</a>,
and <a href="#gloss-sic">Schema Information
Set Contributions</a> contained in this specification.</span>
</p>
<p>
<span class="termdef"><a name="key-interchange">[Definition:]&nbsp;&nbsp;</a>Processors which accept
schemas in the form of XML documents as described in <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a> are
additionally said to provide <b>conformance to the XML Representation of Schemas</b>.
</span>
Such processors must, when processing schema documents, completely and
correctly implement all <a href="#gloss-src">Schema Representation
Constraint</a>s in this specification, and must adhere exactly to the
specifications in <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a> for mapping the contents of such documents to <a href="#key-component">schema component</a>s for use in validation.</p>
<blockquote>
<b>NOTE: </b>
By separating the conformance requirements relating to the concrete syntax of XML schema
documents, this specification admits  processors
which validate using schemas stored in optimised binary
representations, dynamically created schemas represented as programming language data structures, or implementations in which particular schemas are compiled into executable code
such as C or Java.  Such processors can be said to be <a href="#key-minimallyConforming">minimally conforming</a> but not necessarily in <a href="#key-interchange">conformance to the XML Representation of Schemas</a>.
</blockquote>
<p>
<span class="termdef"><a name="key-fullyConforming">[Definition:]&nbsp;&nbsp;</a> <b>Fully conforming</b>
processors are network-enabled processors which support both levels of conformance described
above, and which must additionally be capable of accessing
schema documents from the World Wide Web according to <a href="#web-representation">Representation of Schemas on the World Wide Web (&sect;2.7)</a> and <a href="#schema-loc">How schema definitions are located on the Web (&sect;6.3.2)</a>.
</span>.
</p>
<blockquote>
<b>NOTE: </b>Although this specification provides just these three standard levels of conformance, it is
anticipated that other conventions can be established in the future.  For example, the World Wide
Web Consortium is considering conventions for packaging on the Web a variety of
resources relating to individual documents and namespaces.  Should such
developments lead to new conventions for representing schemas, or for accessing them on the Web,
new levels of conformance can be established and named at that time.  There is no need to modify
or republish this recommendation to define such additional levels of conformance.</blockquote>
 <p>See <a href="#composition">Schema Access and Composition (&sect;6)</a> for a more detailed explanation of the
mechanisms supporting these levels of conformance.</p>
</div>
    <div class="div2">
      <h3>
<a name="concepts-nameSymbolSpaces"></a>2.5 Names and Symbol Spaces</h3>
      <p>As discussed in <a href="#concepts-data-model">XML Schema Abstract Data Model (&sect;2.2)</a>, most schema
        components (may) have <a href="#key-compName">name</a>s.
If all such names were assigned from the same "pool", then
        it would be impossible to have, for example, a simple type definition and an element
declaration both with the name
"title" in a given <a href="#key-targetNS">target namespace</a>.</p>
      <p>
This specification
therefore introduces the term
        <span class="termdef"><a name="key-symbolSpace">[Definition:]&nbsp;&nbsp;</a><b>symbol space</b> to denote a
collection of names, each of which is unique with respect to the others.</span>  A symbol space is similar to the non-normative concept of <a class="xtermref" href="http://www.w3.org/TR/REC-xml-names/#ns-breakdown">namespace partition</a> introduced in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
There is a single distinct symbol space within a given <a href="#key-targetNS">target
namespace</a> for each kind of definition and declaration component
identified in <a href="#concepts-data-model">XML Schema Abstract Data Model (&sect;2.2)</a>, except that within a target namespace, simple
type definitions and complex type definitions share a symbol space.
Within a given symbol space, names are unique, but the same name may appear in more than one symbol space without conflict. For example, the same name can appear in both a type definition and an element declaration, without conflict or necessary relation between the two.
</p>
      <p>Locally scoped attribute and element
declarations are special with regard to symbol spaces.
Every complex type definition defines its own local attribute and element declaration symbol
        spaces, where these symbol spaces are distinct from each other and from any of the other
symbol spaces.  So, for example, two complex type definitions having
the same target namespace can contain
a local attribute declaration for the unqualified name "priority", or contain a local element declaration
for the name "address", without conflict or necessary relation between
the two.</p>
    </div>
<div class="div2"> <h3>
<a name="Instance_Document_Constructions"></a>2.6 Schema-Related Markup in
Documents Being Schema-Validated</h3>
  <p>The XML representation of schema components uses a vocabulary
identified by the namespace URI <code>http://www.w3.org/1999/XMLSchema</code>.
<i>XML Schema: Structures</i> also defines several attributes for direct use in XML documents.  These attributes are in a different namespace,
which has the namespace URI <code>http://www.w3.org/1999/XMLSchema-instance</code>.
For brevity, the text and examples in this specification use the prefix
<code>xsi:</code> to stand for this latter namespace; in practice,
any prefix can be used.
</p>
<div class="div3">
<h4>
<a name="xsi:type"></a>2.6.1 xsi:type</h4>
<p>The <a href="#Simple_Type_Definition">Simple Type Definition (&sect;2.2.1.2)</a> or <a href="#Complex_Type_Definition">Complex Type Definition (&sect;2.2.1.3)</a> used to validate an element is usually
determined by reference to the appropriate schema components.
However, when permitted by those components, an element can
explicitly assert its type using the attribute <code>xsi:type</code>.
The value of this attribute is a <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QName</a>;  see <a href="#src-qname">QName Interpretation (&sect;4.2)</a> for
the means by which the <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QName</a> is
associated with a type definition.
</p>
</div>
<div class="div3">
<h4>
<a name="xsi:null"></a>2.6.2 xsi:null</h4>
<p>
<i>XML Schema: Structures</i> introduces a mechanism for signalling that an element's content is
missing, or "null" in the terminology of databases.  An
element has null content if it has the attribute <code>xsi:null</code> with
the value <code>true</code>.  An element so labelled must be empty, but can
carry attributes if permitted by the corresponding complex type.</p>
</div>
<div class="div3">
<h4>
<a name="xsi:schemaLocation"></a>2.6.3 xsi:schemaLocation, xsi:noNamespaceSchemaLocation</h4>
<p>The <code>xsi:schemaLocation</code> and <code>xsi:noNamespaceSchemaLocation</code> attributes can be used in a document to provide
hints as to the physical location of schema documents which may be used for validation.
See <a href="#schema-loc">How schema definitions are located on the Web (&sect;6.3.2)</a> for details on the use of these attributes.</p>
</div>
</div>
<div class="div2">
<h3>
<a name="web-representation"></a>2.7 Representation of Schemas on the World Wide Web</h3>
<p>On the World Wide Web, schemas are conventionally represented as documents of MIME type
"text/xml", conforming to the specifications in <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>. For more information on
the representation and use of schema documents on the World Wide Web see <a href="#schema-repr">Standards for representation of schemas and retrieval of schema documents on the Web (&sect;6.3.1)</a> and
<a href="#schema-loc">How schema definitions are located on the Web (&sect;6.3.2)</a>. </p>
</div>
 </div>
  <div class="div1">
   <h2>
<a name="components"></a>3 Schema Component Details</h2>
   <p>The following sections provide full details on the properties and
significance of the schema itself and each kind of schema component.  For each property, its range,
that is the kinds of values it may have, is defined.  This can be understood as
defining a schema as a labelled directed graph, where the root is a schema, and
every other vertex is a schema
component or a literal (string, boolean, number) and every labelled edge a
property.  The graph is <i>not</i> acyclic:  multiple copies of
components with the same name in the same <a href="#key-symbolSpace">symbol space</a> may not exist, so in some cases re-entrant chains
of properties must exist.  Equality of components for the purposes of this
specification is always addressed at the level of names (including target
namespaces) within symbol spaces.  Any property not
identified as optional is required to be present, optional properties which are absent are taken to have <a href="#key-null">absent</a> as their value.  Any
property identified as a having a set, subset or list value may have an empty value unless this is explicitly
ruled out:  this is <i>not</i> the same as <a href="#key-null">absent</a>.  Any property value identified as superset or subset of some set may be equal to that set, unless a proper superset or subset is explicitly called for.
By 'string' in Part 1 of this specification is meant a
sequence of ISO 10646 character codes identified as <a class="xtermref" href="http://www.w3.org/TR/REC-xml#charsets">legal XML character codes</a>
in <a href="#ref-xml">[XML]</a>.</p>
   <blockquote>
<b>NOTE: </b>
    Readers whose primary interest is in the XML representation of schemas
may wish to skip this chapter on the first reading, concentrating on <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a> and <a href="#bib-expo">[XML Schema: Primer]</a>.
   </blockquote>
   <p>Throughout the following sections, when we refer to the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of some
attribute information item, we mean by this a string composed of, in order, the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.character">[character code]</a> of each character information item in the <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[children]</a> of that
attribute information item.</p>
   <p>Many properties are identified below as having (sets of)
other schema components as values.  For the purposes of exposition, the definitions in
this section assume that (unless the property is explicitly identified as
optional) all such values are in fact present.  When schema
components are constructed from XML representations involving reference by name
to other components, this assumption may be violated if one or more references
cannot be resolved.  This specification addresses the matter of missing
components in a uniform manner, described in <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>:  no mention of
handling missing components will be found in the individual component
descriptions below.</p>
      <p>As the above makes clear, at the level of schema components and schema
validation, reference to components by name is normally not involved.  In a
few cases, however, qualified names appearing in information items being
validated must be resolved to schema components by such lookup.  The following
constraint is appealed to in these cases.</p>
   <div class="constraintnote">
<a name="cvc-resolve-instance"></a><b>Schema Representation Constraint:  QName resolution (Instance)</b>
<br>
<div class="constraint">
  
  A pair of a local name and a namespace URI (or <a href="#key-null">absent</a>)
resolve to a schema component of a specified kind in the context of schema
validation if the component is that member of the value of the appropriate
property of the schema being used for the validation, that is:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
      the <a href="#type_definitions">{type definitions}</a> if the kind specified is simple or complex type definition;
    </td>
</tr>
    <tr>
<td class="clnumber">1.2 </td><td>
     the <a href="#attribute_declarations">{attribute declarations}</a> if the kind specified is attribute declaration; 
    </td>
</tr>
    <tr>
<td class="clnumber">1.3 </td><td>
     the <a href="#element_declarations">{element declarations}</a> if the kind specified is element declaration; 
    </td>
</tr>
    <tr>
<td class="clnumber">1.4 </td><td>
     the <a href="#attribute_group_definitions">{attribute group definitions}</a> if the kind specified
is attribute group; 
    </td>
</tr>
    <tr>
<td class="clnumber">1.5 </td><td>
     the <a href="#model_group_definitions">{model group definitions}</a> if the kind specified is
model group;
    </td>
</tr>
    <tr>
<td class="clnumber">1.6 </td><td>
     the <a href="#notation_declarations">{notation declarations}</a> if the kind specified is notation declaration; 
    </td>
</tr>
   </table>
   whose <b>{local name}</b> matches the local name and whose <b>{target namespace}</b> is identical to the namespace URI of the pair.
  
 </div>
</div>
   <blockquote>
<b>NOTE: </b>
    A schema and its components as defined in this chapter are an idealisation of the information a schema-aware
processor requires:  implementations are not constrained in how they provide
it.  In particular, no implications about literal embedding versus indirection
follow from the use above of language such as "properties . . . having . . .
components as values".
   </blockquote>
   <div class="div2">
    <h3>
<a name="Schema_details"></a>3.1 Schema details</h3>
    <p>At the abstract level, the schema itself is just a container for its components.</p>
    <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#key-schema">Schema</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
     <dl class="props">
      <dt>
<a name="type_definitions">{type definitions}</a>
</dt>
<dd>A set of
named simple and complex type definitions</dd>
      <dt>
<a name="attribute_declarations">{attribute declarations}</a>
</dt>
<dd>A set of
named global attribute declarations</dd>
      <dt>
<a name="element_declarations">{element declarations}</a>
</dt>
<dd>A set of
named global element declarations</dd>
      <dt>
<a name="attribute_group_definitions">{attribute group definitions}</a>
</dt>
<dd>A set of named
attribute group definitions</dd>
      <dt>
<a name="model_group_definitions">{model group definitions}</a>
</dt>
<dd>A set of named
model group definitions</dd>
      <dt>
<a name="notation_declarations">{notation declarations}</a>
</dt>
<dd>A set of
notation declarations</dd>
      <dt>
<a name="annotations">{annotations}</a>
</dt>
<dd>A set of annotations</dd>
     </dl>
    </td>
</tr>
</tbody>
</table>
</blockquote>
    <p>See <a href="#declare-schema">XML Representations of Schemas (&sect;4.1)</a> for the XML representation of
schemas and <a href="#coss-schema">Schema Constraints (&sect;5.13)</a> for constraints on schemas as such.</p>
    <div class="constraintnote">
<a name="sic-schema"></a><b>Schema Information Set Contribution:  Schema Information</b>
<br>
<div class="constraint">
     
     In the post-schema
validation infoset a <strong>[schema information]</strong> property is added
to the element information item at which validity assessment began.  Its value
is a list of tuples, one for each namespace URI which appears as the
<b>{target namespace}</b> of any schema component in the schema used for that
assessment.  Each tuple consists of such a namespace URI followed by 0 or
more pairs.  Each pair is composed of a URI reference, if available, and a <strong>[document
information item]</strong>, if available, for a schema document which
contributed components to the schema, whose
<code>targetNamespace</code> matches the namespace URI (or was absent
but contributed components to that namespace by being <a href="#element-include">include</a>d
by a schema document with that <code>targetNamespace</code> as per <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&sect;6.2.1)</a>).
    </div>
</div>
   </div>
   <div class="div2">
    <h3>
<a name="Attribute_Declaration_details"></a>3.2 Attribute Declaration Details</h3>
    <p>Attribute declarations provide for:</p>
    <ul>
     <li>Requiring/preventing the appearance of attribute information items;</li>
     <li>Constraining attribute information item values by a simple type definition;</li>
     <li>Providing default or fixed values for an attribute information item.</li>
    </ul>
    <p>The attribute declaration schema component has the following
properties:</p>
    <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Attribute_Declaration">Attribute Declaration</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
     <dl class="props">
      <dt>
<a name="a-name">{name}</a>
</dt>
<dd>An NCName as defined by
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
      <dt>
<a name="a-target_namespace">{target namespace}</a>
</dt>
<dd>Either <a href="#key-null">absent</a> or
a namespace URI, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
      <dt>
<a name="a-simple_type_definition">{simple type definition}</a>
</dt>
<dd>A
simple type definition.</dd>
            <dt>
<a name="a-scope">{scope}</a>
</dt>
<dd>Optional.  Either <i>global</i> or a complex type
definition.</dd>
      <dt>
<a name="a-min_occurs">{min occurs}</a>
</dt>
<dd>Optional. <i>0</i> or
<i>1</i>
</dd>
      <dt>
<a name="a-max_occurs">{max occurs}</a>
</dt>
<dd>Optional. <i>0</i> or
<i>1</i>
</dd>
      <dt>
<a name="a-value_constraint">{value constraint}</a>
</dt>
<dd>Optional.  A pair
consisting of a string and, optionally, one of <i>default</i>, <i>fixed</i>.</dd>
      <dt>
<a name="a-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
     </dl>
    </td>
</tr>
</tbody>
</table>
</blockquote>
<p>The <a href="#a-name">{name}</a> property must match the local part of the names of attributes being validated.</p>
<p>A <a href="#a-min_occurs">{min occurs}</a> of 1 specifies that the corresponding attribute must
be present; a value of 0 allows for optional attributes.
Similarly, a <a href="#a-max_occurs">{max occurs}</a> of 0 indicates an attribute that must
not be present; a value of 1 (the normal case) allows the attribute to occur
explicitly.  The XML representation does not require two attributes to specify
these properties, but rather uses a single <code>use</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> with
values such as <code>optional</code> and <code>required</code>:  see <a href="#declare-attribute">XML Representation of Attribute Declaration Schema Components (&sect;4.3.1)</a> for details.</p>
    <p>A <a href="#a-scope">{scope}</a> of <i>global</i> identifies attribute declarations
available for use in complex type definitions throughout the schema.  Locally scoped declarations are available for use only within the
complex type definition identified by the <a href="#a-scope">{scope}</a> property.  This property is also <a href="#key-null">absent</a> in the case of non-<i>global</i> declarations within attribute group definitions:  their scope will be determined when they are used in the construction of complex type definitions.
</p>
    <p>A non-<a href="#key-null">absent</a> value of the <a href="#a-target_namespace">{target namespace}</a> property provides for validation of
namespace-qualified attribute information items (which must be explicitly
prefixed in the character-level form of XML documents).  <a href="#key-null">absent</a> values of
<a href="#a-target_namespace">{target namespace}</a> validate unqualified (unprefixed) items.</p>
<p>The value of the attribute must conform to the supplied <a href="#a-simple_type_definition">{simple type definition}</a>.</p>
<p>
<a href="#a-value_constraint">{value constraint}</a> reproduces the functions of XML 1.0 default and #FIXED
attribute values.  <i>fixed</i> indicates that the attribute value must match the supplied
constraint string; <i>default</i> specifies that the attribute is to appear unconditionally in
the post-schema-validation information set, with the supplied value used
whenever the attribute is not actually present.  As for <a href="#a-min_occurs">{min occurs}</a> and <a href="#a-max_occurs">{max occurs}</a> the XML representation reflects this information indirectly:  see <a href="#declare-attribute">XML Representation of Attribute Declaration Schema Components (&sect;4.3.1)</a>.</p>
    <p>See <a href="#Annotation_details">Annotation Details (&sect;3.12)</a> for the significance of the
<a href="#a-annotation">{annotation}</a> property.</p>
<blockquote>
<b>NOTE: </b>A more complete and formal presentation of the semantics of <a href="#a-name">{name}</a>, <a href="#a-target_namespace">{target namespace}</a>,
<a href="#a-min_occurs">{min occurs}</a>, <a href="#a-max_occurs">{max occurs}</a> and
<i>default</i> <a href="#a-value_constraint">{value constraint}</a> is provided in
conjunction with other aspects of complex type validation (see <a href="#cvc-complex-type">Element Children and Attributes Valid (&sect;3.4)</a>.)</blockquote>
    <p>
<a href="#ref-xmlinfo">[XML-Infoset]</a> distinguishes namespace declarations such as <code>xmlns</code> or <code>xmlns:xsl</code> from
attributes.  Accordingly, it is unnecessary and in fact not possible for
schemas to contain attribute declarations corresponding to such
namespace declarations, see <a href="#no-xmlns">xmlns Not Allowed (&sect;5.1)</a>.  No means is provided in
this specification to supply a
default value for a namespace declaration.</p>
    <p>See <a href="#declare-attribute">XML Representation of Attribute Declaration Schema Components (&sect;4.3.1)</a> for the XML representation of
attribute declarations and <a href="#coss-attribute">Attribute Declaration Constraints (&sect;5.1)</a> for constraints on attribute
declaration components as such.</p>
<div class="constraintnote">
<a name="cvc-attribute"></a><b>Validation Contribution:  Attribute Valid</b>
<br>
<div class="constraint">
     
     For an attribute information item to be schema-valid with respect to an
attribute declaration, its lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> must
      <ul>
       <li>
        be schema-valid with respect to the <a href="#a-simple_type_definition">{simple type definition}</a> as per <a href="#cvc-simple-type">String Valid (&sect;3.13)</a>;
       </li>
       <li>
        match the string of the <a href="#a-value_constraint">{value constraint}</a> if it is
present and <i>fixed</i>.
       </li>
      </ul>
     
    </div>
</div>
    <div class="constraintnote">
<a name="cvc-attr-lax"></a><b>Validation Contribution:  Attribute Valid (Lax)</b>
<br>
<div class="constraint">
     
     An attribute information item is laxly schema-valid if either
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1.1 </td><td>
           The <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[local name]</a> and <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[namespace URI]</a> resolve to an attribute declaration, as defined by <a href="#cvc-resolve-instance">QName resolution (Instance) (&sect;3)</a>;
          </td>
</tr>
       <tr>
<td class="clnumber">1.1.2 </td><td>
        The item is schema-valid with respect to that declaration, as
defined by <a href="#cvc-attribute">Attribute Valid (&sect;3.2)</a>
       </td>
</tr>
      </table>
      or
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.2 </td><td>
           The <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[local name]</a> and <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> does <i>not</i> resolve to an attribute declaration, as defined by <a href="#cvc-resolve-instance">QName resolution (Instance) (&sect;3)</a>;
          </td>
</tr>
      </table>      
     
    </div>
</div>

    <div class="constraintnote">
<a name="sic-attrType"></a><b>Schema Information Set Contribution:  Attribute Validated by Type</b>
<br>
<div class="constraint">
     
     If an attribute information item is schema-valid with respect to an attribute
declaration, in the post-schema
validation infoset the attribute information item has four properties as
described in <a href="#sic-eltType">Element Validated by Type (&sect;3.3)</a>, except that the <a href="#a-simple_type_definition">{simple type definition}</a> is used wherever the <a href="#key-atd">actual type definition</a> is called for therein.<p>
</p>
     Also, if the declaration has a <a href="#a-value_constraint">{value constraint}</a>, the item's
<a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[default]</a> is set to a list of character information items, one per character
in the declaration's <a href="#a-value_constraint">{value constraint}</a> string.
    </div>
</div>
    <div class="constraintnote">
<a name="sic-a-outcome"></a><b>Schema Information Set Contribution:  Validation Outcome (Attribute)</b>
<br>
<div class="constraint">
     
     If an attribute information item's schema-validity as defined by
<a href="#cvc-attribute">Attribute Valid (&sect;3.2)</a> has been assessed, whether successfully or not, then in the
post-schema validation infoset the item has a <strong>[validation attempted]</strong> property with the value <i>full</i>.<p>
</p>
     If an attribute information item's schema-validity as defined by
<a href="#cvc-attribute">Attribute Valid (&sect;3.2)</a> has not been assessed, but its lax schema-validity as
defined by <a href="#cvc-attr-lax">Attribute Valid (Lax) (&sect;3.2)</a> has been assessed, in the post-schema
validation infoset the item has a <strong>[validation attempted]</strong> property with the value <i>partial</i>.
    </div>
</div> 
   </div>
   <div class="div2">
    <h3>
<a name="Element_Declaration_details"></a>3.3 Element Declaration Details</h3>
       <p>Element declarations provide for:</p>
    <ul>
     <li>Establishing the validity of element information items.</li>
     <li>Determining schema information set contributions, such as default values.</li>
     <li>Establishing uniquenesses and reference constraint relationships among the values of related elements and
attributes.
</li>
     <li>Controlling the substitutability of elements through the
mechanism of <a href="#key-equivalenceClass">element equivalence classes</a>.
     </li>
    </ul>
<p>The element declaration schema component has the following
properties:</p>

    <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Element_Declaration">Element Declaration</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
     <dl class="props">
      <dt>
<a name="e-name">{name}</a>
</dt>
<dd>An NCName as defined by
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
      <dt>
<a name="e-target_namespace">{target namespace}</a>
</dt>
<dd>Either <a href="#key-null">absent</a> or
a namespace URI, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.</dd>
      <dt>
<a name="e-scope">{scope}</a>
</dt>
<dd>Optional.  Either <i>global</i> or a complex type
definition.</dd>
      <dt>
<a name="type_definition">{type definition}</a>
</dt>
<dd>Either a simple type
definition or a complex type definition.</dd>
      <dt>
<a name="nullable">{nullable}</a>
</dt>
<dd>A boolean</dd>
      <dt>
<a name="e-value_constraint">{value constraint}</a>
</dt>
<dd>Optional.  A
pair consisting of a string and one of <i>default</i>, <i>fixed</i>.</dd>
      <dt>
<a name="identity-constraint_definitions">{identity-constraint definitions}</a>
</dt>
<dd>A set
of constraint definitions.</dd>
      <dt>
<a name="class_exemplar">{equivalence class affiliation}</a>
</dt>
<dd>Optional.  A global
element definition.</dd>
      <dt>
<a name="e-final">{equivalence class exclusions}</a>
</dt>
<dd>A subset of
{<i>extension</i>,
<i>restriction</i>}.  </dd>
      <dt>
<a name="e-exact">{disallowed substitutions}</a>
</dt>
<dd>A subset of {<i>equivClass</i>, <i>extension</i>,
<i>restriction</i>}.</dd>
      <dt>
<a name="e-abstract">{abstract}</a>
</dt>
<dd>A boolean</dd>
      <dt>
<a name="e-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
     </dl>

    </td>
</tr>
</tbody>
</table>
</blockquote>
<p>The <a href="#e-name">{name}</a> property must match the local part of the names
of element information items being validated.</p>
<p>A <a href="#e-scope">{scope}</a> of <i>global</i> identifies element declarations available for use in content
models throughout the schema.  Locally scoped declarations are available for use only within the
complex type identified by the <a href="#e-scope">{scope}</a> property.  This property is <a href="#key-null">absent</a> in the case of non-<i>global</i> declarations within named model groups:  their scope will be determined when they are used in the construction of complex type definitions.</p>
    <p>A non-<a href="#key-null">absent</a> value of the <a href="#e-target_namespace">{target namespace}</a> property provides for validation of
namespace-qualified element information items.  <a href="#key-null">absent</a> values of
<a href="#e-target_namespace">{target namespace}</a> validate unqualified items.</p>
<p>An element information item is schema-valid
if it obeys the schema validity constraints of the <a href="#type_definition">{type definition}</a>.  For such an
item, the schema information set contributions from the <a href="#type_definition">{type definition}</a> are applied to the
corresponding element information item in the post-schema-validation information set.  <a href="#type_definition">{type definition}</a> must not be an
<i>abstract</i> type definition.
</p>
<p>If <a href="#nullable">{nullable}</a> is <i>true</i>, then an element is also
schema-valid if it
carries the namespace qualified attribute with <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[local name]</a> <code>null</code> from namespace <code>http://www.w3.org/1999/XMLSchema-instance</code> and value <code>true</code> (see <a href="#xsi:null">xsi:null (&sect;2.6.2)</a>) even if it has
no text or element content despite a <a href="#content_type">{content type}</a> which would
otherwise require content. Formal details of element validation are described in <a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a>.</p>
<p>
<a href="#e-value_constraint">{value constraint}</a> establishes a default or fixed value for an element.  If <i>default</i> is specified, and if the element
being validated is empty, then the supplied
constraint string becomes <a href="http://www.w3.org/TR/xml-infoset#infoitem.character">[character]</a>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of the validated element in the post-schema-validation
infoset.  If <i>fixed</i> is specified, then the element's content
must either be empty, in which case <i>fixed</i> behaves as <i>default</i>,
or it must match the supplied constraint string.</p>
<p>
<a href="#identity-constraint_definitions">{identity-constraint definitions}</a> express constraints establishing uniquenesses and reference relationships among the values of related elements and
attributes.  See <a href="#Identity-constraint_Definition_details">Identity-constraint Definition Details (&sect;3.10)</a>.</p>
<p>Element declarations are members of the equivalence class, if any, identified
by <a href="#class_exemplar">{equivalence class affiliation}</a>.  Membership is transitive but not symmetric;  an element
declaration is implicitly a member of any class of which its <a href="#class_exemplar">{equivalence class affiliation}</a> is a member.</p>
<p>An empty <a href="#e-final">{equivalence class exclusions}</a> allows a declaration to be nominated as
the <a href="#class_exemplar">{equivalence class affiliation}</a> of other element declarations having the same <a href="#type_definition">{type definition}</a> or
types derived therefrom.  The explicit
values of <a href="#e-final">{equivalence class exclusions}</a> rule out element declarations having types which
are <i>extension</i>s or <i>restriction</i>s respectively of <a href="#type_definition">{type definition}</a>.  If
both values are specified, then the declaration may not be nominated as the
<a href="#class_exemplar">{equivalence class affiliation}</a> of any other declaration.</p>

<p>The supplied values for <a href="#e-exact">{disallowed substitutions}</a> determine
whether an element declaration appearing in a <a href="#key-contentModel">content model</a> will be prevented from additionally
validating elements (a) with an <a href="#xsi:type">xsi:type (&sect;2.6.1)</a> that identifies an
<i>extension</i> or <i>restriction</i> of the type of the declared element, and/or (b) from validating elements which are in the same
equivalence class as the declared element.
If <a href="#e-exact">{disallowed substitutions}</a> is empty, then all derived types and equivalence class members are valid.</p>
<p>Element declarations for which <a href="#e-abstract">{abstract}</a> is <i>true</i> can appear in
content models only when equivalence class substitution is allowed;
such declarations may not themselves ever be used to validate element content.</p>
<p>See <a href="#declare-element">XML Representation of Element Declaration Schema Components (&sect;4.3.2)</a> for the XML representation of
element declarations and <a href="#coss-element">Element Declaration Constraints (&sect;5.2)</a> for constraints on element
declaration components as such.</p>
    <div class="constraintnote">
<a name="cvc-elt"></a><b>Validation Contribution:  Element Valid (Explicit)</b>
<br>
<div class="constraint">
     
     An element information item is schema-valid with respect to an
element declaration if
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1 </td><td>
        If <a href="#nullable">{nullable}</a> is false there is no attribute information item among the element
information item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[namespace URI]</a> is identical to <code>http://www.w3.org/1999/XMLSchema-instance</code> and whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[local name]</a> is <code>null</code>;
       </td>
</tr>
       <tr>
<td class="clnumber">1.2 </td><td>
        If <a href="#nullable">{nullable}</a> is true and there is such an attribute
information item and its lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> is <code>true</code>, then
         <table class="constraintlist">
          <tr>
<td class="clnumber">1.2.1 </td><td>
           the element information item must have no character or element information item
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>;
          </td>
</tr>
          <tr>
<td class="clnumber">1.2.2 </td><td>
           there is no <i>fixed</i> <a href="#e-value_constraint">{value constraint}</a>.
          </td>
</tr>
         </table>
        
       </td>
</tr>
      </table>
     <p>
</p>
     If there is an attribute information item among the element
information item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[namespace URI]</a> is identical to <code>http://www.w3.org/1999/XMLSchema-instance</code> and whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[local name]</a> is <code>type</code>, then
      <table class="constraintlist">
       <tr>
<td class="clnumber">2.1 </td><td>
        The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of that attribute information item is
schema-valid with respect to the built-in <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QName</a> simple type, as defined by <a href="#cvc-simple-type">String Valid (&sect;3.13)</a>;
       </td>
</tr>
       <tr>
<td class="clnumber">2.2 </td><td>
        The <a href="#q-local">local name</a> and <a href="#q-uri">namespace URI</a> (as defined in <a href="#src-qname">QName Interpretation (&sect;4.2)</a>), of the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of that attribute information item resolve to a type definition, as defined in <a href="#cvc-resolve-instance">QName resolution (Instance) (&sect;3)</a> -- <span class="termdef"><a name="key-ltd">[Definition:]&nbsp;&nbsp;</a>call this type definition the <b>item type definition</b></span>;</td>
</tr>
       <tr>
<td class="clnumber">2.3 </td><td>
        The <a href="#key-ltd">item type definition</a> is
validly derived from the <a href="#type_definition">{type definition}</a> given the <a href="#e-exact">{disallowed substitutions}</a>, as defined in <a href="#cos-ct-derived-ok">Type Derivation OK (Complex) (&sect;5.11)</a> (if it is a complex type definition), or given {<i>list</i>}, as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&sect;5.12)</a> (if it is a simple type definition).
       </td>
</tr>
      </table>
      <span class="termdef"><a name="key-atd">[Definition:]&nbsp;&nbsp;</a>We refer below to the
<b>actual type definition</b>.  If the above three clauses obtain, this
should be understood as referring to the <a href="#key-ltd">local type
definition</a>, otherwise to the <a href="#type_definition">{type definition}</a>.</span>
     <p>
</p>
     If the declaration has a <a href="#e-value_constraint">{value constraint}</a>, then
provided clause 1.2 has not obtained
      <table class="constraintlist">
       <tr>
<td class="clnumber">3.1 </td><td>
        If the element information item has no character information item
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> and the <a href="#key-atd">actual type definition</a> is a <a href="#key-ltd">local type
definition</a>, the <a href="#e-value_constraint">{value constraint}</a> string is schema-valid with respect to the <a href="#key-atd">actual
type definition</a> as defined by <a href="#cvc-simple-type">String Valid (&sect;3.13)</a> (if
the <a href="#key-atd">actual
type definition</a> is a simple type definition) or else (the <a href="#key-atd">actual
type definition</a> is a complex type definition) the string must
be a valid default for the <a href="#key-atd">actual
type definition</a> as defined in <a href="#cos-valid-default">Element Default Valid (Immediate) (&sect;5.2)</a>;
       </td>
</tr>
       <tr>
<td class="clnumber">3.2 </td><td>
        If the <a href="#e-value_constraint">{value constraint}</a> is
<i>fixed</i>, the element information item must have no element information
item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, and the string composed of the element information item's character information item
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>
in order must be either empty or match the string of the <a href="#e-value_constraint">{value constraint}</a>;
       </td>
</tr>
      </table>
     <p>
</p>
     Otherwise (the element information item has character information item
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> or there is no <a href="#e-value_constraint">{value constraint}</a>) if the <a href="#key-atd">actual type definition</a> is a simple type
definition, then
      <table class="constraintlist">
       <tr>
<td class="clnumber">4.1.1 </td><td>The element information item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> must be empty,
excepting those whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[namespace URI]</a> is identical to <code>http://www.w3.org/1999/XMLSchema-instance</code> and whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[local name]</a> is one of <code>type</code>, <code>null</code>, <code>schemaLocation</code> or <code>noNamespaceSchemaLocation</code>;</td>
</tr>
       <tr>
<td class="clnumber">4.1.2 </td><td>
        The element information item must have no element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>;
       </td>
</tr>
       <tr>
<td class="clnumber">4.1.3 </td><td>
        the string composed of the <a href="http://www.w3.org/TR/xml-infoset#infoitem.character">[character code]</a> of each of the element information item's character information item
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>
in order must be schema-valid with respect to the
<a href="#key-atd">actual type definition</a> as defined by <a href="#cvc-simple-type">String Valid (&sect;3.13)</a>
        
       </td>
</tr>

      </table>
otherwise (the <a href="#key-atd">actual type definition</a> is a complex type
definition)
      <table class="constraintlist">
       <tr>
<td class="clnumber">4.2.1 </td><td>
        The element information item must be schema-valid with respect to the <a href="#key-atd">actual type definition</a> as per <a href="#cvc-complex-type">Element Children and Attributes Valid (&sect;3.4)</a>;
       </td>
</tr>
       <tr>
<td class="clnumber">4.2.2 </td><td>
        The element information item must be schema-valid with respect to
each of the <a href="#identity-constraint_definitions">{identity-constraint definitions}</a> as per <a href="#cvc-identity-constraint">Identity-constraint Satisfied (&sect;3.10)</a>.
       </td>
</tr>
      </table>



    </div>
</div>
    <blockquote>
<b>NOTE: </b>The <a href="#e-name">{name}</a> and <a href="#e-target_namespace">{target namespace}</a> properties are not
mentioned above because they are checked during particle validation, as per
<a href="#cvc-particle">Element Sequence Valid (Particle) (&sect;3.8)</a>.</blockquote>
    <div class="constraintnote">
<a name="cvc-elt-lax"></a><b>Validation Contribution:  Element Valid (Lax)</b>
<br>
<div class="constraint">
     
     An element information item is laxly schema-valid if either
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1.1 </td><td>
           The <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[local name]</a> and <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> resolve to an element declaration, as defined by <a href="#cvc-resolve-instance">QName resolution (Instance) (&sect;3)</a>;
          </td>
</tr>
       <tr>
<td class="clnumber">1.1.2 </td><td>
        The item is schema-valid with respect to that declaration, as
defined by <a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a>
       </td>
</tr>
      </table>
      or
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.2.1 </td><td>
           The <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[local name]</a> and <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> does <i>not</i> resolve to an element declaration, as defined by <a href="#cvc-resolve-instance">QName resolution (Instance) (&sect;3)</a>;
          </td>
</tr>
       <tr>
<td class="clnumber">1.2.2 </td><td>
        All the element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> and <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> of the item are laxly
schema-valid, as defined by this constraint or <a href="#cvc-attr-lax">Attribute Valid (Lax) (&sect;3.2)</a>, respectively.
       </td>
</tr>
      </table>      
     
    </div>
</div>
    <div class="constraintnote">
<a name="sic-eltDefault"></a><b>Schema Information Set Contribution:  Element Default Value</b>
<br>
<div class="constraint">
     
     If an element information item is schema-valid with respect to an element
declaration, the <a href="#e-value_constraint">{value constraint}</a> is present, clause 1.2
of <a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a> above does not obtain and the element
information item has no character or element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, the post-schema
validation infoset has a list of character information items, one per character
in the <a href="#e-value_constraint">{value constraint}</a> string, appended to its
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, and the item's
<a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[specified]</a> is set to <i>schema</i>.  Otherwise, the item's
<a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[specified]</a> is set to <i>instance</i>.
    </div>
</div>
    <div class="constraintnote">
<a name="sic-eltType"></a><b>Schema Information Set Contribution:  Element Validated by Type</b>
<br>
<div class="constraint">
     
     If an element information item is schema-valid with respect to an element
declaration, in the post-schema
validation infoset the element information item has four properties as follows:
      <dl>
       
        <dt>
<b><strong>[type definition type]</strong></b>
</dt>
        <dd>
         <i>simple</i> or <i>complex</i>, depending on the <a href="#key-atd">actual type definition</a>
        </dd>
       
       
        <dt>
<b><strong>[type definition namespace]</strong></b>
</dt>
        <dd>
         the <b>{target namespace}</b> of the <a href="#key-atd">actual type definition</a>
        </dd>
       
       
        <dt>
<b><strong>[type definition anonymous]</strong></b>
</dt>
        <dd>
         <i>true</i> if the <b>{name}</b> of the <a href="#key-atd">actual type definition</a> is <a href="#key-null">absent</a>, otherwise <i>false</i>
        </dd>
       
       
        <dt>
<b><strong>[type definition name]</strong></b>
</dt>
        <dd>
         the <b>{name}</b> of the <a href="#key-atd">actual type definition</a>, if it is not <a href="#key-null">absent</a>.  If it is
<a href="#key-null">absent</a>, schema processors may, but need not,
provide a value unique to the <a href="#type_definition">{type definition}</a> of the
declaration.
        </dd>
       
      </dl>
     <p>
</p>
     Also, if the declaration has a <a href="#e-value_constraint">{value constraint}</a>, the item's
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[default]</a> is set to a list of character information items, one per character
in that <a href="#e-value_constraint">{value constraint}</a>'s string.
    </div>
</div>
    <div class="constraintnote">
<a name="sic-eltNull"></a><b>Schema Information Set Contribution:  Element Null</b>
<br>
<div class="constraint">
     
     If an element information item is schema-valid with respect to an element
declaration then in the post-schema
validation infoset the element
information item has a <strong>[null]</strong> property with the value
<i>true</i> if clause 1.2 of <a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a> above obtains,
otherwise <i>false</i>.
    </div>
</div>
    <div class="constraintnote">
<a name="sic-e-outcome"></a><b>Schema Information Set Contribution:  Validation Outcome (Element)</b>
<br>
<div class="constraint">
     
     If 
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1 </td><td>
        an element information item's schema-validity as defined by
<a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a> has been assessed, whether successfully or not;
       </td>
</tr>
       <tr>
<td class="clnumber">1.2 </td><td>
        all its element information item children have the value <i>full</i> for
their <strong>[validation attempted]</strong> property,
       </td>
</tr>
      </table> then in the
post-schema validation infoset the item has a <strong>[validation attempted]</strong> property with the value <i>full</i>.<p>
</p>
     If an element information item's schema-validity as defined by
<a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a> has not been assessed, or has been but the above
clause is not satisfied, but its lax schema-validity as
defined by <a href="#cvc-elt-lax">Element Valid (Lax) (&sect;3.3)</a> has been assessed, in the post-schema
validation infoset the item has a <strong>[validation attempted]</strong> property with the value <i>partial</i>.
    </div>
</div>
   </div>
   <div class="div2">
    <h3>
<a name="Complex_Type_Definition_details"></a>3.4 Complex Type Definition Details</h3>
<p>Complex Type Definitions provide for:</p>
<ul>
     <li>Constraining element information items by providing <a href="#Attribute_Declaration">Attribute Declaration (&sect;2.2.2.3)</a>s governing the appearance and content of
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a>
</li>
     <li>Constraining element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> to be empty, or to conform to a specified element-only or mixed content model.</li>
     <li>Using the mechanisms of <a href="#Type_Derivation">Type Definition Hierarchy (&sect;2.2.1.1)</a> to derive a complex type from another simple or complex type.</li>
     <li>
Specifying contributions to the post-schema-validation information set for elements. 
</li>
     <li>Limiting the ability to derive additional types from a given complex type.</li>
     <li>Controlling the permission to substitute, in an instance, elements of a derived
type for elements declared in a content model to be of a given complex type.</li>
<li>Determining <a href="#gloss-sic">post-schema-validation
information set contributions</a>.</li>
</ul>

<p>A complex type definition schema component has the following
properties:</p>

  <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Complex_Type_Definition">Complex Type Definition</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
   <dl class="props">
  <dt>
<a name="ct-name">{name}</a>
</dt>
<dd>
    Optional.  An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="ct-target_namespace">{target namespace}</a>
</dt>
<dd>
    Either <a href="#key-null">absent</a> or a namespace URI, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="ct-base_type_definition">{base type definition}</a>
</dt>
<dd>
    Either a simple type definition or a complex type definition.
   </dd>
  <dt>
<a name="derivation_method">{derivation method}</a>
</dt>
<dd>
    Either <i>extension</i> or <i>restriction</i>.
   </dd>
   <dt>
<a name="ct-final">{final}</a>
</dt>
<dd>
    A subset of {<i>extension</i>, <i>restriction</i>}.
   </dd>
   <dt>
<a name="ct-abstract">{abstract}</a>
</dt>
<dd>
    A boolean
   </dd>   <dt>
<a name="ct-attribute_declarations">{attribute declarations}</a>
</dt>
<dd>
    A set of attribute declarations.
   </dd>
  <dt>
<a name="ct-attribute_wildcard">{attribute wildcard}</a>
</dt>
<dd>
    Optional.  A wildcard.
   </dd>
   <dt>
<a name="content_type">{content type}</a>
</dt>
<dd>One of <i>empty</i>, a simple type definition or a pair
consisting of a <a href="#key-contentModel">content model</a> (I.e a <a href="#Particle">Particle (&sect;2.2.3.2)</a>) and one of <i>mixed</i>, <i>element-only</i>.
   </dd>
  <dt>
<a name="ct-exact">{prohibited-substitutions}</a>
</dt>
<dd>
    A subset of {<i>extension</i>, <i>restriction</i>}.
   </dd>
    <dt>
<a name="ct-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
</dl>

  </td>
</tr>
</tbody>
</table>
</blockquote>
<p>Complex types definitions are identified by their <a href="#ct-name">{name}</a> and <a href="#ct-target_namespace">{target namespace}</a>.  Except
for anonymous complex type definitions (those with no <a href="#ct-name">{name}</a>), since
type definitions (i.e. both simple and complex type definitions taken together) must be uniquely identified within an <a href="#key-schema">XML
Schema</a>, no complex type definition can have the same name as another
simple or complex type definition.  Complex type <a href="#ct-name">{name}</a>s and <a href="#ct-target_namespace">{target namespace}</a>s
are provided for reference from
instances (see <a href="#xsi:type">xsi:type (&sect;2.6.1)</a>), and for use in the <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>
(specifically in <a href="#element-element">element</a> and <a href="#element-attribute">attribute</a>).  See <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a> for the use of component
identifiers when importing one schema into another.</p>
<blockquote>
<b>NOTE: </b>
The <a href="#ct-name">{name}</a> of a complex type is not <i>ipso
facto</i> the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[(local) name]</a> of the
  element information items validated by that definition. The connection between a
  name and a type definition is described in <a href="#Element_Declaration_details">Element Declaration Details (&sect;3.3)</a>. 
</blockquote>
   <p>As described in <a href="#Type_Derivation">Type Definition Hierarchy (&sect;2.2.1.1)</a>, each complex type is derived from a
<a href="#ct-base_type_definition">{base type definition}</a> which is itself either a <a href="#Simple_Type_Definition">Simple Type Definition (&sect;2.2.1.2)</a> or a <a href="#Complex_Type_Definition">Complex Type Definition (&sect;2.2.1.3)</a>.  <a href="#derivation_method">{derivation method}</a> specifies the means of derivation as either <i>extension</i> or <i>restriction</i> (see <a href="#Type_Derivation">Type Definition Hierarchy (&sect;2.2.1.1)</a>).</p>

<p>A complex type with an empty specification for <a href="#ct-final">{final}</a> can be used as a
<a href="#ct-base_type_definition">{base type definition}</a> for other types derived by either of
extension or restriction; the explicit values <i>extension</i>, and <i>restriction</i> prevent further
derivations by extension and restriction respectively.  If all values are specified, then the complex type is said to be
<span class="termdef"><a name="key-ct-final">[Definition:]&nbsp;&nbsp;</a><b>final</b>: no
further derivations are possible.</span>
</p>

<p>A complex type for which <a href="#ct-abstract">{abstract}</a> is <i>true</i> must not appear as the
<a href="#type_definition">{type definition}</a> of an <a href="#Element_Declaration">Element Declaration (&sect;2.2.2.1)</a>, and must not be referenced from an
<a href="#xsi:type">xsi:type (&sect;2.6.1)</a> attribute in an instance document;  such abstract complex types can be
used as <a href="#ct-base_type_definition">{base type definition}</a>s, but they are never used directly to validate
element content.</p>

<p>
<a href="#ct-attribute_declarations">{attribute declarations}</a> are a set of individual <a href="#Attribute_Declaration">Attribute Declaration (&sect;2.2.2.3)</a>s
to be used for schema-validating the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a>
of element information items.  See <a href="#cvc-complex-type">Element Children and Attributes Valid (&sect;3.4)</a>
and <a href="#cvc-attribute">Attribute Valid (&sect;3.2)</a> for details of attribute validation.</p>
<p>
<a href="#ct-attribute_wildcard">{attribute wildcard}</a>s provide a more flexible specification for validation of
attributes not explicitly included in <a href="#ct-attribute_declarations">{attribute declarations}</a>.
Informally, the specific values
of <a href="#ct-attribute_wildcard">{attribute wildcard}</a> are interpreted as follows:
</p>
<ul>
<li>
<i>any</i>: <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> can include attributes with any qualified or unqualified name.
</li>
<li>
a set whose
members are either namespace URIs or <a href="#key-null">absent</a>: <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> can
include any attribute(s) from the specified namespace(s).  If <a href="#key-null">absent</a> is included in the set, then any unqualified attributes are (also) allowed.
</li>
<li>
<i>'not'</i> and a namespace URI: <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> cannot include attributes from the specified namespace.
</li>
<li>
<i>'not'</i> and <a href="#key-null">absent</a>: <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> cannot include
unqualified attributes.
</li>
</ul>
<p>
See <a href="#cvc-complex-type">Element Children and Attributes Valid (&sect;3.4)</a> and <a href="#cvc-wildcard-namespace">Wildcard allows Namespace URI (&sect;3.9)</a> for formal
details of attribute wildcard validation. </p>
<p>
<a href="#content_type">{content type}</a> determines the schema-validation of <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of element information items.  Informally:
</p>
<ul>
<li>
A <a href="#content_type">{content type}</a> with the distinguished value <i>empty</i> validates elements
with no character or element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>.
</li>
<li>
A <a href="#content_type">{content type}</a> which is a <a href="#Simple_Type_Definition">Simple Type Definition (&sect;2.2.1.2)</a> validates
elements with character-only <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>.
</li>
<li>
An <i>element-only</i> <a href="#content_type">{content type}</a> validates elements with <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> that
conform to the supplied <a href="#key-contentModel">content model</a>.
</li>
<li>
A <i>mixed</i> <a href="#content_type">{content type}</a> validates elements whose element information-
children (I.e. specifically ignoring other <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> such as character information items)
conform to the supplied <a href="#key-contentModel">content model</a>.
</li>
</ul>
<p>
</p>
<p>
<a href="#ct-exact">{prohibited-substitutions}</a> determine
whether an element declaration appearing in a <a href="#key-contentModel">
content model</a> is prevented from additionally
validating element items with an <a href="#xsi:type">xsi:type (&sect;2.6.1)</a> attribute that
identifies an <i>extension</i> or <i>restriction</i>, or element items in
an equivalence class whose type definition is similarly derived (if <a href="#ct-exact">{prohibited-substitutions}</a> contains one of those).
If <a href="#ct-exact">{prohibited-substitutions}</a> is empty,
then all such substitutions are valid.
</p>
<p>See <a href="#cvc-complex-type">Element Children and Attributes Valid (&sect;3.4)</a>
for a formal specification of element content validation.</p>
<p>See <a href="#declare-type">XML Representation of Complex Type Definition Schema Components (&sect;4.3.3)</a> for the XML representation of
complex type definitions and <a href="#coss-ct">Complex Type Definition Constraints (&sect;5.11)</a> for constraints on
complex type definition components as such.</p>
    <div class="constraintnote">
<a name="cvc-complex-type"></a><b>Validation Contribution:  Element Children and Attributes Valid</b>
<br>
<div class="constraint">
     
     An element information item is schema-valid with respect to a complex type definition if:
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1 </td><td>
        <a href="#ct-abstract">{abstract}</a> is false;
       </td>
</tr>
       <tr>
<td class="clnumber">1.2 </td><td>
        <table class="constraintlist">
         <tr>
<td class="clnumber">1.2.1 </td><td>
        If the <a href="#content_type">{content type}</a> is <i>empty</i>, the element
information item has no character or element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>;
       </td>
</tr>
       <tr>
<td class="clnumber">1.2.2 </td><td>
        If the <a href="#content_type">{content type}</a> is  a simple
type definition, the element information item has no element
information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, and the string composed of the <a href="http://www.w3.org/TR/xml-infoset#infoitem.character">[character code]</a> of each of the element information item's character information item
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>
in order is schema-valid with respect to that simple type definition as defined by <a href="#cvc-simple-type">String Valid (&sect;3.13)</a>;
       </td>
</tr>
       <tr>
<td class="clnumber">1.2.3 </td><td>
        If the <a href="#content_type">{content type}</a> is <i>element-only</i>, the
element information item has no character information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> other
than those whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.character">[character code]</a> is defined as a <a class="xtermref" href="http://www.w3.org/TR/REC-xml#NT-S">white space</a>
in <a href="#ref-xml">[XML]</a>;
       </td>
</tr>
       <tr>
<td class="clnumber">1.2.4 </td><td>
        If the <a href="#content_type">{content type}</a> is <i>element-only</i> or
<i>mixed</i>, the sequence of the element information item's element
information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any, taken in order, is schema-valid with
respect to the <a href="#content_type">{content type}</a>'s particle, as defined in <a href="#cvc-particle">Element Sequence Valid (Particle) (&sect;3.8)</a>
       </td>
</tr>
        </table>
       </td>
</tr>
       <tr>
<td class="clnumber">1.3 </td><td>
        For each attribute information item in the element information
item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[children]</a> excepting those whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[namespace URI]</a> is identical to <code>http://www.w3.org/1999/XMLSchema-instance</code> and whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[local name]</a> is one of <code>type</code>, <code>null</code>, <code>schemaLocation</code> or <code>noNamespaceSchemaLocation</code>, if
there is among the <a href="#ct-attribute_declarations">{attribute declarations}</a> one whose
<a href="#a-name">{name}</a> matches the attribute information item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[local name]</a> and whose <a href="#a-target_namespace">{target namespace}</a> is identical to the attribute information item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[namespace URI]</a> (where an <a href="#key-null">absent</a> <a href="#a-target_namespace">{target namespace}</a> is taken to be identical to a <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[namespace URI]</a> with no value) then
         <table class="constraintlist">
          <tr>
<td class="clnumber">1.3.1 </td><td>
           the attribute information item is schema-valid with respect to that attribute declaration as defined in <a href="#cvc-attribute">Attribute Valid (&sect;3.2)</a>;
          </td>
</tr>
         </table>
         otherwise (there is no matching attribute declaration)
         <table class="constraintlist">
          <tr>
<td class="clnumber">1.3.2 </td><td>
           there is an <a href="#ct-attribute_wildcard">{attribute wildcard}</a> and
            <table class="constraintlist">
             <tr>
<td class="clnumber">1.3.2 </td><td>
              the
attribute information item is schema-valid with respect to it as defined in <a href="#cvc-wildcard">Item Valid (Wildcard) (&sect;3.9)</a>
             </td>
</tr>
            </table>
           
          </td>
</tr>
         </table>
        
       </td>
</tr>
       <tr>
<td class="clnumber">1.4 </td><td>
        Each attribute declaration in the <a href="#ct-attribute_declarations">{attribute declarations}</a> with a <a href="#a-min_occurs">{min occurs}</a> of <code>1</code> matches one of the attribute information items in the element information item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[children]</a> as per clause 3 above.
       </td>
</tr>
      </table>
     
    </div>
</div>
    <div class="constraintnote">
<a name="sic-attrDefault"></a><b>Schema Information Set Contribution:  Attribute Default Value</b>
<br>
<div class="constraint">
     
     For each attribute declaration in the <a href="#ct-attribute_declarations">{attribute declarations}</a> with a <a href="#a-min_occurs">{min occurs}</a> of <code>0</code> which has a <a href="#a-value_constraint">{value constraint}</a> and does not match one of the attribute information items in the element information item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[children]</a> as per clause 1.3 of <a href="#cvc-complex-type">Element Children and Attributes Valid (&sect;3.4)</a> above, the post-schema
validation infoset has an attribute information item whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[local name]</a> is that attribute declaration's <a href="#a-name">{name}</a>
whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[namespace URI]</a> is the attribute declaration's <a href="#a-target_namespace">{target namespace}</a> and whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[children]</a> are a list of character information items, one per character
in the declaration's <a href="#a-value_constraint">{value constraint}</a> string, added to the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> of the element information item.  Furthermore, the item's
<a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[specified]</a> is set to <i>schema</i>.
    </div>
</div>
    <div class="constraintnote">
<a name="sic-ct-outcome"></a><b>Schema Information Set Contribution:  Validation Outcome (Complex Type)</b>
<br>
<div class="constraint">
     
     If the schema-validity, as defined by <a href="#cvc-complex-type">Element Children and Attributes Valid (&sect;3.4)</a>
above, of an element information item has been assessed,
in the post-schema validation infoset the item has a
<strong>[validity]</strong> 
property, whose value is <i>complete</i> if the item is schema-valid,
<i>partial</i> if it is not schema-valid but some or all of its element
information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> and/or its <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> are either schema-valid
or laxly schema-valid, otherwise <i>not</i>.
    </div>
</div>
<p>There is a complex type definition equivalent to the <a href="#key-urType">ur-type definition</a> present in every
schema by definition.  It has the following properties:</p>
    <table class="schemaComp" border="1">
<thead>
<tr>
<th><strong>Complex Type Definition of the Ur-Type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td><a href="#ct-name">{name}</a></td><td>Not specified</td>
</tr>
<tr>
<td><a href="#ct-target_namespace">{target namespace}</a></td><td><a href="#key-null">absent</a></td>
</tr>
<tr>
<td><a href="#ct-base_type_definition">{base type definition}</a></td><td>Itself</td>
</tr>
<tr>
<td><a href="#derivation_method">{derivation method}</a></td><td><i>restriction</i></td>
</tr>
<tr>
<td><a href="#content_type">{content type}</a></td><td>A pair consisting of <i>mixed</i> and a
particle with the following properties: 
       <table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr>
<td><a href="#term">{term}</a></td><td> a
<a href="#Wildcard_details">wildcard</a> with an <i>any</i>
<a href="#namespace_constraint">{namespace constraint}</a> </td>
</tr>
<tr>
<td><a href="#p-min_occurs">{min occurs}</a></td><td>0</td>
</tr>
<tr>
<td><a href="#p-max_occurs">{max occurs}</a></td><td>unbounded</td>
</tr>
</tbody>
</table>
      </td>
</tr>
<tr>
<td><a href="#ct-attribute_declarations">{attribute declarations}</a></td><td>The empty set</td>
</tr>
<tr>
<td><a href="#ct-attribute_wildcard">{attribute wildcard}</a></td><td>
        <a href="#namespace_constraint">{namespace constraint}</a> is <i>any</i></td>
</tr>
<tr>
<td><a href="#ct-final">{final}</a></td><td>The empty set</td>
</tr>
<tr>
<td><a href="#ct-exact">{prohibited-substitutions}</a></td><td>The empty set</td>
</tr>
<tr>
<td><a href="#ct-abstract">{abstract}</a></td><td>false</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
    <p>The <code>mixed</code> content specification together with the
unconstrained wildcard content model and attribute specification produce the defining property for the
<a href="#key-urType">ur-type definition</a>, namely that <i>every</i> complex type
definition is (eventually) a restriction
of the <a href="#key-urType">ur-type definition</a>: its permissions and requirements are
the least restrictive possible.</p>
   </div>
   <div class="div2">
    <h3>
<a name="Attribute_Group_Definition_details"></a>3.5 Attribute Group Definition Details</h3>
<p>A schema can name a group of attribute declarations so that they may be incorporated as a
group into complex type definitions.</p>
<p>
Attribute group definitions do not participate in schema-validation as such, but the
<a href="#ct-attribute_declarations">{attribute declarations}</a> and <a href="#ct-attribute_wildcard">{attribute wildcard}</a> of one or
more complex type definitions may be constructed in whole or part by reference
to an attribute group.  Thus, attribute group definitions provide a
replacement for some uses of XML's
<a href="#gloss-parameterEntity">parameter entities</a>.
Attribute group definitions are provided primarily for reference from the <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>
(see <a href="#element-complexType">complexType</a> and <a href="#element-attributeGroup">attributeGroup</a>).
</p>
    <p>The attribute group definition schema component has the
following properties:</p>

  <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Attribute_Group_Definition">Attribute Group Definition</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
   <dl class="props">
  <dt>
<a name="ag-name">{name}</a>
</dt>
<dd>
    An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="ag-target_namespace">{target namespace}</a>
</dt>
<dd>
    Either <a href="#key-null">absent</a> or a namespace URI, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="ag-attribute_declarations">{attribute declarations}</a>
</dt>
<dd>
    A set of attribute declarations.
   </dd>
  <dt>
<a name="ag-attribute_wildcard">{attribute wildcard}</a>
</dt>
<dd>
    Optional.  A wildcard.
   </dd>
    <dt>
<a name="ag-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
</dl>

  </td>
</tr>
</tbody>
</table>
</blockquote>

  <p>Attribute groups are identified by their <a href="#ag-name">{name}</a> and <a href="#ag-target_namespace">{target namespace}</a>; attribute group identities must be unique within an <a href="#key-schema">XML Schema</a>.  See <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a> for the use of component
identifiers when importing one schema into another.</p>
<p>
<a href="#ag-attribute_declarations">{attribute declarations}</a> is a set of attribute declarations specifically identified as
members of the attribute group.</p>
<p>
<a href="#ag-attribute_wildcard">{attribute wildcard}</a> provides for an attribute wildcard to be included in an
attribute group.
See above under <a href="#Complex_Type_Definition_details">Complex Type Definition Details (&sect;3.4)</a> for the
interpretation of
attribute wildcards during validation.</p>
<p>See <a href="#cvc-complex-type">Element Children and Attributes Valid (&sect;3.4)</a> and <a href="#cvc-wildcard">Item Valid (Wildcard) (&sect;3.9)</a> for formal
details of attribute wildcard validation.
See <a href="#declare-attributeGroup">XML Representation of Attribute Group Definition Schema Components (&sect;4.3.4)</a> for the XML representation of
attribute group definitions, and <a href="#coss-attrGroup">Attribute Group Definition Constraints (&sect;5.4)</a> for constraints on
attribute group definition components as such.</p>
   </div>
   <div class="div2">
    <h3>
<a name="Model_Group_Definition_details"></a>3.6 Model Group Definition Details</h3>
<p>A model group definition associates a name and optional annotations with a <a href="#Model_Group">Model Group (&sect;2.2.3.1)</a>.
By reference to the name, the entire model group can be incorporated by reference into a <a href="#term">{term}</a>.</p>
<p>
Model group definitions are provided
primarily for reference from the <a href="#declare-type">XML Representation of Complex Type Definition Schema Components (&sect;4.3.3)</a> (see <a href="#element-complexType">complexType</a>
and <a href="#element-group">group</a>).  Thus, model group definitions provide a
replacement for some uses of XML's
<a href="#gloss-parameterEntity">parameter entities</a>.
</p>    <p>The model group definition schema component has the following
properties:</p>

  <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Model_Group_Definition">Model Group Definition</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>

   <dl class="props">
  <dt>
<a name="mg-name">{name}</a>
</dt>
<dd>
    An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="mg-target_namespace">{target namespace}</a>
</dt>
<dd>
    Either <a href="#key-null">absent</a> or a namespace URI, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="model_group">{model group}</a>
</dt>
<dd>
    A model group.
   </dd>
    <dt>
<a name="mg-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
</dl>
  </td>
</tr>
</tbody>
</table>
</blockquote>
<p>Model group definitions are identified by their <a href="#mg-name">{name}</a> and <a href="#mg-target_namespace">{target namespace}</a>; model group identities must be unique within an <a href="#key-schema">XML Schema</a>.  See <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a> for the use of component
identifiers when importing one schema into another.</p>
<p>Model group definitions <i>per se</i> do not participate in schema-validation, but the <a href="#term">{term}</a> of
a particle may correspond in whole or in part
to a model group from a model group definition.</p>
<p>
<a href="#model_group">{model group}</a> is the <a href="#Model_Group">Model Group (&sect;2.2.3.1)</a> for which the model group definition provides a name.</p>

     <p>See <a href="#declare-namedModelGroup">XML Representation of Model Group Definition Schema Components (&sect;4.3.5)</a> for the XML representation of
model group definitions and <a href="#coss-groupDef">Model Group Definition Constraints (&sect;5.6)</a> for constraints on model group definition components as such.</p>

   </div>
   <div class="div2">
    <h3>
<a name="Model_Group_details"></a>3.7 Model Group Details</h3>
    <p>
When the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of element information items are not constrained
to be <i>empty</i> or by reference to a simple type definition
(<a href="#Simple_Type_Definition_details">(non-normative) Simple Type Definition Details (&sect;3.13)</a>), the sequence of element
information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> content may be specified in
more detail with a model group.  Because the <a href="#term">{term}</a> property of a particle can be a
model group, and model groups contain particles, model groups can indirectly contain other model groups; the grammar for content models
is therefore recursive.</p>

    <p>The model group schema component has the following
properties:</p>

  <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Model_Group">Model Group</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
   <dl class="props">
  <dt>
<a name="compositor">{compositor}</a>
</dt>
<dd>
    One of <i>all</i>, <i>choice</i> or <i>sequence</i>.
   </dd>
  <dt>
<a name="particles">{particles}</a>
</dt>
<dd>
    A list of particles
   </dd>
    <dt>
<a name="amg-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
</dl>
  </td>
</tr>
</tbody>
</table>
</blockquote>
<p>
<a href="#compositor">{compositor}</a>determines whether the element
information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> validated by the model group must:
</p>
<ul>
<li>(<i>sequence</i>) correspond, in order, to the specified <a href="#particles">{particles}</a>;
</li>
<li>(<i>choice</i>) corresponded to exactly one of the specified <a href="#particles">{particles}</a>;
</li>
<li>(<i>all</i>, (in which case <a href="#particles">{particles}</a> is restricted to contain local and global element
declarations, with <a href="#p-min_occurs">{min occurs}</a><code>=0</code> or
<code>1</code>, <a href="#p-max_occurs">{max occurs}</a><code>=1</code>) contain exactly zero or one of each element specified in <a href="#particles">{particles}</a>.  The elements can occur in any order.
</li>
</ul>
    <p>When two or more element declarations with the same identity occur at
any level within a model group, their type definitions must be the same.</p>
<p>
<a href="#amg-annotation">{annotation}</a>Description to be supplied in a future draft.</p>
<div class="constraintnote">
<a name="cvc-model-group"></a><b>Validation Contribution:  Element Sequence Valid</b>
<br>
<div class="constraint">
 
 <span class="termdef"><a name="key-partition">[Definition:]&nbsp;&nbsp;</a>We define a
<b>partition</b> of a sequence as a sequence of sub-sequences, some or
all of which may be empty, such that concatenating all the sub-sequences yields
the original sequence.</span>
<p>
</p>
 A sequence (possibly empty) of element information items is schema-valid with respect to
a model group if
  <table class="constraintlist">
   <tr>
<td class="clnumber">1.1 </td><td>
    The <a href="#compositor">{compositor}</a> is <i>sequence</i> and there is a
<a href="#key-partition">partition</a> of the sequence into <code>n</code> sub-sequences where <code>n</code> is the length of <a href="#particles">{particles}</a> such that each of the sub-sequences in order is schema-valid
with respect to the corresponding particle in the <a href="#particles">{particles}</a> as defined in <a href="#cvc-particle">Element Sequence Valid (Particle) (&sect;3.8)</a>;
   </td>
</tr>
  </table>
  or
  <table class="constraintlist">
   <tr>
<td class="clnumber">1.2 </td><td>
    The <a href="#compositor">{compositor}</a> is <i>choice</i> and there is a
particle among the <a href="#particles">{particles}</a> such that the sequence is
schema-valid with respect to that particle as defined in <a href="#cvc-particle">Element Sequence Valid (Particle) (&sect;3.8)</a>;
   </td>
</tr>
  </table>
  or
  <table class="constraintlist">
   <tr>
<td class="clnumber">1.3 </td><td>
    The <a href="#compositor">{compositor}</a> is <i>all</i> and there is a
<a href="#key-partition">partition</a> of the sequence into <code>n</code> sub-sequences where <code>n</code> is the length of <a href="#particles">{particles}</a> such that there is a one-to-one mapping between the sub-sequences and the <a href="#particles">{particles}</a> where each sub-sequence is schema-valid with respect to the corresponding particle as defined in <a href="#cvc-particle">Element Sequence Valid (Particle) (&sect;3.8)</a>;
   </td>
</tr>
  </table>
 <p>
</p>
 Nothing in the above should be understood as ruling out groups whose
<a href="#particles">{particles}</a> is empty:  although no sequence can be schema-valid
with respect to such a group whose <a href="#compositor">{compositor}</a> is
<i>choice</i>, the empty sequence <i>is</i> schema-valid with respect
to empty groups whose <a href="#compositor">{compositor}</a> is <i>sequence</i> or <i>all</i>.
</div>
</div>
    <blockquote>
<b>NOTE: </b>
     The above definition is implicitly non-deterministic, and should not be
taken as a recip&eacute; for implementations.  Note in particular that when 
<a href="#compositor">{compositor}</a> is <i>all</i>, particles is restricted to a list
of local and global element declarations (see <a href="#coss-modelGroup">Model Group Constraints (&sect;5.7)</a>).   A much simpler implementation is possible than would arise from a literal interpretation of the definition above; informally, the content is valid when each declared element occurs exactly once (or at most once, if <a href="#p-min_occurs">{min occurs}</a> is <code>0</code>), and each is valid with respect to its corresponding declaration.  The elements can occur in arbitrary order.
    </blockquote>
<p>See <a href="#declare-contentModel">XML Representation of Model Group Schema Components (&sect;4.3.6)</a> for the XML representation of
model groups and <a href="#coss-modelGroup">Model Group Constraints (&sect;5.7)</a> for constraints
on model group components as such.</p>

   </div>
   <div class="div2">
    <h3>
<a name="Particle_details"></a>3.8 Particle Details</h3>

    <p>As described in <a href="#Model_Group_details">Model Group Details (&sect;3.7)</a>, particles contribute to the definition
of content models.  The particle schema component has the following properties:</p>

  <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Particle">Particle</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
   <dl class="props">
    <dt>
<a name="p-min_occurs">{min occurs}</a>
</dt>
<dd>A non-negative
integer</dd>
    <dt>
<a name="p-max_occurs">{max occurs}</a>
</dt>
<dd>Either a non-negative integer
or <i>unbounded</i>
</dd>
    <dt>
<a name="term">{term}</a>
</dt>
<dd>One of a model group, a wildcard, or an  element declaration.</dd>
   </dl>

  </td>
</tr>
</tbody>
</table>
</blockquote>
<p>The following is an informal overview of the properties of a particle.  Formal interpretation of
these properties is found in  <a href="#cvc-particle">Element Sequence Valid (Particle) (&sect;3.8)</a>.</p>
<p>In general, multiple element
information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, possibly with intervening character <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> if the content type
is <i>mixed</i>, can be validated with respect to a single particle. <a href="#p-min_occurs">{min occurs}</a> determines the minimum number of such element <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> that can validly occur.  The number of such children must be greater than or equal to <a href="#p-min_occurs">{min occurs}</a>.  If <a href="#p-min_occurs">{min occurs}</a> is <i>0</i>, then occurrence of such children is optional.   </p>
<p>The number of such element <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> must be less than or equal to any numeric specification of
<a href="#p-max_occurs">{max occurs}</a>; if <a href="#p-max_occurs">{max occurs}</a> is <i>unbounded</i>, then there is no
upper bound on the number of such children.</p>
<div class="constraintnote">
<a name="cvc-particle"></a><b>Validation Contribution:  Element Sequence Valid (Particle)</b>
<br>
<div class="constraint">
 
 A sequence (possibly empty) of element information items is schema-valid
with respect to a particle if either
  <table class="constraintlist">
   <tr>
<td class="clnumber">1.1.1 </td><td>
    The length of the sequence is greater than or equal to the <a href="#p-min_occurs">{min occurs}</a>;
   </td>
</tr>
   <tr>
<td class="clnumber">1.1.2 </td><td>
    If <a href="#p-max_occurs">{max occurs}</a> is a number, the length of the sequence is less than or equal to the <a href="#p-max_occurs">{max occurs}</a>;
   </td>
</tr>
   <tr>
<td class="clnumber">1.1.3 </td><td>
    Either
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1.3.1 </td><td>
      the <a href="#term">{term}</a> is a wildcard and each element
information item in the sequence is schema-valid with respect to the wildcard as defined by <a href="#cvc-wildcard">Item Valid (Wildcard) (&sect;3.9)</a>
     </td>
</tr>
    </table>
     or
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1.3.2.1 </td><td>
      the <a href="#term">{term}</a> is an element declaration;
     </td>
</tr>
      <tr>
<td class="clnumber">1.1.3.2.2 </td><td>
       for each element
information item in the sequence either
        <table class="constraintlist">
         <tr>
<td class="clnumber">1.1.3.2.2.1 </td><td>
          the element declaration is local (i.e. its
<a href="#e-scope">{scope}</a> is not <i>global</i>), its <a href="#e-abstract">{abstract}</a> is false, the element information
item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> is identical to the element declaration's <a href="#e-target_namespace">{target namespace}</a> (where an <a href="#key-null">absent</a> <a href="#e-target_namespace">{target namespace}</a> is taken to be identical to a <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> with no value), the element information
item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[local
name]</a> matches the element declaration's <a href="#e-name">{name}</a> and the element information item is schema-valid with respect to the
declaration as defined in <a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a>;
         </td>
</tr>
        </table>
        or
        <table class="constraintlist">
         <tr>
<td class="clnumber">1.1.3.2.2.2 </td><td>
          the element declaration is global (i.e. its
<a href="#e-scope">{scope}</a> is <i>global</i>), <a href="#e-abstract">{abstract}</a> is false, the element information
item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> is identical to the element declaration's <a href="#e-target_namespace">{target namespace}</a> (where an <a href="#key-null">absent</a> <a href="#e-target_namespace">{target namespace}</a> is taken to be identical to a <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> with no value), the element information
item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[local
name]</a> matches the element declaration's <a href="#e-name">{name}</a> and the element information item is schema-valid with respect to the
element declaration as defined in <a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a>;
         </td>
</tr>
        </table>
        or
        <table class="constraintlist">
         <tr>
<td class="clnumber">1.1.3.2.2.3 </td><td>
          the element declaration is global (i.e. its
<a href="#e-scope">{scope}</a> is <i>global</i>), its <a href="#e-exact">{disallowed substitutions}</a> does not contain <i>equivClass</i>,
the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[local
]</a> and <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> of the element information item resolve to an element declaration, as
defined in <a href="#cvc-resolve-instance">QName resolution (Instance) (&sect;3)</a> -- <span class="termdef"><a name="key-eqd">[Definition:]&nbsp;&nbsp;</a>call this declaration the <b>equivalent declaration</b></span>, the <a href="#key-eqd">equivalent declaration</a> together with the element declaration's <a href="#e-exact">{disallowed substitutions}</a> is validly equivalent to the particle's element declaration as defined in <a href="#cos-equiv-derived-ok-rec">Equivalence Class OK (Transitive) (&sect;5.2)</a> and the element information item is schema-valid with respect to the
<a href="#key-eqd">equivalent declaration</a> as defined in <a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a>;
         </td>
</tr>
        </table>
       
      </td>
</tr>
    </table>
    
   </td>
</tr>
  </table>
  or
  <table class="constraintlist">
     <tr>
<td class="clnumber">1.2 </td><td>
      the <a href="#term">{term}</a> is a model group and there is a <a href="#key-partition">partition</a> of the sequence into <code>n</code> sub-sequences such that <code>n</code> is greater than or equal to <a href="#p-min_occurs">{min occurs}</a> and, if <a href="#p-max_occurs">{max occurs}</a> is a number, less than or equal to <a href="#p-max_occurs">{max occurs}</a> and each sub-sequence is schema-valid with respect to that model group as defined in <a href="#cvc-model-group">Element Sequence Valid (&sect;3.7)</a>;
     </td>
</tr>
    </table>
 
</div>
</div>
      <p>
See <a href="#declare-contentModel">XML Representation of Model Group Schema Components (&sect;4.3.6)</a> for the XML representation of
particles and <a href="#coss-particle">Particle Constraints (&sect;5.10)</a> for constraints
on particle components as such.</p>

   </div>
   <div class="div2">
    <h3>
<a name="Wildcard_details"></a>3.9 Wildcard Details</h3>
    <p>In order to exploit the full potential for extensibility offered by XML
plus namespaces, more provision is needed than DTDs allow for targeted flexibility in content
models and attribute declarations.  A wildcard provides for validation of
attribute and element information items dependent on their namespace
URI, but independently
of their local name.  The wildcard schema component has the following properties:</p>
     <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Wildcard">Wildcard</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
   <dl class="props">
  <dt>
<a name="namespace_constraint">{namespace constraint}</a>
</dt>
<dd>
    One of <i>any</i>; a pair of <i>not</i> and a namespace URI
or <a href="#key-null">absent</a>; or a set whose
members are either namespace URIs or <a href="#key-null">absent</a>.
   </dd>
    <dt>
<a name="process_contents">{process contents}</a>
</dt>
<dd>One of <i>skip</i>, <i>lax</i> or <i>strict</i>
</dd>
    <dt>
<a name="w-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
</dl>
 </td>
</tr>
</tbody>
</table>
</blockquote>
<p>
<a href="#namespace_constraint">{namespace constraint}</a> provides for validation of elements that:
</p>
<ol>
<li>
(<i>any</i>) have any namespace or are not namespace qualified;
</li>
<li>
(<i>not</i> and a namespace URI) have any namespace other than the specified namespace URI, or
are not namespace qualified;
</li>
<li>
(<i>not</i> and <a href="#key-null">absent</a>) are namespace qualified;
</li>
<li>
(a set whose
members are either namespace URIs or <a href="#key-null">absent</a>) have any of the
specified namespaces and/or, if <a href="#key-null">absent</a> is included in the set, are unqualified.
</li>
</ol>
    <p>
<a href="#process_contents">{process contents}</a> controls the impact on schema-validity
of the information items allowed by wildcards, as follows:
     </p>
<dl>
      
       <dt>
<b>strict</b>
</dt>
       <dd>
        There must be a global declaration for the item available, and it
must be schema-valid with respect to that definition.
       </dd>
      
      
       <dt>
<b>skip</b>
</dt>
       <dd>
        No constraints at all:  the item must simply be well-formed XML.
       </dd>
      
      
       <dt>
<b>lax</b>
</dt>
       <dd>
        If the item, or any items among its <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> if it's an element
information item, has a uniquely
determined declaration available, it must be laxly schema-valid with respect to
that definition, that is, schema-validate where you can, don't worry when you can't.
       </dd>
      
     </dl>
<p>
    </p>
    <div class="constraintnote">
<a name="cvc-wildcard"></a><b>Validation Contribution:  Item Valid (Wildcard)</b>
<br>
<div class="constraint">
     
     An element or attribute information item is schema-valid with respect to a wildcard
constraint if
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1 </td><td>
        its <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> is schema-valid with respect to the wildcard constraint, as defined in <a href="#cvc-wildcard-namespace">Wildcard allows Namespace URI (&sect;3.9)</a>;
       </td>
</tr>
       <tr>
<td class="clnumber">1.2 </td><td>
        Either
         <table class="constraintlist">
          <tr>
<td class="clnumber">1.2.1 </td><td>
           <a href="#process_contents">{process contents}</a> is <i>skip</i>
          </td>
</tr>
         </table>
         or
         <table class="constraintlist">
          <tr>
<td class="clnumber">1.2.2.1 </td><td>
           <a href="#process_contents">{process contents}</a> is <i>strict</i>;
          </td>
</tr>
          <tr>
<td class="clnumber">1.2.2.2 </td><td>
           The <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[local name]</a> and <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> resolve to an element or attribute declaration, as appropriate to the kind of item, as defined by <a href="#cvc-resolve-instance">QName resolution (Instance) (&sect;3)</a>;
          </td>
</tr>
          <tr>
<td class="clnumber">1.2.2.3 </td><td>
           The item is schema-valid with respect to that
declaration, as defined by <a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a> or <a href="#cvc-attribute">Attribute Valid (&sect;3.2)</a>.
          </td>
</tr>
         </table>
         or
         <table class="constraintlist">
          <tr>
<td class="clnumber">1.2.3.1 </td><td>
           <a href="#process_contents">{process contents}</a> is <i>lax</i>
          </td>
</tr>
          <tr>
<td class="clnumber">1.2.3.2 </td><td>
           The information item is laxly valid, as defined by <a href="#cvc-elt-lax">Element Valid (Lax) (&sect;3.3)</a> or <a href="#cvc-attr-lax">Attribute Valid (Lax) (&sect;3.2)</a>, as appropriate to the kind of item.
          </td>
</tr>
         </table>
        
       </td>
</tr>
      </table>
     
    </div>
</div>
    <div class="constraintnote">
<a name="cvc-wildcard-namespace"></a><b>Validation Contribution:  Wildcard allows Namespace URI</b>
<br>
<div class="constraint">
     
     A value which is either a namespace URI or <a href="#key-null">absent</a> is schema-valid with respect to a wildcard constraint (the
value of a <a href="#namespace_constraint">{namespace constraint}</a>) if
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1 </td><td>
        the constraint is <i>any</i>;
       </td>
</tr>
      </table>
      or
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.2 </td><td>
        the constraint is a pair of <i>not</i> and a namespace URI, and
the value is not identical to the namespace URI;
       </td>
</tr>
      </table>
      or
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.3 </td><td>
        the constraint is a set, and the value is identical to one of the members of the set.
       </td>
</tr>
      </table>
     
    </div>
</div>
    <div class="constraintnote">
<a name="sic-skipped"></a><b>Schema Information Set Contribution:  Validation Outcome (skipped)</b>
<br>
<div class="constraint">
     
     If clause 1.2.1 of <a href="#cvc-wildcard">Item Valid (Wildcard) (&sect;3.9)</a> above obtains with
respect to an information item, in the post-schema
validation infoset the item has a <strong>[validation attempted]</strong> property with the value <i>none</i>.
    </div>
</div>
     <p>
See <a href="#declare-openness">XML Representation of Wildcard Schema Components (&sect;4.3.7)</a> for the XML representation of
wildcards and <a href="#coss-wildcard">Wildcard Constraints (&sect;5.5)</a> for constraints
on wildcard components as such.</p>
   </div>
<div class="div2">
    <h3>
<a name="Identity-constraint_Definition_details"></a>3.10 Identity-constraint Definition Details</h3>
<p>Identity-constraint definition components provide for uniqueness and reference constraints with respect
to the contents of multiple elements and attributes.  The identity-constraint definition schema component has the following
properties:
</p>   

  <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Identity-constraint_Definition">Identity-constraint Definition</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>

   <dl class="props">
  <dt>
<a name="c-name">{name}</a>
</dt>
<dd>
    An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="c-target_namespace">{target namespace}</a>
</dt>
<dd>
    Either <a href="#key-null">absent</a> or a namespace URI, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="identity-constraint_name">{identity-constraint category}</a>
</dt>
<dd>
    One of <i>key</i>, <i>keyref</i> or <i>unique</i>.
   </dd>
  <dt>
<a name="selector">{selector}</a>
</dt>
<dd>
    An XPath expression, as defined in <a href="#bib-xpath">[XPath]</a>
   </dd>
  <dt>
<a name="fields">{fields}</a>
</dt>
<dd>
    An a non-empty list of XPath expressions, as defined in <a href="#bib-xpath">[XPath]</a>
   </dd>
  <dt>
<a name="referenced_key">{referenced key}</a>
</dt>
<dd>
    Required if <a href="#identity-constraint_name">{identity-constraint category}</a> is <i>keyref</i>, forbidden
otherwise.  A identity-constraint definition with <a href="#identity-constraint_name">{identity-constraint category}</a>
equal to <i>key</i> or <i>unique</i>.
   </dd>
    <dt>
<a name="rc-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
</dl>
  </td>
</tr>
</tbody>
</table>
</blockquote>
<p>Identity-constraint definitions are identified by their <a href="#c-name">{name}</a> and <a href="#c-target_namespace">{target namespace}</a>; Identity-constraint definition identities must be unique within an <a href="#key-schema">XML Schema</a>.  See <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a> for the use of component
identifiers when importing one schema into another.</p>
<p>Informally, <a href="#identity-constraint_name">{identity-constraint category}</a> identifies the Identity-constraint definition as playing one of
three roles:
</p>
<ul>
 
<li>(<i>unique</i>) the Identity-constraint definition asserts uniqueness, with respect to the content
identified by <a href="#selector">{selector}</a>, of the tuples resulting from evaluation of the <a href="#fields">{fields}</a> Xpath(s). </li>
 
<li>
(<i>key</i>) the Identity-constraint definition asserts uniqueness as for
<i>unique</i>.  <i>key</i> further asserts that all selected content
actually has such tuples.
</li>
<li>(<i>keyref</i>) the Identity-constraint definition asserts a correspondence, with respect to the content
identified by <a href="#selector">{selector}</a>, of the tuples resulting from evaluation of the <a href="#fields">{fields}</a> Xpath(s), with those of the <a href="#referenced_key">{referenced key}</a>. </li>
</ul>
<p> </p>
<p>These constraints are specified independently of the types of the
attributes and elements involved, i.e. something declared as of type integer
may also serve as a key, unlike <code>ID</code> and
<code>IDREF</code>.  Each constraint declaration has a name, which exists in a
single symbol space for constraints.  The equality and inequality conditions
appealed to in checking these constraints applies to the <i>value</i> of
the fields selected, so that for example <code>3.0</code> and <code>3</code>
would be conflicting keys if they were both decimal, but non-conflicting if
they were both strings, or one was a string and one a decimal.</p>
    <p>Overall the augmentations to XML's <code>ID/IDREF</code> mechanism are:</p>
    <ul>
     <li>Not just attribute values, but also element content and combinations
of values and content can be declared to be unique;</li>
     <li>Constraints are specified to hold within the scope of particular elements;</li>
     <li>(Combinations of) attribute values and/or element content can be
declared to be keys, that is, not only unique, but always present and non-nullable;</li>
     <li>
      The comparison between <i>keyref</i> <a href="#fields">{fields}</a> and
<i>key</i> or <i>unique</i> <a href="#fields">{fields}</a> is by value equality,
not by string equality.
     </li>
    </ul>
    <p>
<a href="#selector">{selector}</a> specifies an XPath expression <a href="#bib-xpath">[XPath]</a> relative to
instances of the element being declared.  This must identify a node set of subelements (i.e. elements contained within the declared element) to which the constraint applies.</p>
    <p>
<a href="#fields">{fields}</a> specifies XPath expressions relative to each
element selected by a <a href="#selector">{selector}</a>.  This must identify
a single node (element or attribute, not necessarily within the selected element) whose content or value, which must be
of a simple type, is used in the constraint.  It is possible to specify an
ordered list of <a href="#fields">{fields}</a>s, to cater to multi-field keys,
keyrefs, and uniqueness constraints.
     </p>
 <blockquote>
<b>NOTE: </b>
      Provision for multi-field keys etc. goes beyond what is supported by <code>xsl:key</code>.
     </blockquote>
 <blockquote>
<b>NOTE: </b>
     If reference to a key or unique defined in a scoping element which may
occur more than once is envisaged (which reference may be from outside any of
the scoping elements), then the scoping elements themselves must
have keys (typically unique across the entire document), and the scoped keys must include the
key of their scoping element among their fields.
    </blockquote>

<p>A formal description of Identity-constraint definition validation is given below in <a href="#cvc-identity-constraint">Identity-constraint Satisfied (&sect;3.10)</a>
</p>

 <div class="constraintnote">
<a name="cvc-identity-constraint"></a><b>Validation Contribution:  Identity-constraint Satisfied</b>
<br>
<div class="constraint">
  
  An element information item is schema-valid with respect to a identity-constraint if
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     The <a href="#selector">{selector}</a>, with the element information item as the
context node, evaluates to a node-set (as defined in
<a href="#bib-xpath">[XPath]</a>).  <span class="termdef"><a name="key-tns">[Definition:]&nbsp;&nbsp;</a>Call this the <b>target node set</b></span>;
    </td>
</tr>
    <tr>
<td class="clnumber">1.2 </td><td>
     Each node in the <a href="#key-tns">target node set</a> is an
element node among the descendants of the context node;
    </td>
</tr>
    <tr>
<td class="clnumber">1.3 </td><td>
     For each node in the <a href="#key-tns">target node set</a> all of the <a href="#fields">{fields}</a>, with that node as the context
node, evaluate to either an empty node-set or a node-set with exactly one
member.  <span class="termdef"><a name="key-ks">[Definition:]&nbsp;&nbsp;</a>Call the sequence of the values (as defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>) of those node-sets in order the <b>key-sequence</b> of the node</span>;
     
    </td>
</tr>
   </table>
  <p>
</p>
  
   <span class="termdef"><a name="key-qns">[Definition:]&nbsp;&nbsp;</a>Call the subset of the <a href="#key-tns">target node set</a> for
which all the <a href="#fields">{fields}</a> evaluate to a node-set with exactly one
member which is an element or attribute node the <b>qualified node set</b></span>;<p>
</p>
  <table class="constraintlist">
    <tr>
<td class="clnumber">2.1.1 </td><td>
     The <a href="#identity-constraint_name">{identity-constraint category}</a> is <i>unique</i>;
    </td>
</tr>
    <tr>
<td class="clnumber">2.1.2 </td><td>
     No two members of the <a href="#key-qns">qualified node
set</a> have <a href="#key-ks">key-sequences</a> whose members
are pairwise equal, as defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>;
    </td>
</tr>
   </table>
   or
   <table class="constraintlist">
    <tr>
<td class="clnumber">2.2.1 </td><td>
     The <a href="#identity-constraint_name">{identity-constraint category}</a> is <i>key</i>;
    </td>
</tr>
    <tr>
<td class="clnumber">2.2.2 </td><td>
     The <a href="#key-tns">target node set</a> and the <a href="#key-qns">qualified node
set</a> are equal, that is, every member of the <a href="#key-tns">target node set</a> is also a member of the <a href="#key-qns">qualified node
set</a> and <i>vice versa</i>;
    </td>
</tr>
    <tr>
<td class="clnumber">2.2.3 </td><td>
     No two members of the <a href="#key-qns">qualified node
set</a> have <a href="#key-ks">key-sequences</a> whose members
are pairwise equal;
    </td>
</tr>
    <tr>
<td class="clnumber">2.2.4 </td><td>
     No element member of the <a href="#key-ks">key-sequence</a> of any
member of the <a href="#key-qns">qualified node
set</a> was assessed as schema-valid by reference to an element
declaration whose <a href="#nullable">{nullable}</a> is <i>true</i>.
    </td>
</tr>
   </table>
   or
   <table class="constraintlist">
    <tr>
<td class="clnumber">2.3.1 </td><td>
     The <a href="#identity-constraint_name">{identity-constraint category}</a> is <i>keyref</i>;
    </td>
</tr>
    <tr>
<td class="clnumber">2.3.2 </td><td>
     For each member of the <a href="#key-qns">qualified node
set</a> (call this the <b>keyref member</b>), there must be a member of the <a href="#key-nt">node table</a> associated with the
<a href="#referenced_key">{referenced key}</a> in the <strong>[identity-constraint table]</strong>
of the element information item (see <a href="#sic-key">Identity-constraint Table (&sect;3.10)</a>, which must be
understood as logically prior to this clause of this constraint, below) whose
<a href="#key-ks">key-sequence</a> is equal to the
<b>keyref member's</b> <a href="#key-ks">key-sequence</a> member for member.
    </td>
</tr>
   </table>
  
 </div>
</div>
 <blockquote>
<b>NOTE: </b>
  This specification does not define a post-schema validation infoset
contribution which would enable schema-aware processors to implement clause
2.2.4 above.  This clause can be read as if there were such a contribution,
which recorded for example either the element declaration appealed to in
<a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a>, or the value of its <a href="#nullable">{nullable}</a> property.
 </blockquote>
 <div class="constraintnote">
<a name="sic-key"></a><b>Schema Information Set Contribution:  Identity-constraint Table</b>
<br>
<div class="constraint">
  
  <span class="termdef"><a name="key-ec">[Definition:]&nbsp;&nbsp;</a>An <b>eligible
identity-constraint</b> of an element information item is one such that clauses 2.1.[1-2] or 2.2.[1-3] of <a href="#cvc-identity-constraint">Identity-constraint Satisfied (&sect;3.10)</a> obtains
with respect to that item and that constraint,
or such that any of the element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of that item have a
<strong>[identity-constraint table]</strong> with an entry for that constraint</span>.<p>
</p>
  <span class="termdef"><a name="key-nt">[Definition:]&nbsp;&nbsp;</a>A <b>node table</b> is a set of pairs each consisting of
a <a href="#key-ks">key-sequence</a> and an element node</span>.<p>
</p>
  Whenever an element information item has one or more <a href="#key-ec">eligible constraints</a>, a new
<strong>[identity-constraint table]</strong> is added to the post-schema-validation
infoset for that element information item, consisting of pairs of identity-constraints
and <a href="#key-nt">node tables</a>, one for each of the item's
<a href="#key-ec">eligible constraints</a>, with the <a href="#key-nt">node table</a> in each pair defined as follows:  There is a member in the <a href="#key-nt">node table</a>
associated with an <a href="#key-ec">eligible constraint</a> of an
element information item consisting of a <a href="#key-ks">key-sequence</a> (call it <b>k</b>) and a node (call it <b>n</b>) if and only if
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1.1 </td><td>
     There is a member in one of the <a href="#key-nt">node
tables</a> associated with the <a href="#key-ec">eligible
constraint</a> in at least one of the <strong>[identity-constraint
tables]</strong> of the element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of the element
information item whose <a href="#key-ks">key-sequence</a> is <b>k</b> and whose node is <b>n</b>;
    </td>
</tr>
   </table>
  or
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1.2 </td><td>
     <b>n</b> is in the <a href="#key-qns">qualified node
set</a> for the <a href="#key-ec">eligible
constraint</a> of the element information item with <a href="#key-ks">key-sequence</a> <b>k</b>.
    </td>
</tr>
   </table>
  
    </td>
</tr>
    <tr>
<td class="clnumber">1.2 </td><td>
     There is no member in one of the <a href="#key-nt">node
tables</a> associated with the <a href="#key-ec">eligible
constraint</a> in any of the <strong>[identity-constraint
tables]</strong> of the element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of the element
information item whose <a href="#key-ks">key-sequence</a> is <b>k</b>
and whose node is a node other than <b>n</b>;
    </td>
</tr>
    <tr>
<td class="clnumber">1.3 </td><td>
     Some node distinct from <b>n</b> is in the <a href="#key-qns">qualified node
set</a> for the <a href="#key-ec">eligible
constraint</a> of the element information item with <a href="#key-ks">key-sequence</a> <b>k</b>.
    </td>
</tr>
   </table>
  
  <blockquote>
<b>NOTE: </b>This information set contribution, unlike others in this
specification, is essentially an internal bookkeeping mechanism.  It is introduced to
support the definition of <a href="#cvc-identity-constraint">Identity-constraint Satisfied (&sect;3.10)</a> above. 
Accordingly, conformant processors may, but are <i>not</i> required, to expose
<strong>[identity-constraint table]</strong>s in the post-schema-validation infoset.
In other words, the above constraints may be read as saying validation of
identity-constraints proceeds <i>as if</i> such an infoset property existed. 
</blockquote>
 </div>
</div> 
<p>
See <a href="#declare-key">XML Representation of Identity-constraint Definition Schema Components (&sect;4.3.8)</a> for the XML representation of
identity-constraint definitions and <a href="#coss-identity-constraint">Identity-constraint Definition Constraints (&sect;5.3)</a> for constraints
on identity-constraint definition components as such.</p>
   </div>
   <div class="div2">
    <h3>
<a name="Notation_Declaration_details"></a>3.11 Notation Declaration Details</h3>
    <p>
The notation declaration schema component has the following
properties:</p>

  <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Notation_Declaration">Notation Declaration</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
   <dl class="props">
  <dt>
<a name="n-name">{name}</a>
</dt>
<dd>
    An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="n-target_namespace">{target namespace}</a>
</dt>
<dd>
    Either <a href="#key-null">absent</a> or a namespace URI, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="system_identifier">{system identifier}</a>
</dt>
<dd>
    Optional if <a href="#public_identifier">{public identifier}</a> is present.  A URI reference.
   </dd>
  <dt>
<a name="public_identifier">{public identifier}</a>
</dt>
<dd>
    Optional if <a href="#system_identifier">{system identifier}</a> is present.  A public identifier, as defined in <a href="#ref-xml">[XML]</a>.
   </dd>
    <dt>
<a name="n-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
</dl>

  </td>
</tr>
</tbody>
</table>
</blockquote>
    <p>Notation declarations do not participate in schema-validation as such.
They are referenced in the course of schema-validating strings as members of
the <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#NOTATION">NOTATION</a> simple type.</p>
     <p>
See <a href="#declare-notation">XML Representation of Notation Declaration Schema Components (&sect;4.3.9)</a> for the XML representation of
notation declarations and <a href="#coss-notation">Notation Declaration Constraints (&sect;5.8)</a> for constraints on
notation declaration components as such.</p>

   </div>
   <div class="div2">
    <h3>
<a name="Annotation_details"></a>3.12 Annotation Details</h3>
    <p>The annotation schema component has the following
properties:</p>

  <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Annotation">Annotation</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>
   <dl class="props">
  <dt>
<a name="application_information">{application information}</a>
</dt>
<dd>
    A sequence of element information items.
   </dd>
  <dt>
<a name="user_information">{user information}</a>
</dt>
<dd>
    A set of element information items.
   </dd>
</dl>
  </td>
</tr>
</tbody>
</table>
</blockquote>
    <p>
<a href="#user_information">{user information}</a> is intended for human consumption, <a href="#application_information">{application information}</a> for automatic processing.  In both cases, provision is made for an optional URI reference to supplement the local information.  Schema validation does <i>not</i> involve dereferencing these URIs, when present.  In the case of <a href="#user_information">{user information}</a>, indication may be given as to the identity of the (human) language used in the contents, using the <code>xml:lang</code> attribute.</p>
    <p>Annotations do not participate in schema-validation as such.  Provided
an annotation itself satisfies all relevant <a href="#gloss-cos">Constraints of Schemas</a> it <i>cannot</i> affect the schema-validity of element information items.</p>
      <p>
See <a href="#declare-annotation">XML Representation of Annotation Schema Components (&sect;4.3.10)</a> for the XML representation of
annotations and <a href="#coss-annotation">Annotation Constraints (&sect;5.9)</a> for constraints
on annotation components as such.</p>
   </div>
<div class="div2">
    <h3>
<a name="Simple_Type_Definition_details"></a>3.13 (non-normative) Simple Type Definition Details</h3>
 <blockquote>
<b>NOTE: </b>
  This section reproduces a version of material from <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>, for local cross-reference purposes.
 </blockquote>
    <p>Simple type definitions provide for constraining character information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of element and attribute
information items.
The simple type definition schema component has the following properties:
</p>
 
      <blockquote class="compdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">Schema Component</font></strong>:&nbsp;
               <a href="#Simple_Type_Definition">Simple Type Definition</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>

   <dl class="props">
  <dt>
<a name="st-name">{name}</a>
</dt>
<dd>
    Optional.  An NCName as defined by <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
  <dt>
<a name="st-target_namespace">{target namespace}</a>
</dt>
<dd>
    Either <a href="#key-null">absent</a> or a namespace URI, as defined in <a href="#ref-xml-namespaces">[XML-Namespaces]</a>.
   </dd>
    <dt>
<a name="st-primitive_type_definition">{primitive type definition}</a>
</dt>
<dd>
    A built-in primitive simple type definition (or the <a href="#key-urType">ur-type definition</a>).
   </dd>
  <dt>
<a name="st-base_type_definition">{base type definition}</a>
</dt>
<dd>
    A simple type definition, which can be the <a href="#key-urType">ur-type definition</a>.
   </dd>
  <dt>
<a name="facets">{facets}</a>
</dt>
<dd>
    A set of constraining facets.
   </dd>
    <dt>
<a name="variety">{variety}</a>
</dt>
<dd>One of {<i>atomic</i>, <i>list</i>}</dd>    
  <dt>
<a name="st-annotation">{annotation}</a>
</dt>
<dd>Optional.  An annotation</dd>
  </dl>
  </td>
</tr>
</tbody>
</table>
</blockquote>

   
<p>Simple types are identified by their <a href="#st-name">{name}</a> and <a href="#st-target_namespace">{target namespace}</a>.  Except
for anonymous simple types (those with no <a href="#st-name">{name}</a>), since
type definitions (i.e. both simple and complex type definitions taken together) must be uniquely identified within an <a href="#key-schema">XML
Schema</a>, no simple type definition can have the same name as another
simple or complex type definition.  Simple type <a href="#st-name">{name}</a>s and <a href="#ct-target_namespace">{target namespace}</a>s
are provided for reference from
instances (see <a href="#xsi:type">xsi:type (&sect;2.6.1)</a>), and for use in the <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>
(specifically in <a href="#element-element">element</a> and <a href="#element-attribute">attribute</a>).  See <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a> for the use of component
identifiers when importing one schema into another.</p>
<blockquote>
<b>NOTE: </b>
The <a href="#st-name">{name}</a> of a simple type is not <i>ipso
facto</i> the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[(local) name]</a> of the
  element or attribute information items validated by that definition. The connection between a
  name and a type definition is described in <a href="#Element_Declaration_details">Element Declaration Details (&sect;3.3)</a> and <a href="#Attribute_Declaration_details">Attribute Declaration Details (&sect;3.2)</a>. 
</blockquote>
<p>
<a href="#variety">{variety}</a> determines whether the simple type corresponds to an
<i>atomic</i> or <i>list</i> type as defined by <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>. </p>   
<p>As described in <a href="#Type_Derivation">Type Definition Hierarchy (&sect;2.2.1.1)</a>, every <i>atomic</i> simple type definition is
a <a href="#key-typeRestriction">restriction</a> of some other simple
<a href="#st-base_type_definition">{base type definition}</a>, which is itself either a simple type
definition or the <a href="#key-urType">ur-type definition</a>. Each
atomic type is ultimately a restriction of exactly one built-in simple <a href="#st-primitive_type_definition">{primitive type definition}</a>.</p>
<p>
<a href="#facets">{facets}</a> for each <i>atomic</i> simple type definition are selected from those defined  in
<a href="#ref-xsp2">[XML Schemas: Datatypes]</a> for
the corresponding <a href="#st-primitive_type_definition">{primitive type definition}</a>.  Therefore, the value
space and lexical space (I.e. the content validated by) any atomic simple type is determined by the
pair {<a href="#st-primitive_type_definition">{primitive type definition}</a>, <a href="#facets">{facets}</a>}. </p>
<p>As specified in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>, <i>list</i> simple types validate whitespace separated tokens, each of
which conforms to the specified <a href="#st-base_type_definition">{base type definition}</a>.  The base type specified
must not itself be a <i>list</i> type, and must be one of the types identified in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a> as a
suitable base for a list simple type.</p>
 <blockquote>
<b>NOTE: </b>
  Careful readers will observe that the above specification of list types conflicts 
with the claim in 
<a href="#Type_Derivation">Type Definition Hierarchy (&sect;2.2.1.1)</a> that all simple types are restrictions of
other simple types.  This anomaly has no effect on the validation of content.
 </blockquote>
 <p>Simple type definitions for all the built-in primitive datatypes, namely <i>string</i>, <i>boolean</i>, <i>float</i>,
<i>double</i>, <i>decimal</i>, <i>timeInstant</i>, <i>timeDuration</i>,
<i>recurringInstant</i>, <i>binary</i>, <i>uri</i> (see the <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#built-in-primitive-datatypes">Primitive
Datatypes</a> section of <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>), as well as for the
<a href="#key-urType">ur-type definition</a> (as previously described), are present by definition in every schema.  All
are in the XML Schema <a href="#st-target_namespace">{target namespace}</a> (namespace
URI <code>http://www.w3.org/1999/XMLSchema</code>), have an <i>atomic</i> <a href="#variety">{variety}</a> with an empty
<a href="#facets">{facets}</a> and the <a href="#key-urType">ur-type definition</a> as
their <a href="#st-base_type_definition">{base type definition}</a> and themselves as <a href="#st-primitive_type_definition">{primitive type definition}</a>.</p>
<p>Similarly, simple type definitions for all the built-in derived
datatypes (see the <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#built-in-derived">Derived
Datatypes</a> section of <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>) are present by definition in every schema, with
properties as specified in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a> and as represented in XML in
<a href="#normative-schemaSchema">(normative) Schema for Schemas (&sect;A)</a>.
therein.</p>
 <p>There is no separate ur-Type for simple types.  As discussed in
<a href="#Type_Derivation">Type Definition Hierarchy (&sect;2.2.1.1)</a>, the <a href="#key-urType">ur-type definition</a> functions as a simple type when used as the <a href="#key-baseTypeDefinition">base type definition</a> for a simple type.</p>
 <div class="constraintnote">
<a name="cvc-simple-type"></a><b>Validation Contribution:  String Valid</b>
<br>
<div class="constraint">
 
 A string is schema-valid with respect to a simple type definition if
  it is schema-valid with respect to that definition as defined by
<a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#cvc-datatype-valid">Datatype Valid</a> in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.
 
</div>
</div>
     <p>See <a href="#declare-datatype">(non-normative) XML Representation of Simple Type Definition Schema Components (&sect;4.3.11)</a> for the XML representation of
simple type definitions and <a href="#coss-st">Simple Type Definition Constraints (&sect;5.12)</a> for constraints on simple
type definition components as such.</p>
   </div>
  </div>
  <div class="div1">
   <h2>
<a name="declare"></a>4 XML Representation of Schemas and Schema Components</h2>

    <p>The principal purpose of <i>XML Schema: Structures</i> is to define a set of
      schema components that constrain the contents of instances and augment the
      information sets thereof.  Although no external representation
of schemas is required for this purpose, such representations will
obviously be widely used. To provide for this in an appropriate and
interoperable way, we specify a normative XML representation for schemas which
makes provision for every kind of schema
component.  <span class="termdef"><a name="key-schemaDoc">[Definition:]&nbsp;&nbsp;</a>A document in
this form (i.e. a <a href="#element-schema">schema</a> element information item) is a <b>schema document</b></span>.  For the schema document as a whole, and
its constituents, the sections below define correspondences between element
information items (with declarations in
<a href="#normative-schemaSchema">(normative) Schema for Schemas (&sect;A)</a> and <a href="#normative-schemaDTD">(normative) DTD for Schemas (&sect;B)</a>) and
schema components.  All the element information items in the XML representation
of a schema are in the XML Schema namespace, that is their <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[namespace URI]</a> is <code>http://www.w3.org/1999/XMLSchema</code>.  Although a common way of creating schema documents will be using an XML parser, this is not required:  any mechanism which constructs conformant infosets as defined in <a href="#ref-xmlinfo">[XML-Infoset]</a> is a possible starting point.</p>
   <p>Throughout the following sections, when we specify that a particular
property
of a schema component corresponds to the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of some attribute information item or the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of some element information item,
the value in question is understood to be based on a string consisting of the list, in order, of the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.character">[character code]</a> of each character information item in the <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[children]</a> of that
attribute information item or in the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of that element information
item respectively, that string then being interpreted as appropriate to the
defined type of the property in question.</p>
  <p>  When we say that a numeric-valued property of a schema component
corresponds to the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of some attribute information item, the number in
question is understood to be the base 10 interpretation of the string described above.</p>
   <div class="div2">
      <h3>
<a name="declare-schema"></a>4.1 XML Representations of Schemas</h3>
     <p>A schema is represented in XML by one or more <a href="#key-schemaDoc">schema documents</a>.  A <a href="#key-schemaDoc">schema document</a> contains representations for a collection of schema components, e.g. type definitions and element declarations, which have a common <b>{target namespace}</b>.  A <a href="#key-schemaDoc">schema document</a> which has one or more <a href="#element-import">import</a> element information items corresponds to a schema with components with more than one <b>{target namespace}</b>, see <a href="#src-import">Import Constraints and Semantics (&sect;6.2.2)</a>.</p>
     <blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>schema</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-schema">&lt;schema</a>
<br>&nbsp;&nbsp;attributeFormDefault = <var>qualified</var> | <var>unqualified</var>&nbsp;:&nbsp;unqualified<br>&nbsp;&nbsp;blockDefault = <em>#all or (possibly empty) subset of {equivClass,
extension, restriction}</em>&nbsp;:&nbsp;''<br>&nbsp;&nbsp;elementFormDefault = <var>qualified</var> | <var>unqualified</var>&nbsp;:&nbsp;unqualified<br>&nbsp;&nbsp;finalDefault = <em>#all or (possibly empty) subset of {extension,
restriction}</em>&nbsp;:&nbsp;''<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;targetNamespace = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#uriReference">uriReference</a>
<br>&nbsp;&nbsp;version = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>((<a href="#element-include">include</a> | <a href="#element-import">import</a> | <a href="#element-annotation">annotation</a>)* , ((<a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> | <a href="#element-complexType">complexType</a> | <a href="#element-element">element</a> | <a href="#element-group">group</a> | <a href="#element-attribute">attribute</a> | <a href="#element-attributeGroup">attributeGroup</a> | <a href="#element-notation">notation</a>) , <a href="#element-annotation">annotation</a>*)+)<br>&lt;/schema&gt;</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#key-schema">Schema</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#type_definitions">{type definitions}</a></td><td>The simple and complex type definitions
corresponding to all the <a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> and <a href="#element-complexType">complexType</a> element information items in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any, plus any included or imported definitions, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&sect;6.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a>.</td>
</tr>
<tr valign="top">
<td><a href="#attribute_declarations">{attribute declarations}</a></td><td>The (global) attribute declarations
corresponding to all the <a href="#element-attribute">attribute</a> element information items in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any, plus any included or imported declarations, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&sect;6.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a>.</td>
</tr>
<tr valign="top">
<td><a href="#element_declarations">{element declarations}</a></td><td>The (global) element declarations
corresponding to all the <a href="#element-element">element</a> element information items in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any, plus any included or imported declarations, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&sect;6.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a>.</td>
</tr>
<tr valign="top">
<td><a href="#attribute_group_definitions">{attribute group definitions}</a></td><td>The attribute group definitions
corresponding to all the <a href="#element-attributeGroup">attributeGroup</a> element information items in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any, plus any included or imported definitions, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&sect;6.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a>.</td>
</tr>
<tr valign="top">
<td><a href="#model_group_definitions">{model group definitions}</a></td><td>The model group definitions
corresponding to all the <a href="#element-group">group</a> element information items in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any, plus any included or imported definitions, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&sect;6.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a>.</td>
</tr>
<tr valign="top">
<td><a href="#notation_declarations">{notation declarations}</a></td><td>The notation declarations
corresponding to all the <a href="#element-notation">notation</a> element information items in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any, plus any included or imported declarations, see <a href="#compound-schema">Assembling a schema for a single target namespace from multiple schema definition documents (&sect;6.2.1)</a> and <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a>.</td>
</tr>
<tr valign="top">
<td><a href="#annotations">{annotations}</a></td><td>The annotations
corresponding to all the <a href="#element-annotation">annotation</a> element information items in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
     <p>Note that none of the attribute information items displayed above
correspond directly to properties of schemas.  The <code>blockDefault</code>,
<code>finalDefault</code>, <code>attributeFormDefault</code>, <code>elementFormDefault</code>and <code>targetNamespace</code> attributes are appealed to in the sub-sections below, as they provide
global information applicable to many representation/component correspondences.  The
other attributes (<code>id</code> and <code>version</code>) are for user
convenience, and this specification defines no semantics for them.</p>
<p>The definition of the schema abstract data model in <a href="#concepts-data-model">XML Schema Abstract Data Model (&sect;2.2)</a> makes clear that most components have a <b>{target namespace}</b>.  Most components corresponding to representations within a given <a href="#element-schema">schema</a> element information item will have a <b>{target namespace}</b> which corresponds to the <code>targetNamespace</code> attribute. </p>
     <p>Since the empty string is a legal (relative) URI reference, supplying
an empty string for <code>targetNamespace</code> is <i>not</i> the same
as not specifying it at all.  The appropriate form of schema document
corresponding to a <a href="#key-schema">schema</a> whose components have no
<a href="#e-target_namespace">{target namespace}</a> is one which has no
<code>targetNamespace</code> attribute specified at all.</p>
     <blockquote>
<b>NOTE: </b>The XML namespaces recommendation discusses only instance document syntax for
elements and attributes; it therefore provides no direct framework for managing
the names of type definitions, attribute group definitions, and so on. Nevertheless, we apply the target namespace facility uniformly to all
schema components, i.e. not only declarations but also definitions have a <b>{target namespace}</b>.
</blockquote>



      <blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
        <tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:schema
    xmlns:xs="http://www.w3.org/1999/XMLSchema
    targetNamespace="http://purl.org/metadata/dublin_core"
    version="M.n"&gt;

  ...

&lt;/xs:schema&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
        <tr>
<td>A modest beginning to a schema.</td>
</tr>
    </tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
     <p>Although the schema above might be a complete XML document, <a href="#element-schema">schema</a>
need not be the document element, but can appear within other documents.
Indeed there is no requirement that a schema correspond to a (text) document
at all:  it could correspond to an element information item constructed 'by
hand', for instance via a DOM-conformant API.</p>
    <p>Aside from <a href="#element-include">include</a> and <a href="#element-import">import</a>, which do not correspond directly to any schema component at all, each of the element information
items which may appear in the content of <a href="#element-schema">schema</a> corresponds to
a schema component, and all except <a href="#element-annotation">annotation</a> are named.  The
sub-sections of <a href="#declare-typesElementsAttributes">XML Representation of Schema Components (&sect;4.3)</a>
present each such item in turn, setting out the
components to which it may correspond.</p>
</div>
<div class="div2">
  <h3>
<a name="refSchemaConstructs"></a>4.2 References to Schema Components</h3>
  <p>Reference to
   schema components from a schema document is managed in a uniform way,
whether the component corresponds to an element information item from the same schema document or is imported
(<a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a>) from an external schema (which may,
but need not, correspond to an actual schema document). The form
of all such references is a
    <a href="#gloss-QName">QName</a>.  In each of the XML
representation expositions in the following sections, an attribute is shown as
having type <code>QName</code> if and only if it is
interpreted as referencing a schema component.</p>

  <blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
    <tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:schema xmlns:xs="http://www.w3.org/1999/XMLSchema"
            xmlns:xhtml="http://www.w3.org/1999/xhtml"
            xmlns="http://www.foo.com"
            targetNamespace="http://www.foo.com"&gt;
  . . .

  &lt;xs:element name="elem1" type="Address"/&gt;

  &lt;xs:element name="elem2" type="xhtml:blockquote"/&gt;

  &lt;xs:attribute name="attr1"
                type="xsl:quantity"/&gt;
  . . .
&lt;/xs:schema&gt;

</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
    <tr>
<td>The first of these is most probably a local reference, i.e. a reference
to a type
definition corresponding to a <a href="#element-complexType">complexType</a> element information item
located elsewhere in the schema document, the other two refer to type
definitions from schemas for other namespaces and assume that their namespaces
have been declared for import.  See <a href="#composition-schemaImport">References to schema components across namespaces (&sect;6.2.2)</a> for a discussion of importing.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <div class="constraintnote">
<a name="src-qname"></a><b>Schema Representation Constraint:  QName Interpretation</b>
<br>
<div class="constraint">
  
  Where the type of an attribute information item in a document involved in
schema validation is
identified as
<a href="#gloss-QName">QName</a>, its value is uniformly
interpreted as consisting of a <span class="termdef"><a name="q-local">[Definition:]&nbsp;&nbsp;</a><b>local name</b> consisting of the character information items after the colon, if any, otherwise all the character information items, in the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a></span>, and of a <span class="termdef"><a name="q-uri">[Definition:]&nbsp;&nbsp;</a><b>namespace URI</b>, derived from its lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> and the containing element information item's <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[in-scope namespaces]</a> as follows:</span>
  <table class="constraintlist">
   <tr>
<td class="clnumber">1.1 </td><td>If the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> contains a colon, then the <a href="http://www.w3.org/TR/xml-infoset#infoitem.namespace-decl">[namespace URI]</a> of the member of the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[in-scope namespaces]</a> whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.namespace-decl">[prefix]</a> matches the character information items before the colon.  If no such member is present, the <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QName</a> is uninterpretable and the <a href="#src-element">Element Declaration Representation OK (&sect;4.3.2)</a> of element information item containing it is not satisfied;</td>
</tr>
   <tr>
<td class="clnumber">1.2 </td><td>otherwise (i.e. the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> contains no colon)
         <table class="constraintlist">
          <tr>
<td class="clnumber">1.2.1 </td><td>if there is a member of the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[in-scope namespaces]</a> whose <a href="http://www.w3.org/TR/xml-infoset#infoitem.namespace-decl">[prefix]</a> is <a href="#key-null">absent</a>, then its <a href="http://www.w3.org/TR/xml-infoset#infoitem.namespace-decl">[namespace URI]</a>;</td>
</tr>
          <tr>
<td class="clnumber">1.2.2 </td><td>otherwise <a href="#key-null">absent</a>.</td>
</tr>
         </table>
</td>
</tr>
  </table>
 <p>
</p>
  In the absence of the non-core properties <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[in-scope namespaces]</a> and/or <a href="http://www.w3.org/TR/xml-infoset#infoitem.namespace-decl">[namespace URI]</a> from the infoset for the schema document in question, processors must reconstruct equivalent information as necessary, using the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[declared namespaces]</a> of the containing element information item and its ancestors in the first case and using the namespace declaration in question's <a href="http://www.w3.org/TR/xml-infoset#infoitem.namespace-decl">[children]</a> in the second.
 </div>
</div>
 <p>Whenever the word "resolve" in any form is used in this
chapter in connection with a <a href="#gloss-QName">QName</a> in a
schema document, the
following definition should be understood as obtaining:</p>
 <div class="constraintnote">
<a name="src-resolve"></a><b>Schema Representation Constraint:  QName resolution (Schema Document)</b>
<br>
<div class="constraint">
  
  A string known to be a <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QName</a>
resolves to a schema component of a specified kind if:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     that component is a member of the value of the appropriate
property of the schema which corresponds to the schema
document within which the <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QName</a>
appears, that is
      <table class="constraintlist">
    <tr>
<td class="clnumber">1.1.1 </td><td>
      the <a href="#type_definitions">{type definitions}</a> if the kind specified is simple or complex type definition;
    </td>
</tr>
       <tr>
<td class="clnumber">1.1.2 </td><td>
     the <a href="#attribute_declarations">{attribute declarations}</a> if the kind specified is attribute declaration; 
    </td>
</tr>
    <tr>
<td class="clnumber">1.1.3 </td><td>
     the <a href="#element_declarations">{element declarations}</a> if the kind specified is element declaration; 
    </td>
</tr>
    <tr>
<td class="clnumber">1.1.4 </td><td>
     the <a href="#attribute_group_definitions">{attribute group definitions}</a> if the kind specified
is attribute group; 
    </td>
</tr>
    <tr>
<td class="clnumber">1.1.5 </td><td>
     the <a href="#model_group_definitions">{model group definitions}</a> if the kind specified is
model group;
    </td>
</tr>
    <tr>
<td class="clnumber">1.1.6 </td><td>
     the <a href="#notation_declarations">{notation declarations}</a> if the kind specified is notation declaration; 
    </td>
</tr>
   </table>
     
    </td>
</tr>
    <tr>
<td class="clnumber">1.2 </td><td>
     its <b>{local name}</b> matches the <a href="#q-local">local
name</a> of the string;
    </td>
</tr>
    <tr>
<td class="clnumber">1.3 </td><td>
     its <b>{target namespace}</b> is identical to the <a href="#q-uri">namespace URI</a> of the string;
    </td>
</tr>
    <tr>
<td class="clnumber">1.4 </td><td>
     its <a href="#q-uri">namespace URI</a> is either the target
namespace of the schema document containing the <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QName</a> or that schema document contains an <a href="#element-import">import</a> element information item the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of whose <code>namespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is identical to that <a href="#q-uri">namespace URI</a>.
    </td>
</tr>
   </table>
  
 </div>
</div>
 <div class="div3">
  <h4>
<a name="section-References-to-Schema-Components-from-Elsewhere"></a>4.2.1 References to Schema Components from Elsewhere</h4>
    <p>The names of schema components such as type definitions and element
declarations are not of type <code>ID</code>:  they are not
unique within a schema, just within a symbol space.  This means that simple
fragment identifiers will not always work to reference schema components from outside
the context of schema documents.</p>
    <p>There is currently no provision in the definition of the interpretation
of fragment identifiers for the <code>text/xml</code> MIME type, which is the
MIME type for schemas, for referencing
schema components as such.  However, we observe that
<a href="#ref-xpointer">[XPointer]</a> provides a mechanism which maps well onto our
notion of symbol spaces as it is reflected in the XML representation of schema components.  A fragment identifier of the form
<code>#xpointer(xs:schema/xs:element[@name="person"])</code> will uniquely identify
the representation of a global element declaration with name <code>person</code>, and similar fragment
identifiers can obviously be constructed for the other global symbol spaces.</p>
  <p>Short-form fragment identifiers may also be used in some cases, that is
when a DTD or XML Schema is available for the schema in question, and the
provision of an <code>id</code> attribute for the representations of all primary and secondary schema
components, which <i>is</i> of type
<code>ID</code>, has been exploited.</p>
  <p>It is a matter for applications to specify whether they interpret
document-level references of either of the above varieties as being to the relevant element information item (i.e. without
special recognition of the relation of schema documents to schema components) or as being to the
corresponding schema component.</p>
 </div>
</div>
<div class="div2">
<h3>
<a name="declare-typesElementsAttributes"></a>4.3 XML Representation of Schema Components</h3>

<p>For each kind of schema component there is a corresponding normative XML representation.
The sections below describe the correspondences between the properties of each kind of
schema component on the one hand and the properties of information items in
that XML representation on the other, together
with constraints on that representation above and beyond those implicit in the
<a href="#normative-schemaSchema">(normative) Schema for Schemas (&sect;A)</a> and <a href="#normative-schemaDTD">(normative) DTD for Schemas (&sect;B)</a>.</p>
 <p>The language used is as if the correspondences were mappings from XML representation to
schema component, but the mapping in the other direction, and therefore the
correspondence in the abstract, can always be
constructed therefrom.</p>
<div class="div3">
<h4>
<a name="declare-attribute"></a>4.3.1 XML Representation of Attribute Declaration Schema Components</h4>
<p>The XML representation for an attribute declaration schema component is an
<a href="#element-attribute">attribute</a> element information item.  It specifies a simple type
definition for an attribute either by reference or explicitly, and may provide
occurrence and default information.  The correspondences between the
properties of the information item and
properties of the component are as follows:</p>
<blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>attribute</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-attribute">&lt;attribute</a>
<br>&nbsp;&nbsp;form = <var>qualified</var> | <var>unqualified</var>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;name = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#NCName">NCName</a>
<br>&nbsp;&nbsp;ref = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>
<br>&nbsp;&nbsp;type = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>
<br>&nbsp;&nbsp;use = <var>default</var> | <var>fixed</var> | <var>optional</var> | <var>prohibited</var> | <var>required</var>&nbsp;:&nbsp;optional<br>&nbsp;&nbsp;value = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , <a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a>?)<br>&lt;/attribute&gt;</p>
</td>
</tr>
<tr>
<td>
<p>If the <a href="#element-attribute">attribute</a> element information item has <a href="#element-schema">schema</a> as its parent, the corresponding schema component is as follows:</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Attribute_Declaration_details">Attribute Declaration</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#a-name">{name}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>name</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
<tr valign="top">
<td><a href="#a-target_namespace">{target namespace}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <a href="#element-schema">schema</a>
element information item, or <a href="#key-null">absent</a> if there is none.</td>
</tr>
<tr valign="top">
<td><a href="#a-simple_type_definition">{simple type definition}</a></td><td>The simple type definition
corresponding to the <a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise the simple type definition <a href="#src-resolve">resolved</a> to by
the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>type</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the
<a href="#key-urType">ur-type definition</a>.</td>
</tr>
<tr valign="top">
<td><a href="#a-scope">{scope}</a></td><td><i>global</i></td>
</tr>
<tr valign="top">
<td><a href="#a-min_occurs">{min occurs}</a></td><td><a href="#key-null">absent</a></td>
</tr>
<tr valign="top">
<td><a href="#a-max_occurs">{max occurs}</a></td><td><a href="#key-null">absent</a></td>
</tr>
<tr valign="top">
<td><a href="#a-value_constraint">{value constraint}</a></td><td>If there is a <code>value</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, then a pair consisting of the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of that <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> and
<a href="#key-null">absent</a>, otherwise <a href="#key-null">absent</a>.</td>
</tr>
<tr valign="top">
<td><a href="#a-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a>.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>
   <p>otherwise if the <a href="#element-attribute">attribute</a> element information item has
<a href="#element-complexType">complexType</a> or <a href="#element-attributeGroup">attributeGroup</a> as an ancestor
and the <code>ref</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is absent the corresponding schema
component is an attribute declaration as follows (unless <code>use='prohibited'</code>, in which case the item
corresponds to no component at all)</p>
  </td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Attribute_Declaration_details">Attribute Declaration</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#a-name">{name}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>name</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
<tr valign="top">
<td><a href="#a-target_namespace">{target namespace}</a></td><td>If <code>form</code> is present and its
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> is <code>qualified</code>, or if <code>form</code> is absent and the
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of <code>attributeFormDefault</code> on the <a href="#element-schema">schema</a>
ancestor is <code>qualified</code>, then the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <a href="#element-schema">schema</a>
element information item, or <a href="#key-null">absent</a> if there
is none, otherwise <a href="#key-null">absent</a>.</td>
</tr>
<tr valign="top">
<td><a href="#a-simple_type_definition">{simple type definition}</a></td><td>The simple type definition
corresponding to the <a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise the simple type definition <a href="#src-resolve">resolved</a> to by
the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>type</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the
<a href="#key-urType">ur-type definition</a>.</td>
</tr>
<tr valign="top">
<td><a href="#a-scope">{scope}</a></td><td>If the <a href="#element-attribute">attribute</a> element information item
has <a href="#element-complexType">complexType</a> as an ancestor, the complex definition
corresponding to that item, otherwise (the <a href="#element-attribute">attribute</a> element
information item is within a top-level <a href="#element-attributeGroup">attributeGroup</a> definition), <a href="#key-null">absent</a>.</td>
</tr>
<tr valign="top">
<td><a href="#a-min_occurs">{min occurs}</a></td><td>Depending on the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>use</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, as follows:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     If it is <code>required</code>, then <code>1</code>
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     Otherwise (it is absent, <code>optional</code>, <code>default</code> or
<code>fixed</code> or <code>prohibited</code>), then <code>0</code>
    </td>
</tr>
   </table>.</td>
</tr>
<tr valign="top">
<td><a href="#a-max_occurs">{max occurs}</a></td><td>Depending on the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>use</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, as follows:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     If it is <code>prohibited</code>, then <code>0</code>
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     Otherwise (it is absent, <code>optional</code>, <code>default</code>,
<code>fixed</code> or <code>required</code>), then <code>1</code>
    </td>
</tr>
   </table>.</td>
</tr>
<tr valign="top">
<td><a href="#a-value_constraint">{value constraint}</a></td><td>If there is no <code>value</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, then <a href="#key-null">absent</a>, otherwise a pair consisting of the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of that <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> and
<i>default</i>, if the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>use</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is
<code>default</code>, otherwise <i>fixed</i>.</td>
</tr>
<tr valign="top">
<td><a href="#a-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a>.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>otherwise (the <a href="#element-attribute">attribute</a> element information item has
<a href="#element-complexType">complexType</a> or <a href="#element-attributeGroup">attributeGroup</a> as an ancestor and the
<code>ref</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is present), the corresponding schema component is as
follows (unless <code>use='prohibited'</code>, in which case the item
corresponds to no component at all), where <b>G</b> means the (global) attribute declaration <a href="#src-resolve">resolved</a> to by the
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>ref</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>:</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Attribute_Declaration_details">Attribute Declaration</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#a-name">{name}</a></td><td>The <a href="#a-name">{name}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#a-target_namespace">{target namespace}</a></td><td>The <a href="#a-target_namespace">{target namespace}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#a-scope">{scope}</a></td><td><i>global</i></td>
</tr>
<tr valign="top">
<td><a href="#a-simple_type_definition">{simple type definition}</a></td><td>The <a href="#a-simple_type_definition">{simple type definition}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#a-min_occurs">{min occurs}</a></td><td>Depending on the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>use</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, as described above</td>
</tr>
<tr valign="top">
<td><a href="#a-max_occurs">{max occurs}</a></td><td>Depending on the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>use</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, as described above</td>
</tr>
<tr valign="top">
<td><a href="#a-value_constraint">{value constraint}</a></td><td>If there is no <code>value</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> and <b>G</b> has no <a href="#a-value_constraint">{value constraint}</a>, then
<a href="#key-null">absent</a>, otherwise a pair consisting of the
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of that <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> if present, otherwise the <a href="#a-value_constraint">{value constraint}</a> of <b>G</b>, and
<i>default</i>, if the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>use</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is
<code>default</code>, otherwise <i>fixed</i>.</td>
</tr>
<tr valign="top">
<td><a href="#a-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a>.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <p>Attribute declarations can appear at the top level of a schema document, or within complex
types, either as complete (local) declarations, or by reference to top-level
declarations.  For complete declarations, top-level or local, the <code>type</code> attribute is used when the declaration can use a
built-in or pre-declared simple type definition.  Otherwise an
anonymous <a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> is provided inline.</p>
 <p>The default when no simple type definition is referenced or
provided is the <a href="#key-urType">ur-type definition</a>, which imposes no constraints at all.</p>
 <p>Attribute items validated by a global declaration must be qualified with a
namespace URI.  Control over whether attribute items validated by a local declaration must be namespace-qualified or not
is provided by the <code>form</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, whose default is provided
by the <code>attributeFormDefault</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> on the enclosing <a href="#element-schema">schema</a>, via its determination of <a href="#a-target_namespace">{target namespace}</a>.</p>
 <p>The names for top-level attribute declarations are in their own
<a href="#key-symbolSpace">symbol space</a>.  The names of locally-scoped
attribute declarations with no <a href="#e-target_namespace">{target namespace}</a> reside in symbol spaces local to the type definition which contains
them.</p>
 <blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
<tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:attribute name="myAttribute"/&gt;

&lt;xs:attribute name="yetAnotherAttribute" type="dt:integer" use="required"/&gt;

&lt;xs:attribute name="anotherAttribute" use="default" value="42"&gt;
 &lt;xs:simpleType base="dt:integer"&gt;
  &lt;xs:minExclusive value="0"/&gt;
 &lt;/xs:simpleType&gt;
&lt;/xs:attribute&gt;

&lt;xs:attribute name="stillAnotherAttribute" type="dt:string" use="fixed" value="Hello world!"/&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td>Four attributes are declared: one with no explicit
constraints at all; two more each declared by reference to the
built-in simple datatype <code>integer</code>, one required to
be present in instances and one with a default and a subrange qualification; and a fourth with a fixed value.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <div class="constraintnote">
<a name="src-attribute"></a><b>Schema Representation Constraint:  Attribute Declaration Representation OK</b>
<br>
<div class="constraint">
  
  In addition to the conditions imposed on <a href="#element-attribute">attribute</a> element
information items by the DTD and schema for schemas, the following must also hold:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     If the item's parent is not <a href="#element-schema">schema</a>, then
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1.1 </td><td>
     One of <code>ref</code> or <code>name</code> must be present, but not both;
    </td>
</tr>
       
       <tr>
<td class="clnumber">1.1.2 </td><td>
        If <code>ref</code> is present, then both of
<a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> and <code>type</code> must be absent;
       </td>
</tr>
      </table>
     
    </td>
</tr>
    <tr>
<td class="clnumber">1.2 </td><td>
     <code>type</code> and <a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> must not both be present;
    </td>
</tr>
    <tr>
<td class="clnumber">1.3 </td><td>
     The corresponding attribute declaration must satisfy the conditions set
out in <a href="#coss-attribute">Attribute Declaration Constraints (&sect;5.1)</a>.
    </td>
</tr>
   </table>
  
 </div>
</div>

</div>
 <div class="div3">
<h4>
<a name="declare-element"></a>4.3.2 XML Representation of Element Declaration Schema Components</h4>
<p>The XML representation for an element declaration schema component is an
<a href="#element-element">element</a> element information item.  It specifies a type
definition for an element either by reference or explicitly, and may provide
occurrence and default information.  The correspondences between the
properties of the information item and
properties of the component(s) it corresponds to are as follows:</p>
<blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>element</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-element">&lt;element</a>
<br>&nbsp;&nbsp;abstract = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#boolean">boolean</a>&nbsp;:&nbsp;false<br>&nbsp;&nbsp;block = <em>#all or (possibly empty) subset of {equivClass,
extension, restriction}</em>&nbsp;:&nbsp;''<br>&nbsp;&nbsp;default = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>
<br>&nbsp;&nbsp;equivClass = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>
<br>&nbsp;&nbsp;final = <em>#all or (possibly empty) subset of {extension,
restriction}</em>&nbsp;:&nbsp;''<br>&nbsp;&nbsp;fixed = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>
<br>&nbsp;&nbsp;form = <var>qualified</var> | <var>unqualified</var>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;maxOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>
<br>&nbsp;&nbsp;minOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&nbsp;:&nbsp;1<br>&nbsp;&nbsp;name = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#NCName">NCName</a>
<br>&nbsp;&nbsp;nullable = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#boolean">boolean</a>&nbsp;:&nbsp;false<br>&nbsp;&nbsp;ref = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>
<br>&nbsp;&nbsp;type = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (<a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> | <a href="#element-complexType">complexType</a>)? , (<a href="#element-unique">unique</a> | <a href="#element-key">key</a> | <a href="#element-keyref">keyref</a>)*)<br>&lt;/element&gt;</p>
</td>
</tr>
<tr>
<td>
   <p>If the <a href="#element-element">element</a> element information item has <a href="#element-schema">schema</a> as its parent, the corresponding schema component is as follows:</p>
  </td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Element_Declaration_details">Element Declaration</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#e-name">{name}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>name</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
<tr valign="top">
<td><a href="#e-target_namespace">{target namespace}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <a href="#element-schema">schema</a>
element information item, or <a href="#key-null">absent</a> if there is none.</td>
</tr>
<tr valign="top">
<td><a href="#e-scope">{scope}</a></td><td><i>global</i></td>
</tr>
<tr valign="top">
<td><a href="#type_definition">{type definition}</a></td><td>The type definition
corresponding to the <a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> or <a href="#element-complexType">complexType</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if either is present, otherwise the type definition <a href="#src-resolve">resolved</a> to by
the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>type</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, otherwise the <a href="#type_definition">{type definition}</a> of the element declaration <a href="#src-resolve">resolved</a> to by the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>equivClass</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the
<a href="#key-urType">ur-type definition</a>.</td>
</tr>
<tr valign="top">
<td><a href="#nullable">{nullable}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>nullable</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise false.</td>
</tr>
<tr valign="top">
<td><a href="#e-value_constraint">{value constraint}</a></td><td>If there is a <code>default</code> or a <code>fixed</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, then a pair consisting of the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of that <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> and
either <i>default</i> or <i>fixed</i>, as appropriate, otherwise <a href="#key-null">absent</a>.</td>
</tr>
<tr valign="top">
<td><a href="#identity-constraint_definitions">{identity-constraint definitions}</a></td><td>A set consisting of the
identity-constraint-definitions corresponding to all the <a href="#element-key">key</a>, <a href="#element-unique">unique</a> and <a href="#element-keyref">keyref</a> element information items in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any, otherwise the empty set</td>
</tr>
<tr valign="top">
<td><a href="#class_exemplar">{equivalence class affiliation}</a></td><td>the element declaration <a href="#src-resolve">resolved</a> to by the
value of the
<code>equivClass</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
<tr valign="top">
<td><a href="#e-exact">{disallowed substitutions}</a></td><td>A set corresponding to the normalised lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>block</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise on the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>blockDefault</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <a href="#element-schema">schema</a> element
information item, if present, otherwise on the empty string, as follows:
   <dl>
    
     <dt>
<b>the empty string</b>
</dt>
     <dd>
the empty set;
     </dd>
    
    
     <dt>
<b>
      <code>#all</code>
     </b>
</dt>
     <dd>
      <code>{</code><i>equivClass</i>, <i>extension</i>,
<i>restriction</i><code>}</code>;
     </dd>
    
    
     <dt>
<b><i>otherwise</i></b>
</dt>
     <dd>
      a set with members drawn from the set above, each being present or
absent depending on whether the string contains an equivalently named
whitespace-delimited substring.
     </dd>
    
   </dl>
  </td>
</tr>
<tr valign="top">
<td><a href="#e-final">{equivalence class exclusions}</a></td><td>As for <a href="#e-exact">{disallowed substitutions}</a> above, but using the
<code>final</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> in place of the <code>block</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> and with the
relevant set being <code>{</code><i>extension</i>, <i>restriction</i><code>}</code></td>
</tr>
<tr valign="top">
<td><a href="#e-abstract">{abstract}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>abstract</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise false</td>
</tr>
<tr valign="top">
<td><a href="#e-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>
   <p>otherwise if the <a href="#element-element">element</a> element information item has
<a href="#element-complexType">complexType</a> or <a href="#element-group">group</a> as an ancestor and the
<code>ref</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is absent, the corresponding schema components
are as follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</p>
  </td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Particle_details">Particle</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#p-min_occurs">{min occurs}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code></td>
</tr>
<tr valign="top">
<td><a href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the numeric lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td>
</tr>
<tr valign="top">
<td><a href="#term">{term}</a></td><td>A (local) element declaration as given below</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>
<p> 
An element declaration as in the first case above, with the exception of its <a href="#e-target_namespace">{target namespace}</a> and <a href="#e-scope">{scope}</a> properties, which are as below</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Element_Declaration_details">Element Declaration</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#e-target_namespace">{target namespace}</a></td><td>If <code>form</code> is present and its
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> is <code>qualified</code>, or if <code>form</code> is absent and the
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of <code>elementFormDefault</code> on the <a href="#element-schema">schema</a>
ancestor is <code>qualified</code>, then the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <a href="#element-schema">schema</a>
element information item, or <a href="#key-null">absent</a> if there
is none, otherwise <a href="#key-null">absent</a>.</td>
</tr>
<tr valign="top">
<td><a href="#e-scope">{scope}</a></td><td>If the <a href="#element-element">element</a> element information item
has <a href="#element-complexType">complexType</a> as an ancestor, the complex definition
corresponding to that item, otherwise (the <a href="#element-element">element</a> element
information item is within a top-level <a href="#element-group">group</a> definition), <a href="#key-null">absent</a>.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>
   <p>otherwise (the <a href="#element-element">element</a> element information item has
<a href="#element-complexType">complexType</a> or <a href="#element-group">group</a> as an ancestor and the
<code>ref</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is present), the corresponding schema component is as
follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</p>
  </td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Particle_details">Particle</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#p-min_occurs">{min occurs}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code></td>
</tr>
<tr valign="top">
<td><a href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the numeric lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td>
</tr>
<tr valign="top">
<td><a href="#term">{term}</a></td><td>A (global) element declaration as given below</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>
<p>Let <b>G</b> be the global element declaration <a href="#src-resolve">resolved</a> to by the
value of the <code>ref</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>
</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Element_Declaration_details">Element Declaration</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#e-name">{name}</a></td><td>The <a href="#e-name">{name}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#e-target_namespace">{target namespace}</a></td><td>The <a href="#e-target_namespace">{target namespace}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#e-scope">{scope}</a></td><td><i>global</i></td>
</tr>
<tr valign="top">
<td><a href="#type_definition">{type definition}</a></td><td>The <a href="#type_definition">{type definition}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#nullable">{nullable}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>nullable</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the <a href="#nullable">{nullable}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#e-value_constraint">{value constraint}</a></td><td>If there is a <code>default</code> or a <code>fixed</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, then a pair consisting of the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of that <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> and
either <i>default</i> or <i>fixed</i>, as appropriate, otherwise the <a href="#e-value_constraint">{value constraint}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#identity-constraint_definitions">{identity-constraint definitions}</a></td><td>If there are any <a href="#element-key">key</a>, among the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, then a set of identity-constraint definitions as in the first case above, otherwise the <a href="#identity-constraint_definitions">{identity-constraint definitions}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#class_exemplar">{equivalence class affiliation}</a></td><td><a href="#key-null">absent</a> (not used)</td>
</tr>
<tr valign="top">
<td><a href="#e-final">{equivalence class exclusions}</a></td><td>false (not used)</td>
</tr>
<tr valign="top">
<td><a href="#e-exact">{disallowed substitutions}</a></td><td>If the <code>block</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is present,
then a value as for <a href="#e-exact">{disallowed substitutions}</a> above, otherwise the <a href="#e-exact">{disallowed substitutions}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#e-abstract">{abstract}</a></td><td>The <a href="#e-abstract">{abstract}</a> of <b>G</b></td>
</tr>
<tr valign="top">
<td><a href="#e-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>


<p>
<a href="#element-element">element</a> corresponds to an element declaration, and allows
the type definition of that declaration to be specified either by reference or
by explicit inclusion.</p>
  <p>
<a href="#element-element">element</a>s within <a href="#element-schema">schema</a> produce
<i>global</i> element declarations; <a href="#element-element">element</a>s within <a href="#element-group">group</a> or <a href="#element-complexType">complexType</a> produce either particles which contain <i>global</i> element declarations (if there's a <code>ref</code> attribute) or local declarations (otherwise).  For complete declarations, top-level or local, the <code>type</code> attribute is used when the declaration can use a
built-in or pre-declared type definition.  Otherwise an
anonymous <a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> or <a href="#element-complexType">complexType</a> is provided inline.</p>
 <p>Element items validated by a global declaration must be qualified with a
namespace URI.  Control over whether element items validated by a local declaration must be namespace-qualified or not
is provided by the <code>form</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, whose default is provided
by the <code>elementFormDefault</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> on the enclosing <a href="#element-schema">schema</a>, via its determination of <a href="#e-target_namespace">{target namespace}</a>.</p>
<p>As noted above the names for top-level element declarations are in a separate
<a href="#key-symbolSpace">symbol space</a> from the symbol spaces for
the names of type definitions, so there can (but need
not be) a simple or complex type definition type with the same name as a
top-level element.  As with attribute names, the names of locally-scoped
element declarations with no <a href="#e-target_namespace">{target namespace}</a> reside in symbol spaces local to the type definition which contains
them.</p>

  <p>Note that the above allows for two levels of defaulting for unspecified
type definitions.  An <a href="#element-element">element</a> with no referenced or included type definition will
correspond to an element declaration which has the same type definition as the exemplar of its equivalence class if it
identifies one, otherwise the <a href="#key-urType">ur-type definition</a>.</p>

 <p>See below at <a href="#declare-key">XML Representation of Identity-constraint Definition Schema Components (&sect;4.3.8)</a> for <a href="#element-key">key</a>, <a href="#element-unique">unique</a> and <a href="#element-keyref">keyref</a>.</p>


<blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
<tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:element name="myelement" type="mySimpleType"/&gt;

&lt;xs:element name="et0" type="myComplexType"/&gt;

&lt;xs:element name="et1"&gt;
 &lt;xs:complexType&gt;
  &lt;xs:element ref="et0"/&gt;
  . . .
  &lt;xs:attribute ...&gt;. . .&lt;/xs:attribute&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;xs:element name="et2"&gt;
 &lt;xs:complexType content="empty"&gt;
  &lt;xs:attribute ...&gt;. . .&lt;/xs:attribute&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td>The first two examples above declare elements by reference to a simple and a
complex type definition respectively.  The third and fourth use embedded anonymous complex
type definitions, the first of which in
turn refers to one of the top-level element declarations in its content model.</td>
</tr>
<tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:element name="contextOne"&gt;
 &lt;xs:complexType&gt;
  &lt;xs:element name="myLocalelement" type="myFirstType"/&gt;
  &lt;xs:element ref="globalelement"/&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;xs:element name="contextTwo"&gt;
 &lt;xs:complexType&gt;
  &lt;xs:element name="myLocalelement" type="mySecondType"/&gt;
  &lt;xs:element ref="globalelement"/&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td>Instances of <code>myLocalelement</code> within
<code>contextOne</code> will be constrained by <code>myFirstType</code>,
while those within <code>contextTwo</code> will be constrained by
<code>mySecondType</code>. </td>
</tr>

</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
<blockquote>
<b>NOTE: </b>
The possibility that differing attribute declarations and/or content models
would apply to elements with the same name in different contexts is an
extension beyond the expressive power of a DTD in XML 1.0.
</blockquote>
  <blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
   <tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>  &lt;complexType name="facet" base="annotated" derivedBy="extension"&gt;
    &lt;attribute name="value" minOccurs="1"/&gt;
  &lt;/complexType&gt;

  &lt;element name="facet" type="facet" abstract="true"/&gt;

  &lt;element name="encoding" equivClass="facet"&gt;
   &lt;complexType base="facet" derivedBy="restriction"&gt;
    &lt;attribute name="value" type="encodings"/&gt;
   &lt;/complexType&gt;
  &lt;/element&gt;

  &lt;element name="period" equivClass="facet"&gt;
   &lt;complexType base="facet" derivedBy="restriction"&gt;
    &lt;attribute name="value" type="timeDuration"/&gt;
   &lt;/complexType&gt;
  &lt;/element&gt;

  &lt;complexType name="datatype"&gt;
    &lt;element ref="facet" minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;attribute name="name" type="NCName" minOccurs="0"&gt;
    . . .
  &lt;/complexType&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
   <tr>
<td>An example from the schema for datatypes from <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.  The
<code>facet</code> type is defined
and the <code>facet</code> element is declared to use it. The <code>facet</code> element is abstract -- it's
<i>only</i> defined to stand as the exemplar for a class.  Two further
elements are declared, each a member of the <code>facet</code> equivalence
class.  Finally a type is defined which refers to <code>facet</code>, thereby
allowing <i>either</i> <code>period</code> or <code>encoding</code> (or
any other member of the class).</td>
</tr>
  </tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>


 <div class="constraintnote">
<a name="src-element"></a><b>Schema Representation Constraint:  Element Declaration Representation OK</b>
<br>
<div class="constraint">
  
  In addition to the conditions imposed on <a href="#element-element">element</a> element
information items by the DTD and schema for schemas, the following must also hold:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     <code>default</code> and <code>fixed</code> must not both be present;
    </td>
</tr>
    <tr>
<td class="clnumber">1.2 </td><td>
     If the item's parent is not <a href="#element-schema">schema</a>, then
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.2.1 </td><td>
     One of <code>ref</code> or <code>name</code> must be present, but not both;
    </td>
</tr>
       <tr>
<td class="clnumber">1.2.2 </td><td>
        If <code>ref</code> is present, then all of <a href="#element-complexType">complexType</a>,
<a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> and <code>type</code> must be absent;
       </td>
</tr>
      </table>
     
    </td>
</tr>
    <tr>
<td class="clnumber">1.3 </td><td>
     <code>type</code> and either <a href="../WD-xmlschema-2-20000407/datatypes.html#element-simpleType">simpleType</a> or <a href="#element-complexType">complexType</a> are mutually exclusive;
    </td>
</tr>
    <tr>
<td class="clnumber">1.4 </td><td>
     The corresponding particle and/or element declarations must satisfy the conditions set
out in <a href="#coss-element">Element Declaration Constraints (&sect;5.2)</a> and <a href="#coss-particle">Particle Constraints (&sect;5.10)</a>.
    </td>
</tr>
   </table>
  
 </div>
</div>
</div>

<div class="div3">
<h4>
<a name="declare-type"></a>4.3.3 XML Representation of Complex Type Definition Schema Components</h4>
<p>The XML representation for a complex type definition schema component is a
<a href="#element-complexType">complexType</a> element information item.  It provides validation
information for the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> and <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of an element information
item in the form of attribute declarations and a content type.  The correspondences between the
properties of the information item and
properties of the component(s) it corresponds to are as follows:</p>

<blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>complexType</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-complexType">&lt;complexType</a>
<br>&nbsp;&nbsp;abstract = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#boolean">boolean</a>&nbsp;:&nbsp;false<br>&nbsp;&nbsp;base = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>
<br>&nbsp;&nbsp;block = <em>#all or (possibly empty) subset of {extension,
restriction}</em>
<br>&nbsp;&nbsp;content = <var>elementOnly</var> | <var>empty</var> | <var>mixed</var> | <var>textOnly</var>
<br>&nbsp;&nbsp;derivedBy = <var>extension</var> | <var>restriction</var>
<br>&nbsp;&nbsp;final = <em>#all or (possibly empty) subset of {extension,
restriction}</em>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;name = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#NCName">NCName</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (((<a href="../WD-xmlschema-2-20000407/datatypes.html#element-minExclusive">minExclusive</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-minInclusive">minInclusive</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-maxExclusive">maxExclusive</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-maxInclusive">maxInclusive</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-precision">precision</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-scale">scale</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-length">length</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-minLength">minLength</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-maxLength">maxLength</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-encoding">encoding</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-period">period</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-duration">duration</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-enumeration">enumeration</a> | <a href="../WD-xmlschema-2-20000407/datatypes.html#element-pattern">pattern</a>)* | (<a href="#element-element">element</a> | <a href="#element-group">group</a> | <a href="#element-all">all</a> | <a href="#element-choice">choice</a> | <a href="#element-sequence">sequence</a> | <a href="#element-any">any</a>)*) , ((<a href="#element-attribute">attribute</a> | <a href="#element-attributeGroup">attributeGroup</a>)* , <a href="#element-anyAttribute">anyAttribute</a>?)))<br>&lt;/complexType&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-attributeGroup2">&lt;attributeGroup</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;<b>ref</b> = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>?)<br>&lt;/attributeGroup&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-anyAttribute">&lt;anyAttribute</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;namespace = <em>##any | ##other | ##local | list of {uri, ##targetNamespace}</em>&nbsp;:&nbsp;##any&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>?)<br>&lt;/anyAttribute&gt;</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Complex_Type_Definition_details">Complex Type Definition</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#ct-name">{name}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>name</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> if present, otherwise <a href="#key-null">absent</a></td>
</tr>
<tr valign="top">
<td><a href="#ct-target_namespace">{target namespace}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the <a href="#element-schema">schema</a> ancestor
element information item if present, otherwise <a href="#key-null">absent</a></td>
</tr>
<tr valign="top">
<td><a href="#ct-base_type_definition">{base type definition}</a></td><td>The type definition <a href="#src-resolve">resolved</a> to by the
value of the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the simple
<a href="#key-urType">ur-type definition</a> if the
<code>content</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is <i>textOnly</i>, otherwise the complex <a href="#key-urType">ur-type definition</a></td>
</tr>
<tr valign="top">
<td><a href="#derivation_method">{derivation method}</a></td><td>If the <code>derivedBy</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>
is present, the member of the set <code>{</code><i>extension</i>, <i>restriction</i><code>}</code> corresponding to its value, otherwise <i>restriction</i></td>
</tr>
<tr valign="top">
<td><a href="#ct-abstract">{abstract}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>abstract</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise false</td>
</tr>
<tr valign="top">
<td><a href="#ct-attribute_declarations">{attribute declarations}</a></td><td>The union of the set of attribute
declarations corresponding to 
 <table class="constraintlist">
  <tr>
<td class="clnumber">1 </td><td>
   the <a href="#element-attribute">attribute</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of the
item, if any
  </td>
</tr>
  <tr>
<td class="clnumber">2 </td><td>
   the <a href="#ag-attribute_declarations">{attribute declarations}</a> of the
attribute groups <a href="#src-resolve">resolved</a> to by the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a>s of the <code>ref</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the <a href="#element-attributeGroup">attributeGroup</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any
  </td>
</tr>
  <tr>
<td class="clnumber">3 </td><td>
   if the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is present and the type definition <a href="#src-resolve">resolved</a> to by the
value of the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is a complex type definition, the
<a href="#ct-attribute_declarations">{attribute declarations}</a> of that type definition, unless
<code>derivedBy</code> is <i>restriction</i>, in which case those members of
the that type definition's <a href="#ct-attribute_declarations">{attribute declarations}</a> whose
<a href="#a-name">{name}</a> and <a href="#a-target_namespace">{target namespace}</a> are the same as
a declaration which would be in the set per clause 1 or 2 above
are not included.
  </td>
</tr>
 </table>
</td>
</tr>
<tr valign="top">
<td><a href="#ct-attribute_wildcard">{attribute wildcard}</a></td><td>
 <table class="constraintlist">
  <tr>
<td class="clnumber">1 </td><td>
   If there are no <a href="#element-attributeGroup">attributeGroup</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> corresponding
to attribute groups with non-<a href="#key-null">absent</a> <a href="#ag-attribute_wildcard">{attribute wildcard}</a>s, then 
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      if there is an <a href="#element-anyAttribute">anyAttribute</a> present, a wildcard based
on the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a>s of the <code>namespace</code> and
<code>processContents</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> and the <a href="#element-annotation">annotation</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, exactly as for the wildcard
corresponding to an <a href="#element-any">any</a> element as set out in <a href="#declare-openness">XML Representation of Wildcard Schema Components (&sect;4.3.7)</a>,
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      otherwise if the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is present and the type definition <a href="#src-resolve">resolved</a> to by the
value of the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is a complex type definition with
a <a href="#ct-attribute_wildcard">{attribute wildcard}</a>, then that <a href="#ct-attribute_wildcard">{attribute wildcard}</a>,
     </td>
</tr>
     <tr>
<td class="clnumber">1.3 </td><td>
      otherwise <a href="#key-null">absent</a>.
     </td>
</tr>
    </table>
   
  </td>
</tr>
  <tr>
<td class="clnumber">2 </td><td>
   Otherwise a wildcard whose <a href="#process_contents">{process contents}</a> and <a href="#w-annotation">{annotation}</a> are those of a wildcard as defined in 1.1 above, and whose <a href="#namespace_constraint">{namespace constraint}</a> is the intensional intersection of the <a href="#namespace_constraint">{namespace constraint}</a> of a wildcard as defined in 1.1 above
and all the non-<a href="#key-null">absent</a> <a href="#ag-attribute_wildcard">{attribute wildcard}</a>s of the attribute groups corresponding to the <a href="#element-attributeGroup">attributeGroup</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, as defined in <a href="#cos-aw-intersect">Attribute Wildcard Intersection (&sect;5.4)</a>.
  </td>
</tr>
 </table> 
</td>
</tr>
<tr valign="top">
<td><a href="#content_type">{content type}</a></td><td>
 <table class="constraintlist">
  <tr>
<td class="clnumber">1 </td><td>If the <code>content</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is <code>empty</code>,
then <i>empty</i>;</td>
</tr>
  <tr>
<td class="clnumber">2 </td><td>otherwise if the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is present, the type definition <a href="#src-resolve">resolved</a> to by the
value of the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is a complex type definition whose own <a href="#content_type">{content type}</a> is a
simple type definition and the <code>derivedBy</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is <i>restriction</i>, then
a simple type definition which restricts that simple type definition with the
facets corresponding to the <a href="../WD-xmlschema-2-20000407/datatypes.html#element-minExclusive">minExclusive</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-minInclusive">minInclusive</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-maxExclusive">maxExclusive</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-maxInclusive">maxInclusive</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-precision">precision</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-scale">scale</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-length">length</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-minLength">minLength</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-maxLength">maxLength</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-encoding">encoding</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-period">period</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-enumeration">enumeration</a> and <a href="../WD-xmlschema-2-20000407/datatypes.html#element-pattern">pattern</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any, as
defined in <a href="#st-restrict-facets">Simple Type Restriction (Facets) (&sect;4.3.11)</a>;</td>
</tr>
  <tr>
<td class="clnumber">3 </td><td>
   otherwise if the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is present, the type definition <a href="#src-resolve">resolved</a> to by the
value of the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is a simple type definition and
the <code>derivedBy</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is <i>extension</i>, then
that simple type definition;
  </td>
</tr>
  <tr>
<td class="clnumber">4 </td><td>
   otherwise if the <code>content</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is
<i>elementOnly</i> or <i>mixed</i>, a pair of that value and a particle
as follows:<p>
</p>
   <span class="termdef"><a name="key-exg">[Definition:]&nbsp;&nbsp;</a>Let the <b>explicit particle</b> be as follows:</span>
    <table class="constraintlist">
     <tr>
<td class="clnumber">4.1 </td><td>
      If there is exactly one <a href="#element-all">all</a>, <a href="#element-choice">choice</a>,
<a href="#element-group">group</a> or
<a href="#element-sequence">sequence</a> among the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> and no <a href="#element-any">any</a>
 or <a href="#element-element">element</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, then the particle corresponding to
that <a href="#element-all">all</a>, <a href="#element-choice">choice</a>, <a href="#element-group">group</a> or
<a href="#element-sequence">sequence</a>;
     </td>
</tr>
    </table>
    otherwise
    <table class="constraintlist">    
     <tr>
<td class="clnumber">4.2 </td><td>
      if the <code>content</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is
<i>elementOnly</i> then a particle whose properties are as follows:
       <dl>
        
         <dt>
<b><a href="#p-min_occurs">{min occurs}</a></b>
</dt>
         <dd>
          <code>1</code>
         </dd>
        
        
         <dt>
<b><a href="#p-max_occurs">{max occurs}</a></b>
</dt>
         <dd>
          <code>1</code>
         </dd>
        
        
         <dt>
<b><a href="#term">{term}</a></b>
</dt>
         <dd>
          A model group whose <a href="#compositor">{compositor}</a> is
<i>sequence</i> and whose <a href="#particles">{particles}</a> is the sequence of particles
corresponding to all the <a href="#element-choice">choice</a>,
<a href="#element-sequence">sequence</a>, <a href="#element-any">any</a>,
<a href="#element-group">group</a> or <a href="#element-element">element</a> items among the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>,
in order.
         </dd>
        
       </dl>
       
     </td>
</tr>
    </table>
    otherwise
    <table class="constraintlist">
     <tr>
<td class="clnumber">4.3 </td><td>
      if the <code>content</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is
<i>mixed</i> then a particle whose properties are as follows:
       <dl>
        
         <dt>
<b><a href="#p-min_occurs">{min occurs}</a></b>
</dt>
         <dd>
          <code>0</code>
         </dd>
        
        
         <dt>
<b><a href="#p-max_occurs">{max occurs}</a></b>
</dt>
         <dd>
          <i>unbounded</i>
         </dd>
        
        
         <dt>
<b><a href="#term">{term}</a></b>
</dt>
         <dd>
          A model group whose <a href="#compositor">{compositor}</a> is
<i>choice</i> and whose <a href="#particles">{particles}</a> are as above for the
<i>elementOnly</i> case.
         </dd>
        
       </dl>
       
     </td>
</tr>
    </table>
    The actual value then depends on the <code>derivedBy</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> as follows:
    <table class="constraintlist">
     <tr>
<td class="clnumber">4.4.1 </td><td>
      If it is <i>restriction</i>, then the <a href="#key-exg">explicit
particle</a> itself;
     </td>
</tr>
     <tr>
<td class="clnumber">4.4.2 </td><td>
      If it is <i>extension</i>, then 
       <table class="constraintlist">
        <tr>
<td class="clnumber">4.4.2.1 </td><td>
         if the <a href="#key-exg">explicit
particle</a> is a <i>sequence</i> group whose <a href="#particles">{particles}</a> is empty, then <i>empty</i>
        </td>
</tr>
       </table>
       otherwise
       <table class="constraintlist">
        <tr>
<td class="clnumber">4.4.2.2 </td><td>
         if the type definition <a href="#src-resolve">resolved</a> to
by the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> has a <a href="#content_type">{content type}</a> of <i>empty</i>, the <a href="#key-exg">explicit
particle</a> itself
        </td>
</tr>
       </table>
       otherwise
       <table class="constraintlist">
        <tr>
<td class="clnumber">4.4.2.3 </td><td>
          a particle whose properties are as follows:
       <dl>
        
         <dt>
<b><a href="#p-min_occurs">{min occurs}</a></b>
</dt>
         <dd>
          <code>1</code>
         </dd>
        
        
         <dt>
<b><a href="#p-max_occurs">{max occurs}</a></b>
</dt>
         <dd>
          <code>1</code>
         </dd>
        
        
         <dt>
<b><a href="#term">{term}</a></b>
</dt>
         <dd>
          A model group whose <a href="#compositor">{compositor}</a> is
<i>sequence</i> and whose <a href="#particles">{particles}</a> are the particle of the
the <a href="#content_type">{content type}</a> of the type definition <a href="#src-resolve">resolved</a> to
by the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> followed by the <a href="#key-exg">explicit
particle</a>.
         </dd>
        
       </dl>
        </td>
</tr>
       </table>
      
     </td>
</tr>
     <tr>
<td class="clnumber">4.4.3 </td><td>
      If it is absent, then the <a href="#key-exg">explicit
particle</a> itself (this can only happen if the <code>base</code> is the
<a href="#key-urType">ur-type definition</a>).
     </td>
</tr>
    </table>
   
  </td>
</tr>
  <tr>
<td class="clnumber">5 </td><td>otherwise (the <code>content</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is
<code>textonly</code> but there is no <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>) the simple
<a href="#key-urType">ur-type definition</a></td>
</tr>
 </table>
</td>
</tr>
<tr valign="top">
<td><a href="#ct-exact">{prohibited-substitutions}</a></td><td>A set corresponding to the normalised value of the
<code>block</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise on the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>blockDefault</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <a href="#element-schema">schema</a> element
information item, if present, otherwise on the empty string, as follows:
   <dl>
    
     <dt>
<b>the empty string</b>
</dt>
     <dd>
the empty set;
     </dd>
    
    
     <dt>
<b>
      <code>#all</code>
     </b>
</dt>
     <dd>
      <code>{</code><i>extension</i>, <i>restriction</i><code>}</code>;
     </dd>
    
    
     <dt>
<b><i>otherwise</i></b>
</dt>
     <dd>
      a set with members drawn from the set above, each being present or
absent depending on whether the string contains an equivalently named
whitespace-delimited substring.
      <blockquote>
<b>NOTE: </b>
       Although the <code>blockDefault</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of <a href="#element-schema">schema</a> may include the value <i>equivClass</i>, this value is ignored in the determination of <a href="#ct-exact">{prohibited-substitutions}</a> for type definitions (it <i>is</i> used in the determination of <a href="#e-exact">{disallowed substitutions}</a> for element declarations)
      </blockquote>
     </dd>
    
   </dl>
</td>
</tr>
<tr valign="top">
<td><a href="#ct-final">{final}</a></td><td>As for <a href="#ct-exact">{prohibited-substitutions}</a> above, using the
<code>final</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> in place of the <code>block</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
<tr valign="top">
<td><a href="#ct-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <p>Given the constraints on its appearance in content models, if an <a href="#element-all">all</a> occurs in the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, it must make up the entire <a href="#content_type">{content type}</a>:  see <a href="#coss-modelGroup">Model Group Constraints (&sect;5.7)</a>.</p>
<div class="constraintnote">
<a name="src-ct"></a><b>Schema Representation Constraint:  Complex Type Definition Representation OK</b>
<br>
<div class="constraint">
  
  In addition to the conditions imposed on <a href="#element-complexType">complexType</a> element
information items by the DTD and schema for schemas, the following must also hold:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     <code>derivedBy</code> is required if <code>base</code> is present;
    </td>
</tr>
    <tr>
<td class="clnumber">1.2 </td><td>
     Element information items corresponding to particles (<a href="#element-element">element</a>, <a href="#element-any">any</a>, <a href="#element-group">group</a>, <a href="#element-all">all</a>, <a href="#element-choice">choice</a>, <a href="#element-sequence">sequence</a>) are only allowed in the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> if the <code>base</code> attribute is either absent or its value <a href="#src-resolve">resolves</a> to a complex type definition whose <a href="#content_type">{content type}</a> is not a simple type definition;
    </td>
</tr>
    <tr>
<td class="clnumber">1.3 </td><td>
     Element information items corresponding to facets (<a href="../WD-xmlschema-2-20000407/datatypes.html#element-minExclusive">minExclusive</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-minInclusive">minInclusive</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-maxExclusive">maxExclusive</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-maxInclusive">maxInclusive</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-precision">precision</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-scale">scale</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-length">length</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-minLength">minLength</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-maxLength">maxLength</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-encoding">encoding</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-period">period</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-enumeration">enumeration</a>, <a href="../WD-xmlschema-2-20000407/datatypes.html#element-pattern">pattern</a>) are only allowed in the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> if the <code>derivedBy</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is <i>restriction</i> and the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>base</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> <a href="#src-resolve">resolves</a> to a complex type definition whose <a href="#content_type">{content type}</a> is a simple type definition;
    </td>
</tr>
    <tr>
<td class="clnumber">1.4 </td><td>
     Element information items corresponding to attribute declarations or
attribute wildcards (<a href="#element-attribute">attribute</a>, <a href="#element-attributeGroup">attributeGroup</a>,
<a href="#element-anyAttribute">anyAttribute</a>) are only allowed in the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> if either
     <table class="constraintlist">
      <tr>
<td class="clnumber">1.4.1 </td><td>
       the
<code>derivedBy</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is <i>extension</i>
      </td>
</tr>
     </table>
      or
     <table class="constraintlist">
      <tr>
<td class="clnumber">1.4.2 </td><td>
       the
<code>derivedBy</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is <i>restriction</i> and the <code>base</code> attribute is either absent or its value <a href="#src-resolve">resolves</a> to a complex type definition whose <a href="#content_type">{content type}</a> is not a simple type definition;
      </td>
</tr>
     </table>
     
    </td>
</tr>
    <tr>
<td class="clnumber">1.5 </td><td>
     The corresponding complex type definition component must satisfy the conditions set
out in <a href="#coss-ct">Complex Type Definition Constraints (&sect;5.11)</a>.
    </td>
</tr>
    <tr>
<td class="clnumber">1.6 </td><td>
     If clause 2 in the correspondence specification above for <a href="#ct-attribute_wildcard">{attribute wildcard}</a> obtains, the intensional intersection must be expressible, as defined in <a href="#cos-aw-intersect">Attribute Wildcard Intersection (&sect;5.4)</a>.
    </td>
</tr>
   </table>
  
 </div>
</div>
 <blockquote>
<b>NOTE: </b>
  Aside from the simple coherence requirements enforced above, constraining
type definitions identified as restrictions to actually <i>be</i>
restrictions, that is, to schema-validate a subset of the what is
schema-validated by their base type definition, is enforced in <a href="#coss-ct">Complex Type Definition Constraints (&sect;5.11)</a>.
 </blockquote>
<p>Careful consideration of the above concrete syntax reveals that
a type need consist of no more than a name, i.e. that
 <code>&lt;complexType name="anything"/&gt;</code> is allowed.  In this case the type
definition constructed is taken to be derived by restriction from the <a href="#key-urType">ur-type definition</a>.</p>
 <blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
    <tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:complexType name="length1" base="dt:non-negative-integer" derivedBy="extension"/&gt;
 &lt;xs:attribute name="unit" type="dt:NMTOKEN"/&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name="width" type="length1"/&gt;

  &lt;width unit="cm"&gt;2.54&lt;/width&gt;

&lt;xs:complexType name="length2"&gt;
 &lt;xs:element name="size" type="dt:non-positive-integer"/&gt;
 &lt;xs:element name="unit" type="dt:NMTOKEN"/&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name="depth" type="length2"/&gt;

  &lt;depth&gt;
   &lt;size&gt;2.54&lt;/size&gt;&lt;unit&gt;cm&lt;/unit&gt;
  &lt;/depth&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
  <tr>
<td>
    Two approaches to defining a type for length:  one with
character data content constrained by reference to
    a built-in datatype, and one attribute, the other using two
elements.
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 
<blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
   <tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:complexType name="personName"&gt;
 &lt;xs:element name="title" minOccurs="0"/&gt;
 &lt;xs:element name="forename" minOccurs="0" maxOccurs="unbounded"/&gt;
&lt;/xs:complexType&gt;

&lt;xs:complexType name="extendedName" base="personName" derivedBy="extension"&gt;
 &lt;xs:element name="generation" minOccurs="0"/&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name="addressee" type="extendedName"/&gt;

  &lt;addressee&gt;
   &lt;forename&gt;Albert&lt;/forename&gt;
   &lt;forename&gt;Arnold&lt;/forename&gt;
   &lt;surname&gt;Gore&lt;/surname&gt;
   &lt;generation&gt;Jr&lt;/generation&gt;
  &lt;/addressee&gt;</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
   <tr>
<td>A type definition for personal names, and a definition derived by
extension which adds a single element; an element declaration referencing the
derived definition, and a valid instance thereof.</td>
</tr>
  </tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote> 
<blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
   <tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:complexType name="simpleName" base="personName" derivedBy="restriction"&gt;
  &lt;xs:element name="title" maxOccurs="0"/&gt;
  &lt;xs:element name="forename" minOccurs="1" maxOccurs="1"/&gt;
  &lt;xs:element name="surname"/&gt;
&lt;/xs:complexType&gt;

&lt;xs:element name="who" type="simpleName"/&gt;

   &lt;who&gt;
    &lt;forename&gt;Bill&lt;/forename&gt;
    &lt;surname&gt;Clinton&lt;/surname&gt;
   &lt;/who&gt;</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
   <tr>
<td>A simplified type definition
derived from the base type from the previous example by restriction, eliminating one optional daughter and
fixing another to occur exactly once; an element declared by reference to it,
and a valid instance thereof.</td>
</tr>
  </tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
</div>
 <div class="div3">
<h4>
<a name="declare-attributeGroup"></a>4.3.4 XML Representation of Attribute Group Definition Schema Components</h4>
<p>The XML representation for an attribute group definition schema component is an
<a href="#element-attributeGroup">attributeGroup</a> element information item.  It provides for
naming a group of attribute declarations and an attribute wildcard for use by reference in the XML representation of
complex type definitions and other attribute group definitions.  The correspondences between the
properties of the information item and
properties of the component it corresponds to are as follows:</p>

 <blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>attributeGroup</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-attributeGroup">&lt;attributeGroup</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;name = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#NCName">NCName</a>
<br>&nbsp;&nbsp;ref = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (<a href="#element-attribute">attribute</a> | <a href="#element-attributeGroup">attributeGroup</a>)* , <a href="#element-anyAttribute">anyAttribute</a>?)<br>&lt;/attributeGroup&gt;</p>
</td>
</tr>
<tr>
<td>
<p>When an <a href="#element-attributeGroup">attributeGroup</a> appears as a daughter of
<a href="#element-schema">schema</a>, it corresponds to an attribute group definition as
below.  When it appears as a daughter of <a href="#element-complexType">complexType</a> or <a href="#element-attributeGroup">attributeGroup</a>, it does not correspond to any component as such.</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Attribute_Group_Definition_details">Attribute Group Definition</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#ag-name">{name}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>name</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
<tr valign="top">
<td><a href="#ag-target_namespace">{target namespace}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <code>schema</code>
element information item.</td>
</tr>
<tr valign="top">
<td><a href="#ag-attribute_declarations">{attribute declarations}</a></td><td>The union of the set of attribute
declarations corresponding to the <a href="#element-attribute">attribute</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> of the
item, if any, with the <a href="#ag-attribute_declarations">{attribute declarations}</a> of the
attribute groups <a href="#src-resolve">resolved</a> to by the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a>s of the <code>ref</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the <a href="#element-attributeGroup">attributeGroup</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if any.  In
the latter case, if the <a href="#ag-target_namespace">{target namespace}</a> of any referenced
group is not identical to the <a href="#ag-target_namespace">{target namespace}</a> of this
group definition, the attribute declarations are not the attribute declarations
from the corresponding <a href="#ag-attribute_declarations">{attribute declarations}</a> as such, but
distinct attribute declarations sharing all properties with them except for 
<a href="#a-target_namespace">{target namespace}</a>, which has the value of <a href="#ag-target_namespace">{target namespace}</a> from their original containing group.</td>
</tr>
<tr valign="top">
<td><a href="#ag-attribute_wildcard">{attribute wildcard}</a></td><td>As for <a href="#ct-attribute_wildcard">{attribute wildcard}</a> as described in <a href="#declare-type">XML Representation of Complex Type Definition Schema Components (&sect;4.3.3)</a>, except that clause 1.2 is irrelevant and cannot obtain</td>
</tr>
<tr valign="top">
<td><a href="#ag-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
<blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
<tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:attributeGroup name="myAttrGroup"&gt;
    &lt;xs:attribute .../&gt;
    ...
&lt;/xs:attributeGroup&gt;

&lt;xs:complexType name="myelement" content="empty"&gt;
    &lt;xs:attributeGroup ref="myAttrGroup"/&gt;
&lt;/xs:complexType&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td>Define and refer to an attribute group. The effect is as if the attribute
declarations in the group were present in the type definition.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>


 <p>The example above illustrates a pattern which
recurs in the XML representation of schemas:  The same element, in this case <a href="#element-attributeGroup">attributeGroup</a>, serves both to
define and to incorporate by reference.  In the first case the
<code>name</code> attribute is required, in the second the <code>ref</code>
attribute is required, and the element must be empty.  These two are mutually exclusive, and also conditioned
by context:  the defining form, with a <code>name</code>, must occur at the top
level of a schema, whereas the referring form, with a <code>ref</code>, must
occur within a complex type definition or an attribute group definition.</p>
 
<div class="constraintnote">
<a name="src-attribute_group"></a><b>Schema Representation Constraint:  Attribute Group Definition Representation OK</b>
<br>
<div class="constraint">
  
  In addition to the conditions imposed on <a href="#element-attributeGroup">attributeGroup</a> element
information items by the DTD and schema for schemas, the following must also hold:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     The corresponding attribute group definition, if any, must satisfy the conditions set
out in <a href="#coss-attrGroup">Attribute Group Definition Constraints (&sect;5.4)</a>.
    </td>
</tr>
    <tr>
<td class="clnumber">1.2 </td><td>
     If clause 2 in the correspondence specification in <a href="#declare-type">XML Representation of Complex Type Definition Schema Components (&sect;4.3.3)</a> for <a href="#ct-attribute_wildcard">{attribute wildcard}</a>, as referenced above, obtains, the intensional intersection must be expressible, as defined in <a href="#cos-aw-intersect">Attribute Wildcard Intersection (&sect;5.4)</a>.
    </td>
</tr>
   </table>
  
 </div>
</div>
</div>
<div class="div3">
<h4>
<a name="declare-namedModelGroup"></a>4.3.5 XML Representation of Model Group Definition Schema Components</h4>
 <p>The XML representation for a model group definition schema component is a
<a href="#element-group">group</a> element information item.  It provides for
naming a model group for use by reference in the XML representation of
complex type definitions and model groups.  The correspondences between the
properties of the information item and
properties of the component it corresponds to are as follows:</p>
<blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>group</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-group">&lt;group</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;maxOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>
<br>&nbsp;&nbsp;minOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&nbsp;:&nbsp;1<br>&nbsp;&nbsp;name = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#NCName">NCName</a>
<br>&nbsp;&nbsp;ref = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (<a href="#element-element">element</a> | <a href="#element-group">group</a> | <a href="#element-all">all</a> | <a href="#element-choice">choice</a> | <a href="#element-sequence">sequence</a> | <a href="#element-any">any</a>)*)<br>&lt;/group&gt;</p>
</td>
</tr>
<tr>
<td>
<p>If there is a <code>name</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> (in which case the
item will have <a href="#element-schema">schema</a> as parent), then the item corresponds to
a model group definition component with properties as follows:</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Model_Group_Definition_details">Model Group Definition</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#mg-name">{name}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>name</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
<tr valign="top">
<td><a href="#mg-target_namespace">{target namespace}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <code>schema</code>
element information item.</td>
</tr>
<tr valign="top">
<td><a href="#model_group">{model group}</a></td><td>A model group, as follows:
<table class="constraintlist">
 <tr>
<td class="clnumber">1 </td><td>
      If there is exactly one <a href="#element-all">all</a>, <a href="#element-choice">choice</a>, <a href="#element-group">group</a> or
<a href="#element-sequence">sequence</a> among the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, that item has
<a href="#p-min_occurs">{min occurs}</a><code>=</code><a href="#p-max_occurs">{max occurs}</a><code>=1</code> and there are no <a href="#element-any">any</a> or
<a href="#element-element">element</a> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, then the <a href="#term">{term}</a> of a
particle corresponding to that <a href="#element-all">all</a>, <a href="#element-choice">choice</a>, <a href="#element-group">group</a> or
<a href="#element-sequence">sequence</a>;
     </td>
</tr>
     <tr>
<td class="clnumber">2 </td><td>
      otherwise a model group whose <a href="#compositor">{compositor}</a> is
<i>sequence</i> and whose <a href="#particles">{particles}</a> is the sequence of particles
corresponding to all the <a href="#element-choice">choice</a>,
<a href="#element-sequence">sequence</a>, <a href="#element-any">any</a>,
<a href="#element-group">group</a> or <a href="#element-element">element</a> items among the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>,
in order.
     </td>
</tr>
</table>
</td>
</tr>
<tr valign="top">
<td><a href="#mg-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>
<p>Otherwise, the item will have a <code>ref</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>,
in which case it corresponds to a particle component with properties as follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</p>
  </td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Particle">Particle</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#p-min_occurs">{min occurs}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code></td>
</tr>
<tr valign="top">
<td><a href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the numeric lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td>
</tr>
<tr valign="top">
<td><a href="#term">{term}</a></td><td>the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <a href="#model_group">{model group}</a> of the
model group definition <a href="#src-resolve">resolved</a> to by the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>ref</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <p>Given the constraints on its appearance in content models, an <a href="#element-all">all</a> should only occur as the only item in the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>:  see <a href="#coss-modelGroup">Model Group Constraints (&sect;5.7)</a>.</p>
<blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
<tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:group name="myModelGroup"&gt;
 &lt;xs:sequence&gt;
  &lt;xs:element ref="someThing"/&gt;
 &lt;/xs:sequence&gt;
&lt;/xs:group&gt;

&lt;xs:complexType name="trivial"&gt;
 &lt;xs:group ref="myModelGroup"/&gt;
 &lt;xs:attribute .../&gt;
&lt;/xs:complexType&gt;

&lt;xs:complexType name="moreSo"&gt;
 &lt;xs:choice&gt;
  &lt;xs:element ref="anotherThing"/&gt;
  &lt;xs:group ref="myModelGroup"/&gt;
 &lt;/xs:choice&gt;
 &lt;xs:attribute .../&gt;
&lt;/xs:complexType&gt;

</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td>A minimal model group is defined and used by reference, first as the whole
content model, then as one alternative in a choice. </td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
<div class="constraintnote">
<a name="src-model_group_defn"></a><b>Schema Representation Constraint:  Model Group Definition Representation OK</b>
<br>
<div class="constraint">
  
  In addition to the conditions imposed on <a href="#element-group">group</a> element
information items by the DTD and schema for schemas, the following must also hold:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The corresponding model group definition, if any, must satisfy the conditions set
out in <a href="#coss-modelGroup">Model Group Constraints (&sect;5.7)</a>.
    </td>
</tr>
   </table>
  
 </div>
</div>
</div>
 <div class="div3">
<h4>
<a name="declare-contentModel"></a>4.3.6 XML Representation of Model Group Schema Components</h4>
<p>The XML representation for a model group schema component is
either an
<a href="#element-all">all</a>, a <a href="#element-choice">choice</a> or a <a href="#element-sequence">sequence</a>
element information item.    The correspondences between the
properties of those information items and
properties of the component they correspond to are as follows:</p>
<blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>all</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-all">&lt;all</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;maxOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>
<br>&nbsp;&nbsp;minOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&nbsp;:&nbsp;1&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (<a href="#element-element">element</a> | <a href="#element-group">group</a> | <a href="#element-choice">choice</a> | <a href="#element-sequence">sequence</a> | <a href="#element-any">any</a>)*)<br>&lt;/all&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-choice">&lt;choice</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;maxOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>
<br>&nbsp;&nbsp;minOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&nbsp;:&nbsp;1&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (<a href="#element-element">element</a> | <a href="#element-group">group</a> | <a href="#element-choice">choice</a> | <a href="#element-sequence">sequence</a> | <a href="#element-any">any</a>)*)<br>&lt;/choice&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-sequence">&lt;sequence</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;maxOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>
<br>&nbsp;&nbsp;minOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&nbsp;:&nbsp;1&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (<a href="#element-element">element</a> | <a href="#element-group">group</a> | <a href="#element-choice">choice</a> | <a href="#element-sequence">sequence</a> | <a href="#element-any">any</a>)*)<br>&lt;/sequence&gt;</p>
</td>
</tr>
<tr>
<td>Each of the above items corresponds to a particle containing a model
group, with properties as follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Particle_details">Particle</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#p-min_occurs">{min occurs}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code></td>
</tr>
<tr valign="top">
<td><a href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the numeric lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td>
</tr>
<tr valign="top">
<td><a href="#term">{term}</a></td><td>A model group as given below</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Model_Group_details">Model Group</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#compositor">{compositor}</a></td><td>One of <i>all</i>, <i>choice</i>,
<i>sequence</i> depending on the element information item</td>
</tr>
<tr valign="top">
<td><a href="#particles">{particles}</a></td><td>a sequence of particles
corresponding to all the <a href="#element-all">all</a>, <a href="#element-choice">choice</a>,
<a href="#element-sequence">sequence</a>, <a href="#element-any">any</a>,
<a href="#element-group">group</a> or <a href="#element-element">element</a> items among the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>,
in order</td>
</tr>
<tr valign="top">
<td><a href="#amg-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
  <div class="constraintnote">
<a name="src-model_group"></a><b>Schema Representation Constraint:  Model Group Representation OK</b>
<br>
<div class="constraint">
   
   In addition to the conditions imposed on <a href="#element-all">all</a>, <a href="#element-choice">choice</a> and <a href="#element-sequence">sequence</a> element
information items by the DTD and schema for schemas, the following must also hold:
    <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The corresponding particle and model group must satisfy the conditions set
out in <a href="#coss-modelGroup">Model Group Constraints (&sect;5.7)</a> and <a href="#coss-particle">Particle Constraints (&sect;5.10)</a>.
    </td>
</tr>
   </table>
   
  </div>
</div>
</div>
   <div class="div3">
    <h4>
<a name="declare-openness"></a>4.3.7 XML Representation of Wildcard Schema Components</h4>
    <p>The XML representation for a wildcard schema component is an
<a href="#element-any">any</a> or <a href="#element-anyAttribute">anyAttribute</a> element information item.    The correspondences between the
properties of an <a href="#element-any">any</a> information item and
properties of the components it corresponds to are as follows (see <a href="#element-complexType">complexType</a> and <a href="#element-attributeGroup">attributeGroup</a> for the correspondences for <a href="#element-anyAttribute">anyAttribute</a>):</p>
    <blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>any</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-any">&lt;any</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;maxOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#string">string</a>
<br>&nbsp;&nbsp;minOccurs = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#nonNegativeInteger">nonNegativeInteger</a>&nbsp;:&nbsp;1<br>&nbsp;&nbsp;namespace = <em>##any | ##other | ##local | list of {uri, ##targetNamespace}</em>&nbsp;:&nbsp;##any<br>&nbsp;&nbsp;processContents = <var>lax</var> | <var>skip</var> | <var>strict</var>&nbsp;:&nbsp;strict&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>?)<br>&lt;/any&gt;</p>
</td>
</tr>
<tr>
<td>A particle containing a wildcard, with properties as follows (unless <code>minOccurs=maxOccurs=0</code>, in which case the item
corresponds to no component at all):</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Particle_details">Particle</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#p-min_occurs">{min occurs}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code></td>
</tr>
<tr valign="top">
<td><a href="#p-max_occurs">{max occurs}</a></td><td><i>unbounded</i>, if the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> equals <i>unbounded</i>, otherwise the numeric lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>maxOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>minOccurs</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <code>1</code>.</td>
</tr>
<tr valign="top">
<td><a href="#term">{term}</a></td><td>A wildcard as given below</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Wildcard_details">Wildcard</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#namespace_constraint">{namespace constraint}</a></td><td>Dependent on the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>namespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>: if absent, then <i>any</i>, otherwise as follows:<dl>
  
   <dt>
<b>##any</b>
</dt>
   <dd>
    <i>any</i>
   </dd>
  
  
   <dt>
<b>##other</b>
</dt>
   <dd>
    a pair of <i>not</i> and the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the <a href="#element-schema">schema</a> ancestor
element information item if present, otherwise <a href="#key-null">absent</a>
   </dd>
  
  
   <dt>
<b><i>otherwise</i></b>
</dt>
   <dd>
    a set whose members are namespace URIs corresponding to the
whitespace-delimited substrings of the string, except
     <table class="constraintlist">
      <tr>
<td class="clnumber">1 </td><td>
       if one such
substring is <code>##targetNamespace</code>, the corresponding member is the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the <a href="#element-schema">schema</a> ancestor
element information item if present, otherwise <a href="#key-null">absent</a>
      </td>
</tr>
      <tr>
<td class="clnumber">2 </td><td>
       if one such
substring is <code>##local</code>, the corresponding member is <a href="#key-null">absent</a>
      </td>
</tr>
     </table>
    
   </dd>
  
 </dl>
</td>
</tr>
<tr valign="top">
<td><a href="#process_contents">{process contents}</a></td><td>One of <i>lax</i>, <i>skip</i>,
<i>strict</i>, corresponding to the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>processContents</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <i>strict</i></td>
</tr>
<tr valign="top">
<td><a href="#w-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
    <p>Wildcards are subject to the same ambiguity constraints
(<a href="#cos-nonambig">Unique Particle Attribution (&sect;5.7)</a>) as other
content model particles:  If an instance element could match either an explicit
particle and a wildcard, or one of two wildcards, within the content model of a
type, that model is in error.</p>
    <blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
<tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:any processContents="skip"/&gt;

&lt;xs:any namespace="##other" processContents="lax"/&gt;

&lt;xs:any namespace="http://www.w3.org/1999/XSL/Transform"/&gt;

&lt;xs:any namespace="##targetNamespace"/&gt;

&lt;xs:anyAttribute namespace="http://www.w3.org/XML/1998/namespace"/&gt;</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
    <tr>
<td>Concrete examples of the four basic types of wildcard, plus one attribute wildcard.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
    <div class="constraintnote">
<a name="src-wildcard"></a><b>Schema Representation Constraint:  Wildcard Representation OK</b>
<br>
<div class="constraint">
   
   In addition to the conditions imposed on <a href="#element-any">any</a> element
information items by the DTD and schema for schemas, the following must also hold:
    <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The corresponding particle and model group must satisfy the conditions set
out in <a href="#coss-modelGroup">Model Group Constraints (&sect;5.7)</a> and <a href="#coss-particle">Particle Constraints (&sect;5.10)</a>.
    </td>
</tr>
   </table>
   
  </div>
</div>
   </div>
   <div class="div3">
    <h4>
<a name="declare-key"></a>4.3.8 XML Representation of Identity-constraint Definition Schema Components</h4>
<p>The XML representation for an identity-constraint definition schema component is
either a
<a href="#element-key">key</a>, a <a href="#element-keyref">keyref</a> or a <a href="#element-unique">unique</a>
element information item.    The correspondences between the
properties of those information items and
properties of the component they correspond to are as follows:</p>
    <blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>unique</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-unique">&lt;unique</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;<b>name</b> = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#NCName">NCName</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (<a href="#element-selector">selector</a> , <a href="#element-field">field</a>+))<br>&lt;/unique&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-key">&lt;key</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;<b>name</b> = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#NCName">NCName</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (<a href="#element-selector">selector</a> , <a href="#element-field">field</a>+))<br>&lt;/key&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-keyref">&lt;keyref</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;<b>name</b> = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#NCName">NCName</a>
<br>&nbsp;&nbsp;<b>refer</b> = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#QName">QName</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>? , (<a href="#element-selector">selector</a> , <a href="#element-field">field</a>+))<br>&lt;/keyref&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-selector">&lt;selector</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>XPathExprApprox&nbsp;:&nbsp;<em>An XPath expression</em>
<br>&lt;/selector&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-field">&lt;field</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>XPathExprApprox&nbsp;:&nbsp;<em>An XPath expression</em>
<br>&lt;/field&gt;</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Identity-constraint_Definition_details">Identity-constraint Definition</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#c-name">{name}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>name</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
<tr valign="top">
<td><a href="#c-target_namespace">{target namespace}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <code>schema</code>
element information item.</td>
</tr>
<tr valign="top">
<td><a href="#identity-constraint_name">{identity-constraint category}</a></td><td>One of <i>key</i>, <i>keyref</i> or
<i>unique</i>, depending on the item</td>
</tr>
<tr valign="top">
<td><a href="#selector">{selector}</a></td><td>An XPath expression corresponding to the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of
the <a href="#element-selector">selector</a> element information item among the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a></td>
</tr>
<tr valign="top">
<td><a href="#fields">{fields}</a></td><td>A sequence of XPath expressions, corresponding to the
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a>s of the <a href="#element-field">field</a> element information item <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, in order.</td>
</tr>
<tr valign="top">
<td><a href="#referenced_key">{referenced key}</a></td><td>If the item is a <a href="#element-keyref">keyref</a>, the
identity-constraint definition <a href="#src-resolve">resolved</a> to by the
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>refer</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, otherwise <a href="#key-null">absent</a></td>
</tr>
<tr valign="top">
<td><a href="#rc-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
    <p>The <code>XPathExprApprox</code> simple type referenced above
is defined in <a href="#normative-schemaSchema">(normative) Schema for Schemas (&sect;A)</a>.  It is a
permissive approximation to the syntax of XPath expressions as defined
in <a href="#bib-xpath">[XPath]</a>, and is <i>not</i> an accurate
reconstruction of that syntax.  Its use by reference from other schema
documents is deprecated: In due course a schema for XPath
will be published which includes a simple type definition appropriate
for widespread use.</p>
    
    <blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
     <tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;xs:element name="state"&gt;
  &lt;xs:complexType&gt;
   &lt;xs:element name="stateCode" type="twoLetterCode"/&gt;
   &lt;xs:element name="vehicle"&gt;
     &lt;xs:complexType&gt;
      . . .
      &lt;xs:attribute name="regNo" type="dt:integer"/&gt;
     &lt;/xs:complexType&gt;
   &lt;/xs:element&gt;

   . . .
  &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;xs:element name="root"
 . . .
 &lt;xs:key name="regKey"&gt;
  &lt;xs:selector&gt;.//vehicle[@regNo]&lt;/xs:selector&gt;
  &lt;xs:field&gt;@regNo&lt;/xs:field&gt;
  &lt;xs:field&gt;ancestor::state/stateCode&lt;/xs:field&gt;
      &lt;!-- scope needs to be involved --&gt;
 &lt;/xs:key&gt;
&lt;/xs:element&gt;

&lt;xs:element name="person"&gt;
 &lt;xs:complexType&gt;
  . . .
  &lt;xs:element name="car"&gt;
   &lt;xs:complexType model="empty"&gt;
    . . .
    &lt;xs:attribute name="regRef" type="dt:integer"/&gt;
    &lt;xs:attribute name="regState" type="twoLetterCode"/&gt;
   &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
 &lt;/xs:complexType&gt;

 &lt;xs:keyref name="carRef" refer="regKey"&gt;
  &lt;xs:selector&gt;.//car[@regRef]&lt;/xs:selector&gt;
   &lt;xs:field&gt;@regRef&lt;/xs:field&gt;
   &lt;xs:field&gt;@regState&lt;/xs:field&gt;
 &lt;/xs:keyref&gt;
&lt;/xs:element&gt;</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
     <tr>
<td>A <code>state</code> element is defined, which <i>inter alia</i>
contains a <code>stateCode</code> descendant and some <code>vehicle</code>
descendants.  A <code>vehicle</code> in turn has a <code>regNo</code> attribute,
which is an integer.  The combination of <code>stateCode</code> and
<code>regNo</code> is asserted to be a <i>key</i> for
<code>vehicle</code> within <code>state</code>.  Furthermore, a <code>person</code> element has
inter-alia an empty <code>car</code> element, with <code>regRef</code> and
<code>regState</code> attributes, which are then asserted together to refer to
<code>vehicles</code> via the <code>regKey</code> constraint.</td>
</tr>
    </tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
    <div class="constraintnote">
<a name="src-identity-constraint"></a><b>Schema Representation Constraint:  Identity-constraint Definition Representation OK</b>
<br>
<div class="constraint">
   
   In addition to the conditions imposed on <a href="#element-key">key</a>, <a href="#element-keyref">keyref</a> and <a href="#element-unique">unique</a> element
information items by the DTD and schema for schemas, the following must also hold:
    <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The corresponding identity-constraint definition must satisfy the conditions set
out in <a href="#coss-identity-constraint">Identity-constraint Definition Constraints (&sect;5.3)</a>.
    </td>
</tr>
   </table>
   
  </div>
</div>
 </div>
<div class="div3">
<h4>
<a name="declare-notation"></a>4.3.9 XML Representation of Notation Declaration Schema Components</h4>
<p>The XML representation for a notation declaration schema component is
a
<a href="#element-notation">notation</a>
element information item.    The correspondences between the
properties of that information item and
properties of the component it corresponds to are as follows:</p>
 <blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>notation</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-notation">&lt;notation</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;<b>name</b> = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#NCName">NCName</a>
<br>&nbsp;&nbsp;<b>public</b> = <em>A public identifier, per ISO 8879</em>
<br>&nbsp;&nbsp;system = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#uriReference">uriReference</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>?)<br>&lt;/notation&gt;</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Notation_Declaration_details">Notation Declaration</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#n-name">{name}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>name</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
<tr valign="top">
<td><a href="#n-target_namespace">{target namespace}</a></td><td>The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> of the parent <code>schema</code>
element information item.</td>
</tr>
<tr valign="top">
<td><a href="#system_identifier">{system identifier}</a></td><td>A URI reference corresponding to the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>system</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
<tr valign="top">
<td><a href="#public_identifier">{public identifier}</a></td><td>A URI reference corresponding to the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>public</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a></td>
</tr>
<tr valign="top">
<td><a href="#n-annotation">{annotation}</a></td><td>The annotation corresponding to the <a href="#element-annotation">annotation</a> element information item in the
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, if present, otherwise <a href="#key-null">absent</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
<blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
<tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>
&lt;xs:notation name="jpeg"
             public="image/jpeg" system="viewer.exe" /&gt;

&lt;xs:element name="picture"&gt;
 &lt;xs:complexType base="dt:binary" derivedBy="extension"&gt;
  &lt;xs:attribute name="pictype" type="dt:NOTATION"/&gt;
 &lt;/xs:complexType&gt;
&lt;/xs:element&gt;

&lt;picture pictype="jpeg"&gt;...&lt;/picture&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>

</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <div class="constraintnote">
<a name="src-notation"></a><b>Schema Representation Constraint:  Notation Definition Representation OK</b>
<br>
<div class="constraint">
   
   In addition to the conditions imposed on <a href="#element-notation">notation</a> element
information items by the DTD and schema for schemas, the following must also hold:
    <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The corresponding notation definition must satisfy the conditions set
out in <a href="#coss-notation">Notation Declaration Constraints (&sect;5.8)</a>.
    </td>
</tr>
   </table>
   
  </div>
</div>
</div>
<div class="div3">
<h4>
<a name="declare-annotation"></a>4.3.10 XML Representation of Annotation Schema Components</h4>
 <p>Annotation of schemas and schema components, with material for human or
computer consumption, is provided for by allowing application information and
human information at the beginning of most major schema elements, and anywhere
at the top level of schemas.  The XML representation for an annotation schema component is
an
<a href="#element-annotation">annotation</a>
element information item.    The correspondences between the
properties of that information item and
properties of the component it corresponds to are as follows:</p>
 <blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>annotation</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-annotation">&lt;annotation</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-appinfo">appinfo</a> | <a href="#element-documentation">documentation</a>)*<br>&lt;/annotation&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-appinfo">&lt;appinfo</a>
<br>&nbsp;&nbsp;source = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#uriReference">uriReference</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>()+<br>&lt;/appinfo&gt;</p>
</td>
</tr>
<tr>
<td>
<p class="element-syntax">
<a name="element-documentation">&lt;documentation</a>
<br>&nbsp;&nbsp;source = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#uriReference">uriReference</a>
<br>&nbsp;&nbsp; = <br>&nbsp;&nbsp; = &gt;<br>
<em>&nbsp;&nbsp;Content: </em>()+<br>&lt;/documentation&gt;</p>
</td>
</tr>
<tr>
<td>
<table class="reprcomp" border="1">
<thead>
<tr>
<th><a href="#Annotation_details">Annotation</a><strong>&nbsp;Schema Component</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>
<table border="0">
<thead>
<tr>
<th align="left">Property</th><th align="left">Representation</th>
</tr>
</thead>
<tbody valign="top">
<tr valign="top">
<td><a href="#application_information">{application information}</a></td><td>A sequence of the <a href="#element-appinfo">appinfo</a> element
information items from among the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, in order, if any, otherwise the
empty sequence.</td>
</tr>
<tr valign="top">
<td><a href="#user_information">{user information}</a></td><td>A sequence of the <a href="#element-documentation">documentation</a> element
information items from among the <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, in order, if any, otherwise the
empty sequence.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <div class="constraintnote">
<a name="src-annotation"></a><b>Schema Representation Constraint:  Annotation Definition Representation OK</b>
<br>
<div class="constraint">
   
   In addition to the conditions imposed on <a href="#element-annotation">annotation</a> element
information items by the DTD and schema for schemas, the following must also hold:
    <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The corresponding annotation must satisfy the conditions set
out in <a href="#coss-annotation">Annotation Constraints (&sect;5.9)</a>.
    </td>
</tr>
   </table>
   
  </div>
</div>
</div>
 <div class="div3">
  <h4>
<a name="declare-datatype"></a>4.3.11 (non-normative) XML Representation of Simple Type Definition Schema Components</h4>
<blockquote>
<b>NOTE: </b>
  This section reproduces a version of material from <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>, for local cross-reference purposes.
 </blockquote>
  <div class="constraintnote">
<a name="st-restrict-facets"></a><b>Schema Representation Constraint:  Simple Type Restriction (Facets)</b>
<br>
<div class="constraint">
   
   A simple type definition (call it <b>R</b>) restricts another simple type
definition (call it <b>B</b>) with a
set of facets (call this <b>S</b>) if: 
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      The <a href="#st-base_type_definition">{base type definition}</a> of <b>R</b> is the same
as that of <b>B</b>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      The <a href="#variety">{variety}</a> of <b>R</b> is the same as that of <b>R</b>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.3 </td><td>
      For each facet in the <a href="#facets">{facets}</a> of <b>B</b>, there is a
a facet of the same kind in <b>R</b>, which is the facet of the same kind in <b>S</b>, if
there is one, otherwise a facet of the same kind whose <b>{value}</b> is the
<b>{value}</b> of the facet of the same kind in the <a href="#facets">{facets}</a> of
<b>B</b> and whose <b>{annotation}</b> is <a href="#key-null">absent</a>.
      
     </td>
</tr>
    </table>
   
  </div>
</div>
</div>
</div>
</div>
   <div class="div1">
 <h2>
<a name="conformance-details"></a>5 Schema Component Validity Constraints</h2>
    <p>This chapter presents the constraints each kind of schema component must
satisfy to <i>be</i> a component.</p>
 <div class="div2">
  <h3>
<a name="coss-attribute"></a>5.1 Attribute Declaration Constraints</h3>
  <p>All attribute declarations (see <a href="#Attribute_Declaration_details">Attribute Declaration Details (&sect;3.2)</a>) must satisfy the following constraints.</p>
  <div class="constraintnote">
<a name="a-props-correct"></a><b>Constraint on Schemas:  Attribute Declaration Properties Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The values of the properties of an attribute declaration must be as described in
the property tableau in
<a href="#Attribute_Declaration_details">Attribute Declaration Details (&sect;3.2)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     <a href="#a-min_occurs">{min occurs}</a> and <a href="#a-max_occurs">{max occurs}</a> must be
present if and only if <a href="#a-scope">{scope}</a> is not <code>global</code>;
    </td>
</tr>
    <tr>
<td class="clnumber">3 </td><td>
     <a href="#a-min_occurs">{min occurs}</a> must not be <code>1</code> if <a href="#a-max_occurs">{max occurs}</a> is <code>0</code>;
    </td>
</tr>
    <tr>
<td class="clnumber">4 </td><td>
     if there is a <a href="#a-value_constraint">{value constraint}</a>,
      <table class="constraintlist">
      <tr>
<td class="clnumber">4 </td><td>
       its string must be
schema-valid with respect to the <a href="#a-simple_type_definition">{simple type definition}</a> as
defined in <a href="#cvc-simple-type">String Valid (&sect;3.13)</a>;<p>
</p>
       its second part (<i>default</i> or <i>fixed</i>) must be present if and only if its <a href="#a-scope">{scope}</a> is not <code>global</code>.
      </td>
</tr>
</table>
     
    </td>
</tr>
   </table>
  </div>
</div>
  <div class="constraintnote">
<a name="no-xmlns"></a><b>Constraint on Schemas:  xmlns Not Allowed</b>
<br>
<div class="constraint">
   
   The <a href="#a-name">{name}</a> of an attribute declaration must not match <code>xmlns</code>.
<blockquote>
<b>NOTE: </b>
The <a href="#a-name">{name}</a> of an attribute is an <a href="#gloss-NCName">NCName</a>, which implicitly
prohibits attribute declarations of the form <code>xmlns:*</code>
</blockquote>
  </div>
</div>
  <div class="constraintnote">
<a name="no-xsi"></a><b>Constraint on Schemas:  xsi: Not Allowed</b>
<br>
<div class="constraint">
   
   The <a href="#a-target_namespace">{target namespace}</a> of an attribute declaration,
whether local or global, must not match <code>http://www.w3.org/1999/XMLSchema-instance</code>.
   <blockquote>
<b>NOTE: </b>
This reinforces the special status of these attributes, so that they not
only <i>need</i> not be declared to be allowed in instances, but
<i>may</i> not be declared.  It also removes any temptation to experiment with supplying global or fixed values
for e.g. <code>xsi:type</code> or <code>xsi:null</code>, which would be
seriously misleadingly, as they would have no effect.
</blockquote>
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-element"></a>5.2 Element Declaration Constraints</h3>
  <p>All element declarations (see <a href="#Element_Declaration_details">Element Declaration Details (&sect;3.3)</a>) must satisfy the following constraint.</p>
  <div class="constraintnote">
<a name="e-props-correct"></a><b>Constraint on Schemas:  Element Declaration Properties Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The values of the properties of an element declaration must be as described in
the property tableau in
<a href="#Element_Declaration_details">Element Declaration Details (&sect;3.3)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     If there is a <a href="#e-value_constraint">{value constraint}</a>, its string must be
schema-valid with respect to the <a href="#type_definition">{type definition}</a> as defined in <a href="#cos-valid-default">Element Default Valid (Immediate) (&sect;5.2)</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">3 </td><td>
     If there is an <a href="#class_exemplar">{equivalence class affiliation}</a>, the <a href="#type_definition">{type definition}</a> of the element declaration must
be validly derived from the <a href="#type_definition">{type definition}</a> of the <a href="#class_exemplar">{equivalence class affiliation}</a>, given the value of the <a href="#e-final">{equivalence class exclusions}</a> of the <a href="#class_exemplar">{equivalence class affiliation}</a>, as defined in <a href="#cos-ct-derived-ok">Type Derivation OK (Complex) (&sect;5.11)</a> (if the <a href="#type_definition">{type definition}</a> is complex) or given {<i>list</i>), as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&sect;5.12)</a> (if the <a href="#type_definition">{type definition}</a> is simple).
     
    </td>
</tr>
   </table>
  </div>
</div>
  <p>The following constraints define relations appealed to elsewhere in this specification.</p>
  <div class="constraintnote">
<a name="cos-valid-default"></a><b>Constraint on Schemas:  Element Default Valid (Immediate)</b>
<br>
<div class="constraint">
   
   A string is a valid default with respect to a type definition if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      The type definition is a simple type definition, and the string is
schema-valid with respect to that definition as defined by <a href="#cvc-simple-type">String Valid (&sect;3.13)</a>
     </td>
</tr>
    </table>
    or
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.2 </td><td>
      The type definition is a complex type definition whose <a href="#content_type">{content type}</a> is a simple type definition, and the string is
schema-valid with respect to that simple type definition as defined by <a href="#cvc-simple-type">String Valid (&sect;3.13)</a>
     </td>
</tr>
    </table>
    or
    <table class="constraintlist">
<tr>
<td class="clnumber">1.3 </td><td>
      The type definition is a complex type definition whose <a href="#content_type">{content type}</a> is <i>mixed</i>, and the <a href="#content_type">{content type}</a>'s particle is <a href="#cd-emptiable">emptiable</a> as defined by <a href="#cos-group-emptiable">Particle Emptiable (&sect;5.10)</a>.
     </td>
</tr>
</table>
   
  </div>
</div>
  <div class="constraintnote">
<a name="cos-equiv-derived-ok-rec"></a><b>Constraint on Schemas:  Equivalence Class OK (Transitive)</b>
<br>
<div class="constraint">
   
   An element declaration (call it <b>D</b>) together with a blocking constraint (a subset of
{<i>equivClass</i>, <i>extension</i>, <i>restriction</i>}, the value of a <a href="#e-exact">{disallowed substitutions}</a>) is validly equivalent
to another element declaration (call it <b>C</b>) if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      the blocking constraint does not contain <i>equivClass</i>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      There is a chain of <a href="#class_exemplar">{equivalence class affiliation}</a>s from <b>D</b> to
<b>C</b>, that is, either <b>D</b>'s <a href="#class_exemplar">{equivalence class affiliation}</a> is
<b>C</b>, or <b>D</b>'s <a href="#class_exemplar">{equivalence class affiliation}</a>'s <a href="#class_exemplar">{equivalence class affiliation}</a> is <b>C</b>, or . . .;
     </td>
</tr>
     <tr>
<td class="clnumber">1.3 </td><td>
      The set of all <a href="#derivation_method">{derivation method}</a>s
involved in the derivation of <b>D</b>'s <a href="#type_definition">{type definition}</a> from
<b>C</b>'s <a href="#type_definition">{type definition}</a> does not intersect with the union
of the blocking constraint, <b>C</b>'s <a href="#ct-exact">{prohibited-substitutions}</a> and the
<a href="#ct-exact">{prohibited-substitutions}</a> of any intermediate <a href="#type_definition">{type definition}</a>s
in the derivation of <b>D</b>'s <a href="#type_definition">{type definition}</a> from
<b>C</b>'s <a href="#type_definition">{type definition}</a>.
     </td>
</tr>
    </table>
   
  </div>
</div>
  <div class="constraintnote">
<a name="cos-equiv-class"></a><b>Constraint on Schemas:  Equivalence Class</b>
<br>
<div class="constraint">
   
   <span class="termdef"><a name="key-eq">[Definition:]&nbsp;&nbsp;</a>Every element declaration
in the <a href="#element_declarations">{element declarations}</a> of a schema defines an <b>equivalence
class</b>, a subset of those <a href="#element_declarations">{element declarations}</a>, as follows:</span>
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      The element declaration itself is in the class;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      the class is closed with respect to <a href="#class_exemplar">{equivalence class affiliation}</a>, that
is, if any element declaration in the <a href="#element_declarations">{element declarations}</a> 
has an <a href="#class_exemplar">{equivalence class affiliation}</a> in the class, then it is also in the class itself.
     </td>
</tr>
    </table>
   
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-identity-constraint"></a>5.3 Identity-constraint Definition Constraints</h3>
  <p>All identity-constraint definitions (see <a href="#Identity-constraint_Definition_details">Identity-constraint Definition Details (&sect;3.10)</a>) must satisfy the following constraint.</p>
  <div class="constraintnote">
<a name="c-props-correct"></a><b>Constraint on Schemas:  Identity-constraint Definition Properties Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The values of the properties of a identity-constraint definition must be as described in
the property tableau in
<a href="#Identity-constraint_Definition_details">Identity-constraint Definition Details (&sect;3.10)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     If the <a href="#identity-constraint_name">{identity-constraint category}</a> is <i>keyref</i>, the
cardinality of the <a href="#fields">{fields}</a> must equal that of the <a href="#fields">{fields}</a> of the <a href="#referenced_key">{referenced key}</a>
    </td>
</tr>
   </table>
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-attrGroup"></a>5.4 Attribute Group Definition Constraints</h3>
<p>All attribute group definitions (see <a href="#Attribute_Group_Definition_details">Attribute Group Definition Details (&sect;3.5)</a>) must satisfy the following constraint.</p>
  <div class="constraintnote">
<a name="ag-props-correct"></a><b>Constraint on Schemas:  Attribute Group Definition Properties Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The values of the properties of an attribute group definition must be as described in
the property tableau in
<a href="#Attribute_Group_Definition_details">Attribute Group Definition Details (&sect;3.5)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     Two distinct members of the <a href="#ag-attribute_declarations">{attribute declarations}</a> may not contain both <a href="#a-name">{name}</a>s which match and <a href="#a-target_namespace">{target namespace}</a>s which are identical.
    </td>
</tr>
   </table>
  </div>
</div>
  <p>The following constraint defines a relation appealed to elsewhere in this specification.</p>
  <div class="constraintnote">
<a name="cos-aw-intersect"></a><b>Constraint on Schemas:  Attribute Wildcard Intersection</b>
<br>
<div class="constraint">
   
   An wildcard's <a href="#namespace_constraint">{namespace constraint}</a> value is the intensional
intersection of two other such values (call them <b>O1</b> and <b>O2</b>) if it
is the value determined as follows
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      If <b>O1</b> and <b>O2</b> are the same value, then that value;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      Otherwise if either <b>O1</b> or <b>O2</b> is <i>any</i>, then the
other;
     </td>
</tr>
     <tr>
<td class="clnumber">1.3 </td><td>
      Otherwise if either <b>O1</b> or <b>O2</b> is a pair of <i>not</i>
and a namespace URI and the other is a set of (namespace URIs or <a href="#key-null">absent</a>), then that set,
minus the negated namespace URI if it was in the set;
     </td>
</tr>
     <tr>
<td class="clnumber">1.4 </td><td>
      Otherwise if both <b>O1</b> and <b>O2</b> are sets of (namespace URIs
or <a href="#key-null">absent</a>), then the intersection of those sets;
     </td>
</tr>
     <tr>
<td class="clnumber">1.5 </td><td>
      Otherwise (the two are negations of different namespace URIs) the intersection is not expressible.
     </td>
</tr>
    </table>
    In the case where there are more than two values, the intensional
intersection is determined by identifying the intensional intersection of two
of the values as above, then the intensional intersection of that value with
the third (providing the first intersection was expressible), and so on as required.
   
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-wildcard"></a>5.5 Wildcard Constraints</h3>
  <p>All wildcards (see <a href="#Wildcard_details">Wildcard Details (&sect;3.9)</a>) must satisfy the following constraint.</p>
  <div class="constraintnote">
<a name="w-props-correct"></a><b>Constraint on Schemas:  Wildcard Properties Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber"> </td><td>
     The values of the properties of a wildcard must be as described in
the property tableau in
<a href="#Wildcard_details">Wildcard Details (&sect;3.9)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>.
    </td>
</tr>
   </table>
  </div>
</div>
  <p>The following constraint defines a relation appealed to elsewhere in this specification.</p>
  <div class="constraintnote">
<a name="cos-ns-subset"></a><b>Constraint on Schemas:  Wildcard Subset</b>
<br>
<div class="constraint">
  
   A namespace constraint (call it <b>sub</b>) is an intensional subset of
another namespace constraint (call it <b>super</b>) if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      <b>super</b> is <i>any</i>
     </td>
</tr>
    </table>
    or
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.2 </td><td>
      <b>sub</b> is a pair of <i>not</i> and a namespace URI or <a href="#key-null">absent</a> and super is a pair of <i>not</i> and the same value;
     </td>
</tr>
    </table>
    or
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.3 </td><td>
      <b>sub</b> is a set whose members are either namespace URIs or
<a href="#key-null">absent</a> and either
       <table class="constraintlist">
       <tr>
<td class="clnumber">1.3.1 </td><td>
        <b>super</b> is the same set or a superset thereof
       </td>
</tr>
      </table>
      or
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.3.2 </td><td>
         <b>super</b> is a pair of <i>not</i> and a namespace URI or
<a href="#key-null">absent</a> and that value is not in <b>sub</b>'s set.
        </td>
</tr>
       </table>
      
     </td>
</tr>
    </table>
   
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-groupDef"></a>5.6 Model Group Definition Constraints</h3>
  <p>All model group definitions (see <a href="#Model_Group_Definition_details">Model Group Definition Details (&sect;3.6)</a>) must satisfy the following constraint.</p>
  <div class="constraintnote">
<a name="mgd-props-correct"></a><b>Constraint on Schemas:  Model Group Definition Properties Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber"> </td><td>
     The values of the properties of a model group definition must be as described in
the property tableau in
<a href="#Model_Group_Definition_details">Model Group Definition Details (&sect;3.6)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>.
    </td>
</tr>
   </table>
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-modelGroup"></a>5.7 Model Group Constraints</h3>
  <p>All model groups (see <a href="#Model_Group_details">Model Group Details (&sect;3.7)</a>) must satisfy the following constraints.</p>
  <div class="constraintnote">
<a name="mg-props-correct"></a><b>Constraint on Schemas:  Model Group Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber"> </td><td>
     The values of the properties of a model group must be as described in
the property tableau in
<a href="#Model_Group_details">Model Group Details (&sect;3.7)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>.
    </td>
</tr>
   </table>
  </div>
</div>
  <div class="constraintnote">
<a name="cos-all-limited"></a><b>Constraint on Schemas:  All Group Limited</b>
<br>
<div class="constraint">
   
   A model group with <a href="#compositor">{compositor}</a> <i>all</i> must only
appear either
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      as the model group of a model group definition
     </td>
</tr>
    </table>
    or
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.2 </td><td>
      in a particle with <a href="#p-min_occurs">{min occurs}</a>=<a href="#p-max_occurs">{max occurs}</a><code>=1</code>, and that particle
must be part of a pair which constitutes the <a href="#content_type">{content type}</a> of a
complex type definition.
     </td>
</tr>
    </table>
    Furthermore, the <a href="#p-max_occurs">{max occurs}</a> of all the particles in the
<a href="#particles">{particles}</a> of an <i>all</i> group must be <code>0</code> or <code>1</code>.
   
  </div>
</div>
  <div class="constraintnote">
<a name="cos-element-consistent"></a><b>Constraint on Schemas:  Element Declarations Consistent</b>
<br>
<div class="constraint">
   
   If the <a href="#particles">{particles}</a> contains, either directly, indirectly
(that is, within the <a href="#particles">{particles}</a> of a contained model group,
recursively) or <a href="#key-impl-cont">implicitly</a> two or more
element declaration particles with the same <a href="#e-name">{name}</a> and
<a href="#e-target_namespace">{target namespace}</a>, all their
<a href="#type_definition">{type definition}</a>s must be the same.<p>
</p>
  <span class="termdef"><a name="key-impl-cont">[Definition:]&nbsp;&nbsp;</a>We say that a list
of particles <b>implicitly contains</b> an element declaration if a
member of the list contains that
element declaration in its <a href="#key-eq">equivalence class</a></span>.
  </div>
</div>
  <div class="constraintnote">
<a name="cos-nonambig"></a><b>Constraint on Schemas:  Unique Particle Attribution</b>
<br>
<div class="constraint">

A content model must be formed such that
during schema validation of an element information item sequence, the particle
contained directly, indirectly or <a href="#key-impl-cont">implicitly</a> therein with which to attempt to schema-validate each item in the sequence can be uniquely determined without lookahead.   
   <blockquote>
<b>NOTE: </b>
    This constraint reconstructs for XML Schema the equivalent constraints of
<a href="#ref-xml">[XML]</a> and SGML.  Given the presence of element equivalence
classes and wildcards, the concise expression of this constraint is difficult,
see <a href="#non-ambig">(non-normative) Analysis of the Unique Particle Attribution constraint (&sect;E)</a> for further discussion.
   </blockquote>
</div>
</div>
  <blockquote>
<b>NOTE: </b>
    Because locally-scoped element declarations may or may not have a
<a href="#e-target_namespace">{target namespace}</a>, the scope of declarations is
<i>not</i> relevant to enforcing either of the two preceding constraints.
   </blockquote>
  <p>The following constraints define relations appealed to elsewhere in this specification.</p>
  <div class="constraintnote">
<a name="cos-seq-range"></a><b>Constraint on Schemas:  Effective Total Range (all and sequence)</b>
<br>
<div class="constraint">
   
   The effective total range of a particle whose <a href="#term">{term}</a> is a group whose <a href="#compositor">{compositor}</a> is
<i>all</i> or <i>sequence</i> is a pair of minimum and maximum, as follows 
   <dl>
    
     <dt>
<b>minimum</b>
</dt>
     <dd>
      The product of the particle's <a href="#p-min_occurs">{min occurs}</a> and the
sum of the <a href="#p-min_occurs">{min occurs}</a> of every wildcard or element
declaration particle in the group's <a href="#particles">{particles}</a> and the minimum
part of the effective total range of each of the group particles in the group's <a href="#particles">{particles}</a> (or <code>0</code> if there are no <a href="#particles">{particles}</a>)
     </dd>
    
    
     <dt>
<b>maximum</b>
</dt>
     <dd>
      <i>unbounded</i> if the <a href="#p-max_occurs">{max occurs}</a> of any wildcard or element
declaration particle in the group's <a href="#particles">{particles}</a> or the maximum
part of the effective total range of any of the group particles in the group's
<a href="#particles">{particles}</a> is <i>unbounded</i>, or if any of those is non-zero
and the <a href="#p-max_occurs">{max occurs}</a> of the particle itself is <i>unbounded</i>,
otherwise the product of the particle's <a href="#p-max_occurs">{max occurs}</a> and the
sum of the <a href="#p-max_occurs">{max occurs}</a> of every wildcard or element
declaration particle in the group's <a href="#particles">{particles}</a> and the maximum
part of the effective total range of each of the group particles in the group's <a href="#particles">{particles}</a> (or <code>0</code> if there are no <a href="#particles">{particles}</a>)
     </dd>
    
   </dl>
  </div>
</div>
  <div class="constraintnote">
<a name="cos-choice-range"></a><b>Constraint on Schemas:  Effective Total Range (choice)</b>
<br>
<div class="constraint">
   
   The effective total range of a particle whose <a href="#term">{term}</a> is a group whose <a href="#compositor">{compositor}</a> is
<i>choice</i> is a pair of minimum and maximum, as follows 
   <dl>
    
     <dt>
<b>minimum</b>
</dt>
     <dd>
      The product of the particle's <a href="#p-min_occurs">{min occurs}</a> and the
minimum of the <a href="#p-min_occurs">{min occurs}</a> of every wildcard or element
declaration particle in the group's <a href="#particles">{particles}</a> and the minimum
part of the effective total range of each of the group particles in the group's <a href="#particles">{particles}</a> (or <code>0</code> if there are no <a href="#particles">{particles}</a>)
     </dd>
    
    
     <dt>
<b>maximum</b>
</dt>
     <dd>
      <i>unbounded</i> if the <a href="#p-max_occurs">{max occurs}</a> of any wildcard or element
declaration particle in the group's <a href="#particles">{particles}</a> or the maximum
part of the effective total range of any of the group particles in the group's
<a href="#particles">{particles}</a> is <i>unbounded</i>, or if any of those is non-zero
and the <a href="#p-max_occurs">{max occurs}</a> of the particle itself is <i>unbounded</i>,
otherwise the product of the particle's <a href="#p-max_occurs">{max occurs}</a> and the
maximum of the <a href="#p-max_occurs">{max occurs}</a> of every wildcard or element
declaration particle in the group's <a href="#particles">{particles}</a> and the maximum
part of the effective total range of each of the group particles in the group's <a href="#particles">{particles}</a> (or <code>0</code> if there are no <a href="#particles">{particles}</a>)
     </dd>
    
   </dl>
  </div>
</div>
</div>
 <div class="div2">
  <h3>
<a name="coss-notation"></a>5.8 Notation Declaration Constraints</h3>
  <p>All notation declarations (see <a href="#Notation_Declaration_details">Notation Declaration Details (&sect;3.11)</a>) must satisfy the following constraint.</p>
  <div class="constraintnote">
<a name="n-props-correct"></a><b>Constraint on Schemas:  Notation Declaration Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber"> </td><td>
     The values of the properties of a notation declaration must be as described in
the property tableau in
<a href="#Notation_Declaration_details">Notation Declaration Details (&sect;3.11)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>.
    </td>
</tr>
   </table>
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-annotation"></a>5.9 Annotation Constraints</h3>
  <p>All annotations (see <a href="#Annotation_details">Annotation Details (&sect;3.12)</a>) must satisfy the following constraint.</p>
  <div class="constraintnote">
<a name="an-props-correct"></a><b>Constraint on Schemas:  Annotation Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The values of the properties of an annotation must be as described in
the property tableau in
<a href="#Annotation_details">Annotation Details (&sect;3.12)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     The value of the <code>xml:lang</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>, if present for
any <a href="#element-documentation">documentation</a> element information items in <a href="#user_information">{user information}</a>, must conform to the requirements set out in <a class="xtermref" href="http://www.w3.org/TR/REC-xml#sec-lang-tag">Language Identification (&sect; 2.12)</a> in <a href="#ref-xml">[XML]</a>.
    </td>
</tr>
   </table>
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-particle"></a>5.10 Particle Constraints</h3>
  <p>All particles (see <a href="#Particle_details">Particle Details (&sect;3.8)</a>) must satisfy the following constraints.</p>
  <div class="constraintnote">
<a name="p-props-correct"></a><b>Constraint on Schemas:  Particle Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
   The values of the properties of a particle must be as described in
the property tableau in
<a href="#Particle_details">Particle Details (&sect;3.8)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     If <a href="#p-max_occurs">{max occurs}</a> is not <i>unbounded</i>, that is, it has a
numeric value, then
    <table class="constraintlist">
     <tr>
<td class="clnumber">2.1 </td><td>
     <a href="#p-min_occurs">{min occurs}</a> must not be greater than <a href="#p-max_occurs">{max occurs}</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">2.2 </td><td>
     <a href="#p-max_occurs">{max occurs}</a> must greater than or equal to 1;
    </td>
</tr>
    </table>
   
    </td>
</tr>
   </table>
  </div>
</div>
  <p>The following constraints define relations appealed to elsewhere in this specification.</p>
  <div class="constraintnote">
<a name="cos-particle-extend"></a><b>Constraint on Schemas:  Particle Valid (Extension)</b>
<br>
<div class="constraint">
   
   <span class="termdef"><a name="cd-model-extension">[Definition:]&nbsp;&nbsp;</a>A particle
(call it <b>E</b>, for extension) is a <b>valid extension</b> of
another particle (call it <b>B</b>, for base) if</span> either
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      They are the same particle
     </td>
</tr>
    </table>
    or
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.2 </td><td>
      <b>E</b>'s <a href="#p-min_occurs">{min occurs}</a>=<a href="#p-max_occurs">{max occurs}</a><code>=1</code> and its <a href="#term">{term}</a> is a <i>sequence</i> group whose <a href="#particles">{particles}</a>' first member is a particle all of whose properties, recursively, are identical to those of <b>B</b>, with the exception of <b>{annotation}</b> properties.
     </td>
</tr>
    </table>
   
  </div>
</div>
  <div class="constraintnote">
<a name="cos-particle-restrict"></a><b>Constraint on Schemas:  Particle Valid (Restriction)</b>
<br>
<div class="constraint">
   
   <span class="termdef"><a name="cd-model-restriction">[Definition:]&nbsp;&nbsp;</a>A particle
(call it <b>R</b>, for restriction) is a <b>valid restriction</b> of
another particle (call it <b>B</b>, for base) if</span> either
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      They are the same particle
     </td>
</tr>
    </table>
    or
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.2 </td><td>
      depending on the kind of particle, per the table below, with the
qualification that any global element declaration particle (in <b>R</b> or
<b>B</b>) which is the
<a href="#class_exemplar">{equivalence class affiliation}</a> of one or more other element declarations is
treated as if it were a <i>choice</i> group whose <a href="#p-min_occurs">{min occurs}</a> and <a href="#p-max_occurs">{max occurs}</a> are those of the particle, and whose <a href="#particles">{particles}</a> consists of
one particle with <a href="#p-min_occurs">{min occurs}</a> and <a href="#p-max_occurs">{max occurs}</a> of <code>1</code> for the global element declaration and for each of the declarations in its <a href="#key-eq">equivalence class</a>.
      <table class="restricts" border="2">
<thead>
<tr>
<th></th><th><strong>Base Particle</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Der- ived Part- icle</strong></td><td>
<table border="1">
<thead>
<tr>
<th></th><th>elt</th><th>any</th><th>all</th><th>choice</th><th>sequence</th>
</tr>
</thead>
<tbody>
<tr>
<th>elt</th><td><a href="#rcase-NameAndTypeOK">NameAndTypeOK</a></td><td><a href="#rcase-NSCompat">NSCompat</a></td><td><a href="#rcase-RecurseAsIfGroup">RecurseAsIfGroup</a></td><td><a href="#rcase-RecurseAsIfGroup">RecurseAsIfGroup</a></td><td><a href="#rcase-RecurseAsIfGroup">RecurseAsIfGroup</a></td>
</tr>
<tr>
<th>any</th><td>Forbidden</td><td><a href="#rcase-NSSubset">NSSubset</a></td><td>Forbidden</td><td>Forbidden</td><td>Forbidden</td>
</tr>
<tr>
<th>all</th><td>Forbidden</td><td><a href="#rcase-NSRecurseCheckCardinality">NSRecurseCheckCardinality</a></td><td><a href="#rcase-Recurse">Recurse</a></td><td>Forbidden</td><td>Forbidden</td>
</tr>
<tr>
<th>choice</th><td>Forbidden</td><td><a href="#rcase-NSRecurseCheckCardinality">NSRecurseCheckCardinality</a></td><td>Forbidden</td><td><a href="#rcase-RecurseLax">RecurseLax</a></td><td>Forbidden</td>
</tr>
<tr>
<th>sequence</th><td>Forbidden</td><td><a href="#rcase-NSRecurseCheckCardinality">NSRecurseCheckCardinality</a></td><td><a href="#rcase-RecurseUnordered">RecurseUnordered</a></td><td><a href="#rcase-MapAndSum">MapAndSum</a></td><td><a href="#rcase-Recurse">Recurse</a></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
     </td>
</tr>
    </table>
   
  </div>
</div>
  <div class="constraintnote">
<a name="range-ok"></a><b>Constraint on Schemas:  Occurrence Range OK</b>
<br>
<div class="constraint">
   
   A particle's occurrence range is a valid restriction of another's
occurrence range if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      Its <a href="#p-min_occurs">{min occurs}</a> is greater than or equal to the
other's <a href="#p-min_occurs">{min occurs}</a>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      Either
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.1 </td><td>
         The other's <a href="#p-max_occurs">{max occurs}</a> is <i>unbounded</i>
        </td>
</tr>
       </table>
       or
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.2 </td><td>
         both <a href="#p-max_occurs">{max occurs}</a> are numbers, and the particle's is less than or equal to the
other's.
        </td>
</tr>
       </table>
      
     </td>
</tr>
    </table>
   
  </div>
</div>
  <div class="constraintnote">
<a name="rcase-NameAndTypeOK"></a><b>Constraint on Schemas:  Particle Restriction OK (Elt:Elt -- NameAndTypeOK)</b>
<br>
<div class="constraint">
   
   An element declaration particle is a <a href="#cd-model-restriction">valid restriction</a> of another element declaration particle if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      The declarations' <a href="#e-name">{name}</a>s, <a href="#e-target_namespace">{target namespace}</a>s and <a href="#nullable">{nullable}</a> are the same;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&sect;5.10)</a>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.3 </td><td>
      either <b>B</b>'s declaration's <a href="#e-value_constraint">{value constraint}</a>
absent, or is
not <i>fixed</i>, or <b>R</b>'s declaration's <a href="#e-value_constraint">{value constraint}</a> is
<i>fixed</i> with the same string;
     </td>
</tr>
     <tr>
<td class="clnumber">1.4 </td><td>
      <b>R</b>'s declaration's <a href="#identity-constraint_definitions">{identity-constraint definitions}</a> is
a subset of <b>B</b>'s declaration's <a href="#identity-constraint_definitions">{identity-constraint definitions}</a>,
if any.
     </td>
</tr>
     <tr>
<td class="clnumber">1.5 </td><td>
      <b>R</b>'s declaration's <a href="#e-exact">{disallowed substitutions}</a> is
a superset of <b>B</b>'s declaration's <a href="#e-exact">{disallowed substitutions}</a>.
     </td>
</tr>
     <tr>
<td class="clnumber">1.6 </td><td>
      <b>R</b>'s <a href="#type_definition">{type definition}</a> is validly derived given
{<i>list</i>, <i>extension</i>} from <b>B</b>'s <a href="#type_definition">{type definition}</a> as defined by
<a href="#cos-ct-derived-ok">Type Derivation OK (Complex) (&sect;5.11)</a> or <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&sect;5.12)</a>, as appropriate.
     </td>
</tr>
    </table>
   
   <blockquote>
<b>NOTE: </b>
    The above constraint on <a href="#type_definition">{type definition}</a> means that in
deriving a type by refinement, any contained type definitions must themselves be
explicitly derived by refinement from the corresponding type definitions in the
base definition.
   </blockquote>
  </div>
</div>
  <div class="constraintnote">
<a name="rcase-NSCompat"></a><b>Constraint on Schemas:  Particle Derivation OK (Elt:Any -- NSCompat)</b>
<br>
<div class="constraint">
   
   An element declaration particle is a <a href="#cd-model-restriction">valid restriction</a> of a wildcard particle if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      The element declaration's <a href="#e-target_namespace">{target namespace}</a> is
schema-valid with respect to the wildcard's <a href="#namespace_constraint">{namespace constraint}</a> as
defined by <a href="#cvc-wildcard-namespace">Wildcard allows Namespace URI (&sect;3.9)</a>
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&sect;5.10)</a>;
     </td>
</tr>
    </table>
   
  </div>
</div>
  <div class="constraintnote">
<a name="rcase-RecurseAsIfGroup"></a><b>Constraint on Schemas:  Particle Derivation OK (Elt:All/Choice/Sequence -- RecurseAsIfGroup)</b>
<br>
<div class="constraint">
   
   An element declaration particle is a <a href="#cd-model-restriction">valid restriction</a> of a group particle (<i>all</i>, <i>choice</i> or <i>sequence</i>) if
a group particle of the variety corresponding to <b>B</b>'s, with
<a href="#p-min_occurs">{min occurs}</a> and <a href="#p-max_occurs">{max occurs}</a> of <code>1</code> and with <a href="#particles">{particles}</a> consisting of a single particle
the same as the element declaration is a <a href="#cd-model-restriction">valid restriction</a> of the group as defined by <a href="#rcase-Recurse">Particle Derivation OK (All:All,Sequence:Sequence -- Recurse) (&sect;5.10)</a>, <a href="#rcase-RecurseLax">Particle Derivation OK (Choice:Choice -- RecurseLax) (&sect;5.10)</a> or <a href="#rcase-Recurse">Particle Derivation OK (All:All,Sequence:Sequence -- Recurse) (&sect;5.10)</a>, depending on whether the group is <i>all</i>, <i>choice</i> or <i>sequence</i>.
  </div>
</div>
  <div class="constraintnote">
<a name="rcase-NSSubset"></a><b>Constraint on Schemas:  Particle Derivation OK (Any:Any -- NSSubset)</b>
<br>
<div class="constraint">
   
   A wildcard particle is a <a href="#cd-model-restriction">valid restriction</a> of another wildcard particle if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&sect;5.10)</a>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      <b>R</b>'s <a href="#namespace_constraint">{namespace constraint}</a> is an intensional
subset of <b>B</b>'s <a href="#namespace_constraint">{namespace constraint}</a> as defined by <a href="#cos-ns-subset">Wildcard Subset (&sect;5.5)</a>.
     </td>
</tr>
    </table>
   
  </div>
</div>
  <div class="constraintnote">
<a name="rcase-NSRecurseCheckCardinality"></a><b>Constraint on Schemas:  Particle Derivation OK (All/Choice/Sequence:Any -- NSRecurseCheckCardinality)</b>
<br>
<div class="constraint">
   
   A group particle is a <a href="#cd-model-restriction">valid restriction</a> of a wildcard particle if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      Every member of the <a href="#particles">{particles}</a> of the group is a
<a href="#cd-model-restriction">valid restriction</a> of the wildcard
as defined by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&sect;5.10)</a>
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      The effective total range of the group, as defined by <a href="#cos-seq-range">Effective Total Range (all and sequence) (&sect;5.7)</a> (if
the group is <i>all</i> or <i>sequence</i>) or 
<a href="#cos-choice-range">Effective Total Range (choice) (&sect;5.7)</a> (if it is <i>choice</i>) is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&sect;5.10)</a>.
     </td>
</tr>
    </table>
   
  </div>
</div>
  <div class="constraintnote">
<a name="rcase-Recurse"></a><b>Constraint on Schemas:  Particle Derivation OK (All:All,Sequence:Sequence -- Recurse)</b>
<br>
<div class="constraint">
   
   An <i>all</i> or <i>sequence</i> group particle is a <a href="#cd-model-restriction">valid restriction</a> of another group particle with the same <a href="#compositor">{compositor}</a> if 
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&sect;5.10)</a>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      there is a complete <a href="#key-op">order-preserving</a> functional mapping from the particles in the
<a href="#particles">{particles}</a> of <b>R</b> to the particles in the <a href="#particles">{particles}</a> of <b>B</b> such that
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.1 </td><td>
         Each particle in the <a href="#particles">{particles}</a> of <b>R</b> is a
<a href="#cd-model-restriction">valid restriction</a> of the
particle in the <a href="#particles">{particles}</a> of <b>B</b> it maps to as defined
by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&sect;5.10)</a>;
        </td>
</tr>
        <tr>
<td class="clnumber">1.2.2 </td><td>
         All particles in the <a href="#particles">{particles}</a> of <b>B</b> which
are not mapped to by any particle in the <a href="#particles">{particles}</a> of <b>R</b>
are <a href="#cd-emptiable">emptiable</a> as defined by <a href="#cos-group-emptiable">Particle Emptiable (&sect;5.10)</a>.
        </td>
</tr>
       </table>
     </td>
</tr>
    </table>
   
   <blockquote>
<b>NOTE: </b>
    Although the validation semantics of an <i>all</i> group does not
depend on the order of its particles, we require derived <i>all</i> groups to
match the order of their base to simplify checking that the derivation is OK.
   </blockquote>
   <span class="termdef"><a name="key-op">[Definition:]&nbsp;&nbsp;</a>A complete functional mapping is
<b>order-preserving</b> if each particle <b>r</b> in the domain <b>R</b> maps to a
particle <b>b</b> in the range <b>B</b> which follows (not necessarily
immediately) the particle in the range
<b>B</b> mapped to by the predecessor of <b>r</b>, if any, where
"predecessor" and "follows" are defined with respect
to the order of the lists which constitute <b>R</b> and <b>B</b>.</span>
  </div>
</div>
  <div class="constraintnote">
<a name="rcase-RecurseLax"></a><b>Constraint on Schemas:  Particle Derivation OK (Choice:Choice -- RecurseLax)</b>
<br>
<div class="constraint">
   
   A <i>choice</i> group particle is a <a href="#cd-model-restriction">valid restriction</a> of another <i>choice</i> group particle if 
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&sect;5.10)</a>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      There is a complete <a href="#key-op">order-preserving</a> functional mapping from the particles in the
<a href="#particles">{particles}</a> of <b>R</b> to the particles in the <a href="#particles">{particles}</a> of <b>B</b> such that each particle in the <a href="#particles">{particles}</a> of <b>R</b> is a
<a href="#cd-model-restriction">valid restriction</a> of the
particle in the <a href="#particles">{particles}</a> of <b>B</b> it maps to as defined
by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&sect;5.10)</a>.
     </td>
</tr>
    </table>
    
   <blockquote>
<b>NOTE: </b>
    Although the validation semantics of a <i>choice</i> group does not
depend on the order of its particles, we require derived <i>choice</i> groups to
match the order of their base to simplify checking that the derivation is OK.
   </blockquote>
  </div>
</div>
  <div class="constraintnote">
<a name="rcase-RecurseUnordered"></a><b>Constraint on Schemas:  Particle Derivation OK (Sequence:All -- RecurseUnordered)</b>
<br>
<div class="constraint">
   
   A <i>sequence</i> group particle is a <a href="#cd-model-restriction">valid restriction</a> of an <i>all</i> group particle if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      <b>R</b>'s occurrence range is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&sect;5.10)</a>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      there is a complete functional mapping from the particles in the
<a href="#particles">{particles}</a> of <b>R</b> to the particles in the <a href="#particles">{particles}</a> of <b>B</b> such that
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.1 </td><td>
         No particle in the <a href="#particles">{particles}</a> of <b>B</b> is mapped
to by more than one of the particles in the
<a href="#particles">{particles}</a> of <b>R</b>;
        </td>
</tr>
        <tr>
<td class="clnumber">1.2.2 </td><td>
         Each particle in the <a href="#particles">{particles}</a> of <b>R</b> is a
<a href="#cd-model-restriction">valid restriction</a> of the
particle in the <a href="#particles">{particles}</a> of <b>B</b> it maps to as defined
by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&sect;5.10)</a>;
        </td>
</tr>
        <tr>
<td class="clnumber">1.2.3 </td><td>
         All particles in the <a href="#particles">{particles}</a> of <b>B</b> which
are not mapped to by any particle in the <a href="#particles">{particles}</a> of <b>R</b>
are <a href="#cd-emptiable">emptiable</a> as defined by <a href="#cos-group-emptiable">Particle Emptiable (&sect;5.10)</a>.
        </td>
</tr>
       </table>
     </td>
</tr>
    </table>
   
   <blockquote>
<b>NOTE: </b>
    Although this clause allows reordering, because of the limits on the
contents of <i>all</i> groups the checking process can still be deterministic.
   </blockquote>
  </div>
</div>
  <div class="constraintnote">
<a name="rcase-MapAndSum"></a><b>Constraint on Schemas:  Particle Derivation OK (Sequence:Choice -- MapAndSum)</b>
<br>
<div class="constraint">
   
   A <i>sequence</i> group particle is a <a href="#cd-model-restriction">valid restriction</a> of a <i>choice</i> group particle if
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      there is a complete functional mapping from the particles in the
<a href="#particles">{particles}</a> of <b>R</b> to the particles in the <a href="#particles">{particles}</a> of <b>B</b> such that each particle in the <a href="#particles">{particles}</a> of <b>R</b> is a
<a href="#cd-model-restriction">valid restriction</a> of the
particle in the <a href="#particles">{particles}</a> of <b>B</b> it maps to as defined
by <a href="#cos-particle-restrict">Particle Valid (Restriction) (&sect;5.10)</a>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      The pair consisting of the product of the <a href="#p-min_occurs">{min occurs}</a> of <b>R</b> and the length of its <a href="#particles">{particles}</a> and <i>unbounded</i> if <a href="#p-max_occurs">{max occurs}</a> is <i>unbounded</i> otherwise the product of the <a href="#p-max_occurs">{max occurs}</a> of <b>R</b> and the length of its <a href="#particles">{particles}</a> is a valid
restriction of <b>B</b>'s occurrence range as defined by <a href="#range-ok">Occurrence Range OK (&sect;5.10)</a>.
      <blockquote>
<b>NOTE: </b>
       This clause is in principle more restrictive than absolutely
necessary, but in practice will cover all the likely cases, and is much easier
to specify than the fully general version.
      </blockquote>
     </td>
</tr>
    </table>
   
   <blockquote>
<b>NOTE: </b>
    This case allows the "unfolding" of iterated disjunctions
into sequences.  It may be particularly useful when the disjunction is an
implicit one arising from the use of equivalence classes.
   </blockquote>
  </div>
</div>
 <div class="constraintnote">
<a name="cos-group-emptiable"></a><b>Constraint on Schemas:  Particle Emptiable</b>
<br>
<div class="constraint">
  
  <span class="termdef"><a name="cd-emptiable">[Definition:]&nbsp;&nbsp;</a>A particle is
<b>emptiable</b> if</span> either
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     its <a href="#p-min_occurs">{min occurs}</a> is <code>0</code>
    </td>
</tr>
   </table>
   or
   <table class="constraintlist">
    <tr>
<td class="clnumber">1.2 </td><td>
     its <a href="#term">{term}</a> is a group and the minimum part of the
effective total range of that group, as defined by <a href="#cos-seq-range">Effective Total Range (all and sequence) (&sect;5.7)</a> (if
the group is <i>all</i> or <i>sequence</i>) or 
<a href="#cos-choice-range">Effective Total Range (choice) (&sect;5.7)</a> (if it is <i>choice</i>), is <code>0</code>.
    </td>
</tr>
   </table>
  
 </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-ct"></a>5.11 Complex Type Definition Constraints</h3>
  <p>All complex type definitions (see <a href="#Complex_Type_Definition_details">Complex Type Definition Details (&sect;3.4)</a>) must satisfy the following constraints.</p>
  <div class="constraintnote">
<a name="ct-props-correct"></a><b>Constraint on Schemas:  Complex Type Definition Properties Correct</b>
<br>
<div class="constraint">
   
   All complex type definitions (see <a href="#Complex_Type_Definition_details">Complex Type Definition Details (&sect;3.4)</a>) must satisfy the following constraints:
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The values of the properties of a complex type definition must be as described in
the property tableau in
<a href="#Complex_Type_Definition_details">Complex Type Definition Details (&sect;3.4)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     If the <a href="#ct-base_type_definition">{base type definition}</a> is a simple type
definition, the <a href="#derivation_method">{derivation method}</a> must be <i>extension</i>;
    </td>
</tr>
    <tr>
<td class="clnumber">3 </td><td>
     No two attribute declarations in the <a href="#ct-attribute_declarations">{attribute declarations}</a> may have identical <a href="#a-name">{name}</a>s and <a href="#a-target_namespace">{target namespace}</a>s.
    </td>
</tr>
   </table>
  </div>
</div>
  <div class="constraintnote">
<a name="cos-ct-extends"></a><b>Constraint on Schemas:  Derivation Valid (Extension)</b>
<br>
<div class="constraint">
     
     If the <a href="#derivation_method">{derivation method}</a> is <i>extension</i>:
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1 </td><td>
        If the <a href="#ct-base_type_definition">{base type definition}</a> is a complex type
definition:
         <table class="constraintlist">
          <tr>
<td class="clnumber">1.1.1 </td><td>
           The <a href="#ct-final">{final}</a> of the <a href="#ct-base_type_definition">{base type definition}</a> must not contain <i>extension</i>
          </td>
</tr>
          <tr>
<td class="clnumber">1.1.2 </td><td>
           Its <a href="#ct-attribute_declarations">{attribute declarations}</a> must be a subset
of the <a href="#ct-attribute_declarations">{attribute declarations}</a> of the complex type
definition itself, that is, for every attribute declaration in the
<a href="#ct-attribute_declarations">{attribute declarations}</a> of the
<a href="#ct-base_type_definition">{base type definition}</a>, there must be an attribute
declaration in the <a href="#ct-attribute_declarations">{attribute declarations}</a> of the complex
type definition itself with the same <a href="#a-name">{name}</a>,
<a href="#a-target_namespace">{target namespace}</a> and
<a href="#a-simple_type_definition">{simple type definition}</a>;
          </td>
</tr>
          <tr>
<td class="clnumber">1.1.3 </td><td>
           If it has an <a href="#ct-attribute_wildcard">{attribute wildcard}</a>, the complex
type definition must also have one, and the base type definition's <a href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a href="#namespace_constraint">{namespace constraint}</a> must be a subset of the complex type definition's <a href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a href="#namespace_constraint">{namespace constraint}</a>, as defined by <a href="#cos-ns-subset">Wildcard Subset (&sect;5.5)</a>;
          </td>
</tr>
          <tr>
<td class="clnumber">1.1.4 </td><td>
           The <a href="#content_type">{content type}</a> of the complex type itself
must not be a simple type definition;
          </td>
</tr>
          <tr>
<td class="clnumber">1.1.5 </td><td>
           Either the <a href="#content_type">{content type}</a> of the <a href="#ct-base_type_definition">{base type definition}</a> must be <i>empty</i>, or the <a href="#content_type">{content type}</a> of the complex type definition itself must specify a particle and
           <table class="constraintlist">
            <tr>
<td class="clnumber">1.1.5.1 </td><td>
             both <a href="#content_type">{content type}</a>s must be <i>mixed</i>
or both must be <i>element-only</i>;
            </td>
</tr>
            <tr>
<td class="clnumber">1.1.5.2 </td><td>
             the particle of the complex type definition must be a
<a href="#cd-model-extension">valid extension</a> of the <a href="#ct-base_type_definition">{base type definition}</a>'s particle, as defined in <a href="#cos-particle-extend">Particle Valid (Extension) (&sect;5.10)</a>.
            </td>
</tr>
           </table>
          </td>
</tr>
          <tr>
<td class="clnumber">1.1.6 </td><td>
           It must in principle be possible to derive the complex type
definition in two steps, the first an extension and the
second a restriction (possibly vacuous), from that type definition among its
ancestors whose <a href="#ct-base_type_definition">{base type definition}</a> is the <a href="#key-urType">ur-type</a>.
           <blockquote>
<b>NOTE: </b>
            This requirement ensures that nothing removed by a restriction
is subsequently added back by an extension.  It is trivially to check if the
extension in question is the only extension in its derivation, or if there are
no restrictions bar the first from the <a href="#key-urType">ur-type</a>.<p>
</p>
            Constructing the intermediate type definition to check this
constraint is straightforward:  simply re-order the derivation to put all the
extension steps first, then collapse them into a single extension.  If the
resulting definition can be the basis for a valid restriction to the desired
definition, the constraint is satisfied.
           </blockquote>
          </td>
</tr>
          </table>
        
       </td>
</tr>
       <tr>
<td class="clnumber">1.2 </td><td>
        If the <a href="#ct-base_type_definition">{base type definition}</a> is a simple type
definition, the <a href="#content_type">{content type}</a> must be the same simple type
definition.
       </td>
</tr>
      </table>
      <span class="termdef"><a name="cd-ct-extension">[Definition:]&nbsp;&nbsp;</a>If this
constraint holds of a complex type definition, we say it is a <b>valid
extension</b> of its <a href="#ct-base_type_definition">{base type definition}</a>.</span>
     
    </div>
</div>
    <div class="constraintnote">
<a name="derivation-ok-restriction"></a><b>Constraint on Schemas:  Derivation Valid (Restriction, Complex)</b>
<br>
<div class="constraint">
    
    If the <a href="#derivation_method">{derivation method}</a> is <i>restriction</i>:
     <table class="constraintlist">
      <tr>
<td class="clnumber">1.1 </td><td>
       The <a href="#ct-base_type_definition">{base type definition}</a> must be a complex type
definition whose <a href="#ct-final">{final}</a> does not contain <i>restriction</i>;
      </td>
</tr>
      <tr>
<td class="clnumber">1.2 </td><td>
       For each attribute declaration in the <a href="#ct-attribute_declarations">{attribute declarations}</a>:
        <table class="constraintlist">
         <tr>
<td class="clnumber">1.2.1 </td><td>
           there must be an attribute declaration with the same <a href="#a-name">{name}</a> and <a href="#a-target_namespace">{target namespace}</a> in the
<a href="#ct-attribute_declarations">{attribute declarations}</a> of the <a href="#ct-base_type_definition">{base type definition}</a> from whose <a href="#a-simple_type_definition">{simple type definition}</a> the attribute in question's <a href="#a-simple_type_definition">{simple type definition}</a> must be validly derived given {<i>list</i>} as defined in
<a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&sect;5.12)</a>;
         </td>
</tr>
        </table>
        or
        <table class="constraintlist">
         <tr>
<td class="clnumber">1.2.2 </td><td>
          the <a href="#ct-base_type_definition">{base type definition}</a> must have an <a href="#ct-attribute_wildcard">{attribute wildcard}</a> and the <a href="#a-target_namespace">{target namespace}</a> of the attribute in question must be schema-valid with respect to that wildcard, as defined in <a href="#cvc-wildcard-namespace">Wildcard allows Namespace URI (&sect;3.9)</a>.
         </td>
</tr>
        </table>
       
      </td>
</tr>
      <tr>
<td class="clnumber">1.3 </td><td>
       For each attribute declaration in the <a href="#ct-attribute_declarations">{attribute declarations}</a> of the <a href="#ct-base_type_definition">{base type definition}</a> whose <a href="#a-min_occurs">{min occurs}</a> is <code>1</code>, there must be an attribute declaration with the same <a href="#a-name">{name}</a> and <a href="#a-target_namespace">{target namespace}</a> in the
<a href="#ct-attribute_declarations">{attribute declarations}</a> of the complex type definition itself;
      </td>
</tr>
      <tr>
<td class="clnumber">1.4 </td><td>
           If there is an <a href="#ct-attribute_wildcard">{attribute wildcard}</a>, the
<a href="#ct-base_type_definition">{base type definition}</a> must also have one, and the complex
type definition's <a href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a href="#namespace_constraint">{namespace constraint}</a> must be a subset of the <a href="#ct-base_type_definition">{base type definition}</a>'s <a href="#ct-attribute_wildcard">{attribute wildcard}</a>'s <a href="#namespace_constraint">{namespace constraint}</a>, as defined by <a href="#cos-ns-subset">Wildcard Subset (&sect;5.5)</a>;
          </td>
</tr>
      <tr>
<td class="clnumber">1.5 </td><td>
       Either
        <table class="constraintlist">
         <tr>
<td class="clnumber">1.5 </td><td>
          the <a href="#content_type">{content type}</a> of the complex type definition
is a simple type definition and either
           <table class="constraintlist">
            <tr>
<td class="clnumber">1.5.1 </td><td>
             the <a href="#content_type">{content type}</a> of the <a href="#ct-base_type_definition">{base type definition}</a> is a simple type
definition of which the <a href="#content_type">{content type}</a> is a <a href="#cd-st-restriction">valid restriction</a> as defined in
<a href="#cos-st-restricts">Derivation Valid (Restriction, Simple) (&sect;5.12)</a>
            </td>
</tr>
           </table>
           or
           <table class="constraintlist">
            <tr>
<td class="clnumber">1.5.2 </td><td>
             The <a href="#ct-base_type_definition">{base type definition}</a> is <i>mixed</i>
and has a particle which is <a href="#cd-emptiable">emptiable</a> as defined in <a href="#cos-group-emptiable">Particle Emptiable (&sect;5.10)</a>.
            </td>
</tr>
           </table>
          
         </td>
</tr>
        </table>
        or
        <ul>
         <li>
          The <a href="#content_type">{content type}</a> of the complex type itself
is <i>empty</i> and either 
           <table class="constraintlist">
            <tr>
<td class="clnumber">1.5.1 </td><td>
             the <a href="#content_type">{content type}</a> of the <a href="#ct-base_type_definition">{base type definition}</a> is also <i>empty</i>
            </td>
</tr>
           </table>
           or
           <table class="constraintlist">
            <tr>
<td class="clnumber">1.5.2 </td><td>
             the <a href="#content_type">{content type}</a> of the <a href="#ct-base_type_definition">{base type definition}</a> is <i>elementOnly</i> or <i>mixed</i> and has a particle which is <a href="#cd-emptiable">emptiable</a> as defined in <a href="#cos-group-emptiable">Particle Emptiable (&sect;5.10)</a>.
            </td>
</tr>
           </table>
          
          <blockquote>
<b>NOTE: </b>
           To restrict a complex type definition with a simple base type
definition to <i>empty</i>, use a simple type definition with a
<i>fixed</i> value of the empty string:  this preserves the type information.
          </blockquote>
         </li>
        </ul>
        or
        <ul>
         <li>
          The <a href="#content_type">{content type}</a> of the <a href="#ct-base_type_definition">{base type definition}</a> is <i>mixed</i> or the <a href="#content_type">{content type}</a> of the complex type definition itself is <i>element-only</i>; the particle of the complex type definition itself is a <a href="#cd-model-restriction">valid restriction</a> of the particle of the <a href="#content_type">{content type}</a> of the <a href="#ct-base_type_definition">{base type definition}</a> as defined in <a href="#cos-particle-restrict">Particle Valid (Restriction) (&sect;5.10)</a>.
         </li>
        </ul>
        
      </td>
</tr>

</table> <span class="termdef"><a name="cd-ct-restriction">[Definition:]&nbsp;&nbsp;</a>If this
constraint holds of a complex type definition, we say it is a <b>valid
restriction</b> of its <a href="#ct-base_type_definition">{base type definition}</a>.</span>
  
  </div>
</div>
    <p>The following constraint defines a relation appealed to elsewhere in this specification.</p>
  <div class="constraintnote">
<a name="cos-ct-derived-ok"></a><b>Constraint on Schemas:  Type Derivation OK (Complex)</b>
<br>
<div class="constraint">
   
   A complex type definition (call it <b>D</b>, for derived) is validly
derived from a type definition (call this <b>B</b>, for base) given
a subset of {<i>extension</i>, <i>restriction</i>} if:
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      The <a href="#derivation_method">{derivation method}</a> of <b>D</b> is not in the
subset, or in the <a href="#ct-final">{final}</a> of its <a href="#ct-base_type_definition">{base type definition}</a>;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      Either
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.1 </td><td>
      They are the same type definition;
     </td>
</tr>
       </table>
       or
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.2 </td><td>
         <b>B</b> is the <a href="#ct-base_type_definition">{base type definition}</a>
        </td>
</tr>
       </table>
       or
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.3 </td><td>
         the <a href="#ct-base_type_definition">{base type definition}</a> is not the
<a href="#key-urType">ur-type definition</a> and is validly derived
from <b>B</b> given the subset as defined by this constraint (if the <a href="#ct-base_type_definition">{base type definition}</a> is complex) or validly derived from <b>B</b> given the subset unioned with {<i>list</i>} as defined in <a href="#cos-st-derived-ok">Type Derivation OK (Simple) (&sect;5.12)</a> (if the <a href="#ct-base_type_definition">{base type definition}</a> is simple).
        </td>
</tr>
       </table>
      
     </td>
</tr>
    </table>
   
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-st"></a>5.12 Simple Type Definition Constraints</h3>
  <p>All simple type definitions (see <a href="#Simple_Type_Definition_details">(non-normative) Simple Type Definition Details (&sect;3.13)</a>) must satisfy the following constraints.</p>
  <div class="constraintnote">
<a name="st-props-correct"></a><b>Constraint on Schemas:  Simple Type Definition Properties Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber"> </td><td>
     The values of the properties of a simple type definition must be as described in
the property tableau in
<a href="#Simple_Type_Definition_details">(non-normative) Simple Type Definition Details (&sect;3.13)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>;
    </td>
</tr>
   </table>
  </div>
</div>
  <div class="constraintnote">
<a name="cos-st-restricts"></a><b>Constraint on Schemas:  Derivation Valid (Restriction, Simple)</b>
<br>
<div class="constraint">

   If the <a href="#derivation_method">{derivation method}</a> is <i>restriction</i>:
     <table class="constraintlist">
      <tr>
<td class="clnumber">1.1 </td><td>
       The <a href="#st-base_type_definition">{base type definition}</a> must be a simple type
definition;
      </td>
</tr>
      <tr>
<td class="clnumber">1.2 </td><td>
       For each facet in the <a href="#facets">{facets}</a>:
        <table class="constraintlist">
         <tr>
<td class="clnumber">1.2 </td><td>
           there must be a facet of the same kind in the
<a href="#facets">{facets}</a> of the <a href="#st-base_type_definition">{base type definition}</a> of
whose <b>{value}</b> the facet in question's <b>{value}</b> must be a valid restriction as
defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>;
         </td>
</tr>
        </table>
       
      </td>
</tr>
</table> <span class="termdef"><a name="cd-st-restriction">[Definition:]&nbsp;&nbsp;</a>If this
constraint holds of a simple type definition, we say it is a <b>valid
restriction</b> of its <a href="#st-base_type_definition">{base type definition}</a>.</span>
  
</div>
</div>
    <p>The following constraints define relations appealed to elsewhere in this specification.</p>
    <div class="constraintnote">
<a name="cos-st-derived-ok"></a><b>Constraint on Schemas:  Type Derivation OK (Simple)</b>
<br>
<div class="constraint">
   
   A simple type definition (call it <b>D</b>, for derived) is validly
derived from a simple type definition (call this <b>B</b>, for base) given a
subset of {<i>list</i>, <i>extension</i>, <i>restriction</i>} (of which
only <i>list</i> is actually relevant) if:
    <table class="constraintlist">
     <tr>
<td class="clnumber">1.1 </td><td>
      The <a href="#variety">{variety}</a> of <b>D</b> is not in the
subset;
     </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      <table class="constraintlist">
     <tr>
<td class="clnumber">1.2.1 </td><td>
      They are the same type definition
     </td>
</tr>
    </table>
    or
    <table class="constraintlist">     
     <tr>
<td class="clnumber">1.2.2 </td><td>
      <b>B</b> is the <a href="#st-base_type_definition">{base type definition}</a>
     </td>
</tr>
    </table>
    or
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.3 </td><td>
         the <a href="#st-base_type_definition">{base type definition}</a> is not the
<a href="#key-urType">ur-type definition</a> and is validly derived
from <b>B</b> given the subset, as defined by this constraint.
        </td>
</tr>
       </table>
     </td>
</tr>
    </table>
   
  </div>
</div>
 </div>
 <div class="div2">
  <h3>
<a name="coss-schema"></a>5.13 Schema Constraints</h3>
  <p>All schemas (see <a href="#Schema_details">Schema details (&sect;3.1)</a>) must satisfy the following constraint.</p>
  <div class="constraintnote">
<a name="sch-props-correct"></a><b>Constraint on Schemas:  Schema Properties Correct</b>
<br>
<div class="constraint">
   
   <table class="constraintlist">
    <tr>
<td class="clnumber">1 </td><td>
     The values of the properties of a schema must be as described in
the property tableau in
<a href="#Schema_details">Schema details (&sect;3.1)</a>, modulo the impact of <a href="#conformance-missing">Missing Sub-components (&sect;7.3)</a>;
    </td>
</tr>
    <tr>
<td class="clnumber">2 </td><td>
     Each of the <a href="#type_definitions">{type definitions}</a>,  <a href="#element_declarations">{element declarations}</a>, <a href="#attribute_group_definitions">{attribute group definitions}</a>, <a href="#model_group_definitions">{model group definitions}</a> and <a href="#notation_declarations">{notation declarations}</a> must not contain two or more schema components with the same <b>{name}</b> and <b>{target
namespace}</b>.
    </td>
</tr>
   </table>
  </div>
</div>
 </div>
   </div>
   <div class="div1">
    <h2>
<a name="composition"></a>6 Schema Access and Composition</h2>
<p>This chapter defines the mechanisms by which we establish the necessary precondition for establishing schema-validity, namely access to one or more schemas. This chapter also describes in detail related mechanisms for using in
one schema, definitions and declarations from another. </p>
<p>
<a href="#concepts-conformance">Conformance (&sect;2.4)</a> describes three levels of conformance for schema
processors, and <a href="#conformance">Validation Processing of schemas and documents (&sect;7)</a> provides a formal definition of schema-validation. Here we set out
in detail the 3-layer architecture implied by the three conformance levels.
The layers
are: </p>
<ol>
  <li>The schema-validation core, relating schema components and instance
information items; </li>
  <li>Schema representation: the connections between XML
representations and schema components, including the
  relationships between namespaces and schema components; </li>
  <li>XML Schema web-interoperability guidelines: instance-&gt;schema and
  schema-&gt;schema connections for the WWW. </li>
</ol>
<p>Layer 1 specifies the manner in which a schema composed of schema components
can be applied to validate an instance element information item. Layer 2, which is
primarily defined in <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a>, specifies the use of <a href="#element-schema">schema</a>
elements in XML documents as the standard XML representation for
schema information in a broad range of computer systems and execution
environments. To support interoperation over the World Wide Web in particular,
layer 3 provides a set of conventions for schema reference on the
Web. Additional details on each of the three layers is provided in the sections below.</p>


<div class="div2">
<h3>
<a name="layer1"></a>6.1 Layer 1: Summary of the schema-validation core </h3>
<p>The fundamental purpose of the schema-validation core is to define schema-validatity for a single
element information item and its descendants with respect to a
complex type
definition. All processors are required to implement this core predicate in a
manner which conforms exactly to this specification. </p>
<p>Schema-validity is defined with reference to an <a href="#key-schema">XML Schema</a> (note <i>not</i> a
<a href="#key-schemaDoc">schema document</a>) which consists of (at a minimum) the set of schema
components (definitions and declarations) required for that
validation.  This is not a circular definition, but rather a
<i>post facto</i> observation:  no element information item can
be fully schema-valid unless all the components required by any aspect of
its (potentially recursive) validation are present in the schema.</p>
<p>As specified above, each schema component is associated directly or
indirectly with a target namespace, or explicitly with no namespace. In the case of multi-namespace documents,
components for more than one target namespace will co-exist in a schema.</p>
<p>Processors have the option to assemble (and perhaps to optimise or pre-compile) the entire schema prior to the start of a validation episode, or to
gather the schema lazily as individual components are required. In all
cases it is required that:</p>
<ul>
  <li>The processor succeed in locating the <a href="#key-component">schema component</a>s
  transitively required to complete a validation (note that components derived
from <a href="#key-schemaDoc">schema document</a>s can be integrated
with components obtained through other means);</li>
  <li>no definition or declaration changes once it has been established;</li>
  <li>if the processor chooses to acquire declarations and definitions
  dynamically, that there be no side effects of such dynamic acquisition that
  would cause the results of validation to differ from that which would have
  been obtained from the same schema components acquired in bulk.</li>
</ul>
<blockquote>
<b>NOTE: </b> the validation core is defined in terms of schema components at the
abstract level, and no mention is made of the schema definition
syntax (i.e. <a href="#element-schema">schema</a>). Although many processors will acquire
schemas in this format, others may operate on compiled representations, on a
programmatic representation as exposed in some programming language, etc.
</blockquote>
<p>The obligation of a schema-aware processor as far as the schema-validation
core is concerned is to implement the definitions of <a href="#schema-valid">schema-valid</a> given below in <a href="#validation_outcome">Schema Validation of Documents (&sect;7.2)</a>. Neither the
choice of element information item to be schema-validated, nor which of three
means of initiating validation are used, is within the scope of this specification.</p>
<p>Although assessing schema-validity is defined recursively, it is also intended to be
implementable in streaming
processors.  Such processors may choose to incrementally assemble the schema during
processing in response, for example, to encountering new namespaces. 
The implication of the
invariants expressed above is that such incremental assembly must result in a validation 
outcome that is the 
<i>same</i> as would
be given if schema-validity was re-assessed
with the final, fully assembled schema. </p>
</div>
<div class="div2">
<h3>
<a name="layer2"></a>6.2 Layer 2: Schema definitions in XML</h3>
<p>
<a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a> defines an
XML representation for type definitions and element declarations and so on,
specifying their target namespace and collecting them into schema documents.
The two following sections relate to assembling a complete schema for validation from multiple sources.  They should <i>not</i> be understood as a form of text substitution, but rather as providing mechanisms for distributed definition of schema components, with appropriate schema-specific semantics.</p>
<blockquote>
<b>NOTE: </b> The core validation architecture requires that a complete schema with
all the necessary declarations and definitions be
available. This may involve resolving both
instance-&gt;schema and schema-&gt;schema references. As observed earlier in <a href="#concepts-conformance">Conformance (&sect;2.4)</a>, 
we anticipate
that the precise mechanisms for resolving such references will evolve over time.
In support of such evolution, we have attempted to observe the design principle that references from
one schema document to another schema use mechanisms that directly parallel those used to
reference a schema from an instance document.</blockquote>
<blockquote>
<b>NOTE: </b>In the sections below, "schemaLocation" really belongs at layer 3. 
For convenience, we document it with the layer 2 mechanisms of import and
include, with which it is closely associated.</blockquote>
<div class="div3">
<h4>
<a name="compound-schema"></a>6.2.1 Assembling a schema for a single target namespace from multiple schema definition documents</h4>
 <p>Schema components for a single target namespace can be assembled from
several <a href="#key-schemaDoc">schema document</a>s, that is several <a href="#element-schema">schema</a> element
information items: </p>
 <blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>include</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-include">&lt;include</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;<b>schemaLocation</b> = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#uriReference">uriReference</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>?)<br>&lt;/include&gt;</p>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <p>A <a href="#element-schema">schema</a> information item may contain any number of <a href="#element-include">include</a> elements. Their <code>schemaLocation</code> attributes, consisting of a URI reference, identify other <a href="#key-schemaDoc">schema document</a>s, that is <a href="#element-schema">schema</a> information items. 
</p>
<p>The <a href="#key-schema">XML Schema</a> corresponding 
to <a href="#element-schema">schema</a> then
consists of all the components its <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a> correspond to <i>and</i>
all the components of all the <a href="#key-schema">XML Schema</a>s corresponding to those <a href="#element-include">include</a>d schema documents.
Such included components must either (a) have the same
<code>targetNamespace</code> as the <a href="#element-include">include</a>ing schema document, or 
(b) no <code>targetNamespace</code> at all, in which case all the top-level
<a href="#element-include">include</a>d components are converted to the <a href="#element-include">include</a>ing schema document's <code>targetNamespace</code>.</p>
 <div class="constraintnote">
<a name="src-include"></a><b>Schema Representation Constraint:  Inclusion Constraints and Semantics</b>
<br>
<div class="constraint">
 
 In addition to the conditions imposed on <a href="#element-include">include</a> element
information items by the DTD and schema for schemas, the following must also hold:
    <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     If the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>schemaLocation</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>
successfully resolves, it resolves either
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1.1 </td><td>
        to (a fragment of) a resource of type
<code>text/xml</code>, which in turn corresponds to a <a href="#element-schema">schema</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema
       </td>
</tr>
      </table>
      or
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1.2 </td><td>
        to a <a href="#element-schema">schema</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema.
       </td>
</tr>
      </table>
      In either case call the <a href="#element-schema">schema</a> item <b>SII</b> and the valid schema <b>I</b>.
    </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      The <code>targetNamespace</code> of <b>SII</b> is either 
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.1 </td><td>
         <a href="#key-null">absent</a>
        </td>
</tr>
       </table>
        or
       <table class="constraintlist">
        <tr>
<td class="clnumber">1.2.2 </td><td>
         identical to the <code>targetNamespace</code> of the <a href="#element-include">include</a>
item's parent <a href="#element-schema">schema</a>.
        </td>
</tr>
       </table>

     </td>
</tr>
   </table>
   <p>
</p>
 It is <i>not</i> an error for the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>schemaLocation</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> to fail to resolve it all, in which case no
corresponding inclusion is performed.  It
<i>is</i> an error for it to resolve but the rest of clause 1.1 above to
fail to obtain.  Failure to resolve may well cause less than complete
schema-validation outcomes, of course.<p>
</p>
 The <a href="#key-component">schema component</a>s (that is
<a href="#type_definitions">{type definitions}</a> <a href="#attribute_declarations">{attribute declarations}</a>, <a href="#element_declarations">{element declarations}</a>, <a href="#attribute_group_definitions">{attribute group definitions}</a>, <a href="#model_group_definitions">{model group definitions}</a>, <a href="#notation_declarations">{notation declarations}</a>) of a schema corresponding to a
<a href="#element-schema">schema</a> element information item with one or more <a href="#element-include">include</a> element information items must include not only definitions or declarations corresponding to the appropriate members of its <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, but also, for each of those <a href="#element-include">include</a> element information items for which clause 1.1 above obtains successfully, a set of components identical to all the <a href="#key-component">schema component</a>s of <b>I</b> (if clause 1.2.2 above obtains), or identical in all respects except their <b>{target namespace}</b>, which is that of the <a href="#element-include">include</a>ing <a href="#element-schema">schema</a> (if clause 1.2.1 above obtains).
</div>
</div>
 <blockquote>
<b>NOTE: </b>The above is carefully worded so that multiple <a href="#element-include">include</a>ing of the same schema document will not constitute a violation of
clause 2 of <a href="#sch-props-correct">Schema Properties Correct (&sect;5.13)</a>, but applications are
allowed, indeed encouraged, to avoid <a href="#element-include">include</a>ing the same schema document more than once to forestall the necessity of establishing identity
component by component.</blockquote>
</div>
<div class="div3">
<h4>
<a name="composition-schemaImport"></a>6.2.2 References to schema components across namespaces</h4>
<p>As described in <a href="#concepts-data-model">XML Schema Abstract Data Model (&sect;2.2)</a>, every global schema component is associated with
a target namespace (or, explicitly, with none).  In this section we set out
the exact mechanism and syntax in the XML form of
schema definition by which a reference to a foreign component is made, that is, a component with a different target namespace from that of the referring component.</p>
<p>We require not only a means
of addressing such foreign components but also a signal to schema-aware processors that a
schema document contains such references:</p>
 <blockquote class="reprdef">
<table border="1">
<thead>
<tr align="left">
<th><strong><font color="brown">XML Representation Summary</font></strong>:&nbsp;
               <code>import</code>&nbsp;Element Information Item</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p class="element-syntax">
<a name="element-import">&lt;import</a>
<br>&nbsp;&nbsp;id = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#ID">ID</a>
<br>&nbsp;&nbsp;namespace = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#uriReference">uriReference</a>
<br>&nbsp;&nbsp;schemaLocation = <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html#uriReference">uriReference</a>&gt;<br>
<em>&nbsp;&nbsp;Content: </em>(<a href="#element-annotation">annotation</a>?)<br>&lt;/import&gt;</p>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <p>The <a href="#element-import">import</a> element information item identifies namespaces
used in external references, i.e. those whose
<a href="#gloss-QName">QName</a> identifies them as coming from a
different namespace (or none) than the enclosing schema document's
<code>targetNamespace</code>.  The lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of its <code>namespace</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> indicates that the containing schema document may contain
qualified references to schema components in that namespace (via one or more
prefixes declared with namespace declarations in the normal way).  If that
attribute is absent, then the import allows unqualified reference to components
with no target namespace.
Note that components to be imported need not be in the form of a
<a href="#key-schemaDoc">schema document</a>;  the processor
is free to access or construct components using means of its own
choosing.</p>
<p>The
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the <code>schemaLocation</code>, if present, gives a
hint as to where a  <a href="#key-schemaDoc">schema document</a> with declarations and definitions for that
namespace (or none) may be found.  When no
<code>schemaLocation</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> is present, the schema author is leaving the
identification of that schema to the instance, application or user, via the mechanisms described
below in <a href="#composition-instances">Layer 3: Web-interoperability (&sect;6.3)</a>.  When a <code>schemaLocation</code> is present, it
must contain a single URI reference which the schema author
warrants will resolve to a <a href="#key-schemaDoc">schema document</a> containing the component(s) in the
<a href="#element-import">import</a>ed namespace referred to elsewhere in the containing
schema document.</p>
 <blockquote>
<b>NOTE: </b>
  Since both the <code>namespace</code> and <code>schemaLocation</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a> are optional, a bare <code>&lt;import/&gt;</code> information item
is schema-valid.  This simply allows unqualified reference to foreign
components without giving any hints as to where to find them.
 </blockquote>
 <blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
<tr>
<td>We may use the same namespace both for real work, and in the course of
defining schema components in terms of foreign components:</td>
</tr>
<tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>&lt;schema xmlns="http://www.w3.org/1999/XMLSchema"
        xmlns:html="http://www.w3.org/1999/xhtml"
        targetNamespace="uri:mywork" xmlns:my="uri:mywork"&gt;

 &lt;import namespace="http://www.w3.org/1999/xhtml"/&gt;

 &lt;annotation&gt;
  &lt;documentation
   &lt;html:p&gt;[Some documentation for my schema]&lt;/html:p&gt;
  &lt;/documentation&gt;
 &lt;annotation&gt;

 . . .

 &lt;complexType name="myType"&gt;
  &lt;element ref="html:p" minOccurs="0"/&gt;
  . . .
 &lt;/complexType&gt;

 &lt;element name="myElt" type="my:myType"/&gt;
&lt;/schema&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td>The treatment of references as <a href="#gloss-QName">QNames</a> implies that since (with the exception of
the schema for schemas) the target namespace and the XML Schema namespace
differ, without massive redeclaration of the default namespace
<i>either</i> internal references to the names being defined in a schema document
<i>or</i> the schema declaration and definition elements themselves must
be explicitly qualified.  This example takes the first option -- most other
examples in this specification have taken the second.</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <div class="constraintnote">
<a name="src-import"></a><b>Schema Representation Constraint:  Import Constraints and Semantics</b>
<br>
<div class="constraint">
 
 In addition to the conditions imposed on <a href="#element-import">import</a> element
information items by the DTD and schema for schemas, the following must also hold:
    <table class="constraintlist">
    <tr>
<td class="clnumber">1.1 </td><td>
     If the application schema reference strategy using the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a>s of
the <code>schemaLocation</code> and <code>namespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a>,
provides a referent, as defined by <a href="#schema_reference">Schema Document Location Strategy (&sect;6.3.2)</a>, it is
either
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1.1 </td><td>
        (a fragment of) a resource of type
<code>text/xml</code>, which in turn corresponds to a <a href="#element-schema">schema</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema
       </td>
</tr>
      </table>
      or
      <table class="constraintlist">
       <tr>
<td class="clnumber">1.1.2 </td><td>
        a <a href="#element-schema">schema</a>
element information item in a well-formed information set, which in turn
corresponds to a valid schema.
       </td>
</tr>
      </table>
      In either case call the <a href="#element-schema">schema</a> item <b>SII</b> and the valid schema <b>I</b>.
    </td>
</tr>
     <tr>
<td class="clnumber">1.2 </td><td>
      The <code>targetNamespace</code> of <b>SII</b> is identical to the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of the
<code>namespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>
     </td>
</tr>
   </table>
   <p>
</p>
 It is <i>not</i> an error for the application schema reference
strategy to fail.  It
<i>is</i> an error for it to resolve but the rest of clause 1.1 above to
fail to obtain.  Failure to find a referent may well cause less than complete
schema-validation outcomes, of course.<p>
</p>
 The <a href="#key-component">schema component</a>s (that is
<a href="#type_definitions">{type definitions}</a> <a href="#attribute_declarations">{attribute declarations}</a>, <a href="#element_declarations">{element declarations}</a>, <a href="#attribute_group_definitions">{attribute group definitions}</a>, <a href="#model_group_definitions">{model group definitions}</a>, <a href="#notation_declarations">{notation declarations}</a>) of a schema corresponding to a
<a href="#element-schema">schema</a> element information item with one or more <a href="#element-import">import</a> element information items must include not only definitions or declarations corresponding to the appropriate members of its <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>, but also, for each of those <a href="#element-import">import</a> element information items for which clause 1.1 above obtains successfully, a set of <a href="#key-component">schema component</a>s identical to all the <a href="#key-component">schema component</a>s of <b>I</b>.
</div>
</div>
 <blockquote>
<b>NOTE: </b>The above is carefully worded so that multiple <a href="#element-import">import</a>ing of the same schema document will not constitute a violation of
clause 2 of <a href="#sch-props-correct">Schema Properties Correct (&sect;5.13)</a>, but applications are
allowed, indeed encouraged, to avoid <a href="#element-import">import</a>ing the same schema document more than once to forestall the necessity of establishing identity
component by component.</blockquote>
</div>
</div>
<div class="div2">
<h3>
<a name="composition-instances"></a>6.3 Layer 3: Web-interoperability</h3>
<p>Layers 1 and 2 provide a framework for validation and XML definition of schemas in a broad variety of environments. Over time, we expect that a range
of standards and conventions will evolve to support interoperability of XML
Schema implementations on the World Wide Web. Layer 3 defines the minimum level
of function required of all conformant processors operating on the Web:
it is intended that, over time, future standards (e.g. XML Packages) for interoperability on the
Web and in other environments can be introduced without the need to republish
this specification.</p>
<div class="div3">
<h4>
<a name="schema-repr"></a>6.3.1 Standards for representation of schemas and retrieval of schema documents on the Web</h4>
<p>For interoperability, schema documents like all other Web resources may be identified by
URI and retrieved using the standard mechanisms of the Web (e.g. http, https,
etc.) Schema documents on the Web must be part of documents with the mime type <code>text/xml</code>, and are represented in the
standard XML schema definition form described by layer 2 (that is as <a href="#element-schema">schema</a>
element information items). </p>
<blockquote>
<b>NOTE: </b> there will often be times when a schema document will be a
complete XML 1.0 document whose document element is <a href="#element-schema">schema</a>. There will be
other occasions in which <a href="#element-schema">schema</a> items will be contained in other
documents, perhaps referenced using fragment and/or Xpointer notation.
</blockquote>
</div>
<div class="div3">
<h4>
<a name="schema-loc"></a>6.3.2 How schema definitions are located on the Web</h4>
<p>As described in <a href="#layer1">Layer 1: Summary of the schema-validation core  (&sect;6.1)</a>, processors are responsible for providing the
schema components (definitions and declarations) needed for validation. This
section introduces a set of normative conventions to facilitate interoperability
for instance and schema documents retrieved and validated from the Web.</p>
<blockquote>
<b>NOTE: </b> As discussed above in <a href="#layer2">Layer 2: Schema definitions in XML (&sect;6.2)</a>, other non-Web mechanisms for delivering schemas for validation may exist, but are outside the scope of this recommendation.</blockquote>
<p>Processors on the Web are free to assess schema-validity against arbitrary
schemas in any of the ways set out in <a href="#validation_outcome">Schema Validation of Documents (&sect;7.2)</a>. However, it
is useful to have a common convention for determining the schema to use. For
this purpose, we require that for general-purpose schema-aware processors (i.e. those not
specialised to one or a fixed set of pre-determined schemas) validating a document on the web:
</p>
<ul>
<li>
unless directed otherwise by the user, validation is performed on the document
element information item of the specified document;
</li>
<li>
unless directed otherwise by a user, the
processor is required to construct a schema corresponding to a schema document
whose <code>targetNamespace</code> is
identical to the
namespace URI, if any, of the element information item to be
validated.
</li>
</ul>
<p>
</p>
<p>The composition of the complete
schema for use in assessing schema-validity is discussed in <a href="#layer2">Layer 2: Schema definitions in XML (&sect;6.2)</a> above.
The means used to locate appropriate schema document(s) are processor and
application dependent, subject to the following requirements: </p>
<ol>
  <li>Schemas are represented on the Web in the form specified above in <a href="#schema-repr">Standards for representation of schemas and retrieval of schema documents on the Web (&sect;6.3.1)</a>;</li>
  <li>The author of a document uses namespace declarations to indicate the intended
interpretation of names appearing therein; there may or may not be a schema
retrievable via the namespace URI.  Accordingly whether a processor's default
behaviour is or is not to attempt such dereferencing, it must always provide
for user-directed overriding of that default.

<blockquote>
<b>NOTE: </b> Experience suggests that it is not in all cases safe or desirable from
a performance point of view to dereference NS URIs as a matter of course.  User community and/or
consumer/provider agreements may establish circumstances in which such dereference is a sensible
default strategy:  this recommendation allows but does not require particular communities to
establish and implement such conventions.  Users are always free to supply namespace URIs as schema location information when dereferencing <i>is</i> desired:  see below.</blockquote>
</li>
<li>

On the other hand, in case a document author (human or not) created a
document with a particular schema in view, and warrants that some or
all of the document is schema-valid per that schema, we provide the
<code>schemaLocation</code> and <code>noNamespaceSchemaLocation</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> (in the XML Schema instance namespace,
that is, <code>http://www.w3.org/1999/XMLSchema-instance</code>) (hereafter
<code>xsi:schemaLocation</code> and
<code>xsi:noNamespaceSchemaLocation</code>).  The first records
the author's warrant with pairs of URI references (one for the namespace URI, and
one for a hint as to the location of a schema document defining names for that
namespace URI).  The second similarly provides a URI reference as a hint as to
the location of a schema document with no <code>targetNamespace</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attribute]</a>.<p>
</p>
Unless directed otherwise, for example by the invoking application
or by command line option, processors
should attempt to dereference each schema document location URI in the
lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a> of such
<code>xsi:schemaLocation</code> and <code>xsi:noNamespaceSchemaLocation</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a>, see details below.
</li>
<li>  <code>xsi:schemaLocation</code> and <code>xsi:noNamespaceSchemaLocation</code> <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> can occur on any element,
and all such <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> must be processed as if they had occurred on the
element information item initially assessed for schema-validity. According to the rules of
  <a href="#layer1">Layer 1: Summary of the schema-validation core  (&sect;6.1)</a>, the corresponding schema may be lazily assembled, but is otherwise
  stable throughout a validation. Although schema location attributes can occur
  on any element, and can be processed incrementally as discovered, their effect
  is essentially global to the validation. Definitions and declarations remain
  in effect beyond the scope of the element on which the binding is declared.
  </li>
</ol>
<blockquote class="example">
<table border="1">
<tbody>
<tr align="left">
<td><strong><font color="blue">Example</font></strong></td>
</tr>
<tr>
<td>
<table border="0">
<tbody>
<tr>
<td>Multiple schema bindings can be declared using a single
attribute.  For example consider a stylesheet:</td>
</tr>
<tr>
<td>
<div class="eg">
<table cellpadding="5" border="1" bgcolor="#80ffff" width="100%">
<tr>
<td>
<pre>
 &lt;stylesheet xmlns="http://www.w3.org/1999/XSL/Transform"
            xmlns:html="http://www.w3.org/1999/xhtml"
            xmlns:xsi="http://www.w3.org/1999/XMLSchema-instance"
            xsi:schemaLocation="http://www.w3.org/1999/XSL/Transform
                                http://www.w3.org/1999/XSL/Transform.xsd
                                http://www.w3.org/1999/xhtml
                                http://www.w3.org/1999/xhtml.xsd"&gt;
</pre>
</td>
</tr>
</table>
</div>
</td>
</tr>
<tr>
<td>The namespace URIs used in <code>schemaLocation</code> can, but need not
  be identical to those actually qualifying the element within whose start tag
it is found or its other attributes. For example, as above, all
  schema location information can be declared on the document element
of a document, if desired,
  regardless of where the namespaces are actually used. </td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</blockquote>
 <div class="constraintnote">
<a name="schema_reference"></a><b>Schema Representation Constraint:  Schema Document Location Strategy</b>
<br>
<div class="constraint">
 
Given a namespace URI (or none) and (optionally) a URI reference from
<code>xsi:schemaLocation</code> or <code>xsi:noNamespaceSchemaLocation</code>,
schema-aware processors may implement any combination of the following 
strategies, in any order:
<table class="constraintlist">
<tr>
<td class="clnumber">1.1 </td><td>
Do nothing, for instance because a schema containing components for the
given namespace URI is already known to be available, or because it
is known in advance that no efforts to locate schema documents will be successful 
(for
example in embedded systems);
</td>
</tr>
<tr>
<td class="clnumber">1.2 </td><td>
Based on the location URI, 
identify an existing schema document,
either as a text/xml resource or a <a href="#element-schema">schema</a> element
information item, in some local schema repository;
</td>
</tr>

<tr>
<td class="clnumber">1.3 </td><td>
Based on the namespace URI, identify an existing schema document,
either as a text/xml resource or a <a href="#element-schema">schema</a> element
information item, in some local schema repository;
</td>
</tr>
<tr>
<td class="clnumber">1.4 </td><td>
Attempt to resolve the location URI, 
to locate a
resource on the web which is or contains or references a <a href="#element-schema">schema</a> element;
</td>
</tr>
<tr>
<td class="clnumber">1.5 </td><td>
Attempt to resolve the namespace URI to locate such a resource.
</td>
</tr>
</table>
Whenever possible configuration and/or invocation options for selecting and/or ordering 
the implemented strategies should be provided.

</div>
</div>
<p>We note that improved or alternative conventions for Web interoperability can
be standardised in the future without reopening this recommendation. For
example, the W3C is currently considering initiatives to standardise the
packaging of resources relating to particular documents and/or namespaces: this
would be an addition to the mechanisms described here for layer 3. This
architecture also facilitates innovation at layer 2: for example, it would be
possible in the future to define an additional standard for the representation of
schema components which allowed e.g. type definitions to be specified piece by
piece, rather than all at once.</p>
</div>
</div>

</div>
<div class="div1">
<h2>
<a name="conformance"></a>7 Validation Processing of schemas and documents</h2>
 <p>The architecture of schema
validation allows for a rich characterisation of XML documents:  schema validity is not a binary predicate.</p>
 <p>We distinguish between errors in schema construction and structure, on the
one hand, and schema validation outcomes, on the other.</p>
<div class="div2">
<h3>
<a name="conformance-schemaValidity"></a>7.1 Errors in Schema Construction and Structure</h3>
 <p>Before schema validation can be attempted, a schema is required. 
Special-purpose applications are free to determine a schema for use in validation by whatever
means are appropriate, but general purpose processors should implement the
strategy set out in <a href="#schema_reference">Schema Document Location Strategy (&sect;6.3.2)</a>, starting with the
namespaces declared in the document to be validated, and the lexical <a href="http://www.w3.org/TR/xml-infoset#infoitem.attribute">[value]</a>s of the
<code>xsi:schemaLocation</code> and <code>xsi:noNamespaceSchemaLocation</code>
<a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> thereof, if any.</p>
 <p>It is an
error if a
schema and all the components which are the value of any of its properties,
recursively, fail to satisfy all the relevant Constraints on Schemas set out in
<a href="#conformance-details">Schema Component Validity Constraints (&sect;5)</a>.</p>
 <p>If a schema is derived from one or more schema documents (that is, one or
more <a href="#element-schema">schema</a> element information items) based on the
correspondence rules set out in <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a> and <a href="#composition">Schema Access and Composition (&sect;6)</a>, two additional
conditions hold:
  </p>
<ul>
   <li>
    It is an error if any such schema document is not schema-valid with respect
to a schema corresponding to the <a href="#normative-schemaSchema">(normative) Schema for Schemas (&sect;A)</a>, that
is, following schema-validation, the <a href="#element-schema">schema</a> element
information items must have a <strong>[validation attempted]</strong>
property with value <i>full</i> or <i>partial</i> and a <strong>[validity]</strong> property
with value <i>complete</i>.
   </li>
   <li>
    It is an error if any such schema document is or contains any element
information items which violate any of the relevant Schema Representation
Constraints set out in <a href="#declare">XML Representation of Schemas and Schema Components (&sect;4)</a> and <a href="#composition">Schema Access and Composition (&sect;6)</a>.
   </li>
  </ul>
<p>
 </p>
 <p>The three cases described above are the only types of error which this
specification defines.  With respect to the processes of the checking of schema structure
and the construction of schemas corresponding to schema documents, this
specification imposes no restrictions on processors after an error is detected.
However schema-validity with respect to schema-like entities which do <i>not</i>
satisfy all the above conditions is incoherent.  Accordingly, conformant
processors must not attempt to schema-validate using such non-schemas.</p>
</div>
 <div class="div2">
  <h3>
<a name="validation_outcome"></a>7.2 Schema Validation of Documents</h3>
  <p>With a schema which satisfies the conditions expressed in <a href="#conformance-schemaValidity">Errors in Schema Construction and Structure (&sect;7.1)</a> above, the schema-validity of an element information item can be assessed.  Three primary approaches to this are possible:
   </p>
<ol>
    <li>
     The user or application identifies a complex type definition from among the
<a href="#type_definitions">{type definitions}</a> of the schema, and assesses the
schema-validity of the item by appealing to <a href="#cvc-complex-type">Element Children and Attributes Valid (&sect;3.4)</a>;
    </li>
    <li>
    The user or application identifies a element declaration from among the
<a href="#element_declarations">{element declarations}</a> of the schema, and assesses the
schema-validity of the item by appealing to <a href="#cvc-elt">Element Valid (Explicit) (&sect;3.3)</a>;</li>
    <li>
     The (possibly lax) schema-validity of the item is assessed by appealing
to <a href="#cvc-elt-lax">Element Valid (Lax) (&sect;3.3)</a>.
    </li>
   </ol>
<p>
  </p>
  <p>The outcome of this effort, in any case, will be manifest in the <strong>[validation attempted]</strong>
and <strong>[validity]</strong> properties on
the element information item and its <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[attributes]</a> and <a href="http://www.w3.org/TR/xml-infoset#infoitem.element">[children]</a>,
recursively, as defined by <a href="#sic-skipped">Validation Outcome (skipped) (&sect;3.9)</a>, <a href="#sic-e-outcome">Validation Outcome (Element) (&sect;3.3)</a> and <a href="#sic-ct-outcome">Validation Outcome (Complex Type) (&sect;3.4)</a>.  It is up to applications to decide what constitutes a successful outcome.</p>
  
<p>
<span class="termdef"><a name="schema-valid">[Definition:]&nbsp;&nbsp;</a>Throughout this document we
use the phrase <b>schema-valid</b> loosely to refer to a successful
outcome to any of the above-listed assessments of an element information item
with respect to a schema.</span>
</p>
 </div>
 <div class="div2">
  <h3>
<a name="conformance-missing"></a>7.3 Missing Sub-components</h3>
  <p>At the beginning of <a href="#components">Schema Component Details (&sect;3)</a>, attention is drawn to the
fact that most kinds of schema components have properties which are described therein
as having other components, or sets of other components, as values, but that
when components are constructed on the basis of their correspondence with
element information items in schema documents, such properties usually
correspond to <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QNames</a>, and the
<a href="#src-resolve">resolution</a> of such <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QNames</a> may fail, resulting in one or more values of or containing <a href="#key-null">absent</a> where a component is mandated.</p>
  <p>If at any time during schema-validation, schema-validity of an
information item is being assessed with respect to a component of any kind any of whose
properties has or contains such an <a href="#key-null">absent</a> value,
the schema-validation effort is modified, as following:
   </p>
<ul>
    <li>
     In the post-schema validation infoset, the <strong>[validation attempted]</strong> of the item has the value <i>partial</i>;
    </li>
    <li>
     Schema-validation resumes attempting to satisfy clause 1.2.2 of
<a href="#cvc-elt-lax">Element Valid (Lax) (&sect;3.3)</a>, if the item is an element, or as if clause 1.2 of
<a href="#cvc-attr-lax">Attribute Valid (Lax) (&sect;3.2)</a> obtained, it the item is an attribute.
    </li>
   </ul>
<p>
  </p>
  <p>Because of clause 1.2 of <a href="#sic-e-outcome">Validation Outcome (Element) (&sect;3.3)</a>, if this situation ever arises, the
document as a whole will not show a <strong>[validation attempted]</strong>
of <i>full</i>, unless the problem arises within an area of lax validation
(see clause 1.2.3 of <a href="#cvc-wildcard">Item Valid (Wildcard) (&sect;3.9)</a>).</p>
 </div>

<div class="div2">
<h3>
<a name="conformance-processorResponsibilities"></a>7.4 Responsibilities of Schema-aware processors</h3>
 <p>Schema-aware processors are responsible for processing XML documents,
schemas and schema documents, as appropriate given the level of conformance
(as defined in <a href="#concepts-conformance">Conformance (&sect;2.4)</a>) they support,
consistently with the conditions set out above.</p>
</div>
</div>


<hr title="Separator from footer">
<div class="appendices">
<div class="div1">
<h2>
<a name="normative-schemaSchema"></a>A (normative) Schema for Schemas</h2>
<p>The XML Schema definition for <i>XML Schema: Structures</i> itself is presented here as normative
part of the specification, and as an illustrative example of the XML Schema in
defining itself with the very constructs that it defines. The names of XML
Schema language types, elements, attributes and groups defined here
are evocative of their purpose, but are occasionally verbose. </p>
<p>There is some annotation in comments, but a fuller annotation will require
the use of embedded documentation facilities or a hyperlinked external
annotation for which tools are not yet readily available.</p>
<p>Since an <i>XML Schema: Structures</i> is an XML document, it has optional XML and doctype
declarations that are provided here for completeness. The root
<code>schema</code> element defines a new schema. Since this is a schema for
<i>XML Schema: Structures</i>, the <code>targetNamespace</code> references the XML Schema namespace itself.</p>
<pre>&lt;?xml version='1.0'?&gt;
&lt;!-- XML Schema schema for XML Schemas: Part 1: Structures --&gt;
&lt;!DOCTYPE schema PUBLIC "-//W3C//DTD XMLSCHEMA 19991216//EN" "XMLSchema.dtd" &gt;
&lt;schema xmlns="http://www.w3.org/1999/XMLSchema" targetNamespace="http://www.w3.org/1999/XMLSchema" blockDefault="#all" elementFormDefault="qualified" version="Id: XMLSchema.xsd,v 1.1 2000/04/06 13:51:05 aqw Exp"&gt;

  &lt;!-- The simpleType element and all of its members are defined
       in XML Schema: Part 2: Datatypes --&gt;

  &lt;include schemaLocation="part2.xsd"/&gt;

  &lt;element name="schemaTop" abstract="true" type="annotated"&gt;
   &lt;annotation&gt;
    &lt;documentation&gt;This abstract element defines an equivalence class over the
          elements which occur freely at the top level of schemas.
          These are: datatype, type, element, attributeGroup, group, notation
          All of their types are based on the "annotated" type
          by extension.&lt;/documentation&gt;
   &lt;/annotation&gt;
  &lt;/element&gt;

  &lt;!-- schema element --&gt;

  &lt;simpleType name="formChoice" base="NMTOKEN"&gt;
   &lt;annotation&gt;
    &lt;documentation&gt;A utility type, not for public use&lt;/documentation&gt;
   &lt;/annotation&gt;
   &lt;enumeration value="qualified"/&gt;
   &lt;enumeration value="unqualified"/&gt;
  &lt;/simpleType&gt;

  &lt;element name="schema"&gt;
    &lt;complexType base="openAttrs" derivedBy="extension" content="elementOnly"&gt;
      &lt;sequence&gt;
       &lt;choice minOccurs="0" maxOccurs="unbounded"&gt;
        &lt;element ref="include"/&gt;
        &lt;element ref="import"/&gt;
        &lt;element ref="annotation"/&gt;
       &lt;/choice&gt;
      &lt;sequence minOccurs="1" maxOccurs="unbounded"&gt;
	 &lt;element ref="schemaTop"/&gt;
	 &lt;element ref="annotation" minOccurs="0" maxOccurs="unbounded"/&gt;
      &lt;/sequence&gt;
    &lt;/sequence&gt;
    &lt;attribute name="targetNamespace" type="uriReference"/&gt;
    &lt;attribute name="version" type="string"/&gt;
    &lt;attribute name="finalDefault" type="derivationSet" use="default" value=""/&gt;
    &lt;attribute name="blockDefault" type="blockSet" use="default" value=""/&gt;
    &lt;attribute name="attributeFormDefault" type="formChoice" use="default" value="unqualified"/&gt;
    &lt;attribute name="elementFormDefault" type="formChoice" use="default" value="unqualified"/&gt;
    &lt;attribute name="id" type="ID"/&gt;
   &lt;/complexType&gt;

   &lt;key name="element"&gt;
    &lt;selector&gt;element&lt;/selector&gt;
    &lt;field&gt;@name&lt;/field&gt;
   &lt;/key&gt;

   &lt;key name="attribute"&gt;
    &lt;selector&gt;attribute&lt;/selector&gt;
    &lt;field&gt;@name&lt;/field&gt;
   &lt;/key&gt;

   &lt;key name="type"&gt;
    &lt;selector&gt;complexType|simpleType&lt;/selector&gt;
    &lt;field&gt;@name&lt;/field&gt;
   &lt;/key&gt;
 
   &lt;key name="group"&gt;
    &lt;selector&gt;group&lt;/selector&gt;
    &lt;field&gt;@name&lt;/field&gt;
   &lt;/key&gt;
 
   &lt;key name="attributeGroup"&gt;
    &lt;selector&gt;attributeGroup&lt;/selector&gt;
    &lt;field&gt;@name&lt;/field&gt;
   &lt;/key&gt;
 
   &lt;key name="notation"&gt;
    &lt;selector&gt;notation&lt;/selector&gt;
    &lt;field&gt;@name&lt;/field&gt;
   &lt;/key&gt;

   &lt;key name="identityConstraint"&gt;
    &lt;selector&gt;.//key|.//unique|.//keyref&lt;/selector&gt;
    &lt;field&gt;@name&lt;/field&gt;
   &lt;/key&gt;

  &lt;/element&gt;

  &lt;!-- for all particles --&gt;
  &lt;attributeGroup name="occurs"&gt;
    &lt;attribute name="minOccurs" type="nonNegativeInteger" use="default" value="1"/&gt;
    &lt;attribute name="maxOccurs" type="string"&gt;
     &lt;annotation&gt;
      &lt;documentation&gt;allows 'unbounded', so integer won't do&lt;/documentation&gt;
     &lt;/annotation&gt;
    &lt;/attribute&gt;
  &lt;/attributeGroup&gt;

  &lt;!-- for element, group and attributeGroup,
               which both define and reference --&gt;
  &lt;attributeGroup name="defRef"&gt;
   &lt;attribute name="name" type="NCName"/&gt;
   &lt;attribute name="ref" type="QName"/&gt;
  &lt;/attributeGroup&gt;
 
 

  &lt;!-- 'complexType' and 'group' use this --&gt;
  &lt;group name="particle"&gt;
   &lt;choice&gt;
   &lt;element name="element" type="localElement"/&gt;
   &lt;element name="group" type="groupRef"/&gt;
   &lt;element ref="all"/&gt;
   &lt;element ref="choice"/&gt;
   &lt;element ref="sequence"/&gt;
   &lt;element ref="any"/&gt;
   &lt;/choice&gt;
  &lt;/group&gt;

  &lt;group name="nestedParticle"&gt;
   &lt;choice&gt;
   &lt;element name="element" type="localElement"/&gt;
   &lt;element name="group" type="groupRef"/&gt;
   &lt;element ref="choice"/&gt;
   &lt;element ref="sequence"/&gt;
   &lt;element ref="any"/&gt;
   &lt;/choice&gt;
  &lt;/group&gt;
 
  &lt;complexType base="annotated" derivedBy="extension" name="attribute" abstract="true"&gt;
   &lt;element name="simpleType" minOccurs="0" type="localSimpleType"/&gt;
   &lt;attributeGroup ref="defRef"/&gt;
   &lt;attribute name="type" type="QName"/&gt;
   &lt;attribute name="use" use="default" value="optional"&gt;
    &lt;simpleType base="NMTOKEN"&gt;
     &lt;enumeration value="prohibited"/&gt;
     &lt;enumeration value="optional"/&gt;
     &lt;enumeration value="required"/&gt;
     &lt;enumeration value="default"/&gt;
     &lt;enumeration value="fixed"/&gt;
    &lt;/simpleType&gt;
   &lt;/attribute&gt;
   &lt;attribute name="value" use="optional" type="string"/&gt;
   &lt;attribute name="form" type="formChoice"/&gt;
  &lt;/complexType&gt;
 
 &lt;complexType name="topLevelAttribute" base="attribute" derivedBy="restriction"&gt;
  &lt;element ref="annotation" minOccurs="0"/&gt;
  &lt;element name="simpleType" minOccurs="0" type="localSimpleType"/&gt;
  &lt;attribute name="ref" use="prohibited"/&gt;
  &lt;attribute name="form" use="prohibited"/&gt;
  &lt;attribute name="use" use="prohibited"/&gt;
  &lt;attribute name="name" use="required" type="NCName"/&gt;
 &lt;/complexType&gt;

  &lt;group name="attrDecls"&gt;
   &lt;sequence&gt;
    &lt;choice minOccurs="0" maxOccurs="unbounded"&gt;
     &lt;element name="attribute" type="attribute"/&gt;
     &lt;element name="attributeGroup" type="attributeGroupRef"/&gt;
    &lt;/choice&gt;
    &lt;element ref="anyAttribute" minOccurs="0"/&gt;
   &lt;/sequence&gt;
  &lt;/group&gt;

 &lt;element name="anyAttribute"&gt;
  &lt;complexType base="annotated" derivedBy="extension"&gt;
   &lt;attribute name="namespace" type="namespaceList" use="default" value="##any"/&gt;
  &lt;/complexType&gt;
 &lt;/element&gt;

  &lt;!-- types for type --&gt;

  &lt;complexType name="complexType" base="annotated" derivedBy="extension" abstract="true"&gt;
   &lt;sequence&gt;
    &lt;choice&gt;
     &lt;element ref="facet" minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;!-- max 1, min 0, for each facet except pattern, period--&gt;
     &lt;group ref="particle" minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;/choice&gt;
    &lt;group ref="attrDecls"/&gt;
   &lt;/sequence&gt;
   &lt;attribute name="name" type="NCName"&gt;
    &lt;annotation&gt;
     &lt;documentation&gt;Will be restricted to required or forbidden&lt;/documentation&gt;
    &lt;/annotation&gt;
   &lt;/attribute&gt;
   &lt;attribute name="content"&gt;
    &lt;simpleType base="NMTOKEN"&gt;
     &lt;enumeration value="elementOnly"/&gt;
     &lt;enumeration value="textOnly"/&gt;
     &lt;enumeration value="mixed"/&gt;
     &lt;enumeration value="empty"/&gt;
    &lt;/simpleType&gt;
   &lt;/attribute&gt;
   &lt;attribute name="base" type="QName"/&gt;
   &lt;attribute name="derivedBy" type="derivationChoice"/&gt;
   &lt;attribute name="abstract" type="boolean" use="default" value="false"/&gt;
   &lt;attribute name="final" type="derivationSet"/&gt;
   &lt;attribute name="block" type="derivationSet"/&gt;
  &lt;/complexType&gt;
 
  &lt;complexType name="topLevelComplexType" base="complexType" derivedBy="restriction"&gt;
   &lt;sequence&gt;
    &lt;element ref="annotation" minOccurs="0"/&gt;
    &lt;choice&gt;
     &lt;element ref="facet" minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;!-- max 1, min 0, for each facet except pattern, period--&gt;
     &lt;group ref="particle" minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;/choice&gt;
    &lt;group ref="attrDecls"/&gt;
   &lt;/sequence&gt;
   &lt;attribute name="name" type="NCName" use="required"/&gt;
  &lt;/complexType&gt;
 
  &lt;complexType name="localComplexType" base="complexType" derivedBy="restriction"&gt;
   &lt;sequence&gt;
    &lt;element ref="annotation" minOccurs="0"/&gt;
    &lt;choice&gt;
     &lt;element ref="facet" minOccurs="0" maxOccurs="unbounded"/&gt;
         &lt;!-- max 1, min 0, for each facet except pattern, period--&gt;
     &lt;group ref="particle" minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;/choice&gt;
    &lt;group ref="attrDecls"/&gt;
   &lt;/sequence&gt;
   &lt;attribute name="name" use="prohibited"/&gt;
  &lt;/complexType&gt;
 
  &lt;!-- Top level type element, daughter of schema --&gt;
  &lt;element name="complexType" equivClass="schemaTop" type="topLevelComplexType"/&gt; 
 
  &lt;simpleType name="derivationControls" base="string"&gt;
   &lt;enumeration value="#all"/&gt;
   &lt;enumeration value="equivClass"/&gt;
   &lt;enumeration value="extension"/&gt;
   &lt;enumeration value="restriction"/&gt;
  &lt;/simpleType&gt;

  &lt;simpleType name="derivationChoiceOrAll" base="derivationControls"&gt;
   &lt;annotation&gt;
    &lt;documentation&gt;A utility type, not for public use&lt;/documentation&gt;
   &lt;/annotation&gt;
   &lt;enumeration value="#all"/&gt;
   &lt;enumeration value="extension"/&gt;
   &lt;enumeration value="restriction"/&gt;
  &lt;/simpleType&gt;

  &lt;simpleType name="derivationChoice" base="derivationChoiceOrAll"&gt;
   &lt;annotation&gt;
    &lt;documentation&gt;A utility type, not for public use&lt;/documentation&gt;
   &lt;/annotation&gt;
   &lt;enumeration value="extension"/&gt;
   &lt;enumeration value="restriction"/&gt;
  &lt;/simpleType&gt;

  &lt;simpleType name="blockSet" base="derivationControls" derivedBy="list"&gt;
   &lt;annotation&gt;
    &lt;documentation&gt;#all or (possibly empty) subset of {equivClass,
extension, restriction}&lt;/documentation&gt;
    &lt;documentation&gt;A utility type, not for public use&lt;/documentation&gt;
   &lt;/annotation&gt;
  &lt;/simpleType&gt;

  &lt;simpleType name="derivationSet" base="derivationChoiceOrAll" derivedBy="list"&gt;
   &lt;annotation&gt;
    &lt;documentation&gt;#all or (possibly empty) subset of {extension,
restriction}&lt;/documentation&gt;
    &lt;documentation&gt;A utility type, not for public use&lt;/documentation&gt;
   &lt;/annotation&gt;
  &lt;/simpleType&gt;

  &lt;!-- The element element can be used either
        at the toplevel to define an element-type binding globally,
        or within a content model to either reference a globally-defined
        element or type or declare an element-type binding locally.
       The ref form is not allowed at the top level --&gt;

  &lt;complexType name="element" base="annotated" derivedBy="extension" abstract="true"&gt;
     &lt;choice minOccurs="0"&gt;
      &lt;element name="simpleType" type="localSimpleType"/&gt;
      &lt;element name="complexType" type="localComplexType"/&gt;
     &lt;/choice&gt;
     &lt;element ref="identityConstraint" minOccurs="0" maxOccurs="unbounded"/&gt;
     &lt;attributeGroup ref="defRef"/&gt;
     &lt;attribute name="type" type="QName"/&gt;
     &lt;attribute name="equivClass" type="QName"/&gt;
     &lt;attributeGroup ref="occurs"/&gt;
     &lt;attribute name="default" type="string"/&gt;
     &lt;attribute name="fixed" type="string"/&gt;
     &lt;attribute name="nullable" type="boolean" use="default" value="false"/&gt;
     &lt;attribute name="abstract" type="boolean" use="default" value="false"/&gt;
     &lt;attribute name="final" type="derivationSet" use="default" value=""/&gt;
     &lt;attribute name="block" type="blockSet" use="default" value=""/&gt;
     &lt;attribute name="form" type="formChoice"/&gt;
  &lt;/complexType&gt;
 
  &lt;complexType name="topLevelElement" base="element" derivedBy="restriction"&gt;
   &lt;element ref="annotation" minOccurs="0"/&gt;
   &lt;choice minOccurs="0"&gt;
      &lt;element name="simpleType" type="localSimpleType"/&gt;
      &lt;element name="complexType" type="localComplexType"/&gt;
   &lt;/choice&gt;
   &lt;element ref="identityConstraint" minOccurs="0" maxOccurs="unbounded"/&gt;
   &lt;attribute name="ref" use="prohibited"/&gt;
   &lt;attribute name="form" use="prohibited"/&gt;
   &lt;attribute name="minOccurs" use="prohibited"/&gt;
   &lt;attribute name="maxOccurs" use="prohibited"/&gt;
   &lt;attribute name="name" use="required" type="NCName"/&gt;
  &lt;/complexType&gt;
 
  &lt;complexType name="localElement" base="element" derivedBy="restriction"&gt;
   &lt;element ref="annotation" minOccurs="0"/&gt;
   &lt;choice minOccurs="0"&gt;
      &lt;element name="simpleType" type="localSimpleType"/&gt;
      &lt;element name="complexType" type="localComplexType"/&gt;
   &lt;/choice&gt;
   &lt;element ref="identityConstraint" minOccurs="0" maxOccurs="unbounded"/&gt;
   &lt;attribute name="equivClass" use="prohibited"/&gt;
   &lt;attribute name="final" use="prohibited"/&gt;
  &lt;/complexType&gt;

  &lt;element name="element" type="topLevelElement" equivClass="schemaTop"/&gt;

  &lt;!-- group type for named top-level groups and group references --&gt;
  &lt;complexType name="group" base="annotated" derivedBy="extension" abstract="true"&gt;
    &lt;group ref="particle" minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;attributeGroup ref="defRef"/&gt;
    &lt;attributeGroup ref="occurs"/&gt;
  &lt;/complexType&gt;

  &lt;complexType name="namedGroup" base="group" derivedBy="restriction"&gt;
    &lt;element ref="annotation" minOccurs="0"/&gt;
    &lt;group ref="particle" minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;attribute name="name" use="required" type="NCName"/&gt;
    &lt;attribute name="ref" use="prohibited"/&gt;
    &lt;attribute name="minOccurs" use="prohibited"/&gt;
    &lt;attribute name="maxOccurs" use="prohibited"/&gt;
  &lt;/complexType&gt;

  &lt;complexType name="groupRef" base="group" derivedBy="restriction"&gt;
    &lt;element ref="annotation" minOccurs="0"/&gt;
    &lt;attribute name="ref" use="required" type="QName"/&gt;
    &lt;attribute name="name" use="prohibited"/&gt;
  &lt;/complexType&gt;

  &lt;!-- group type for the three kinds of group --&gt;
  &lt;complexType name="explicitGroup" base="group" derivedBy="restriction"&gt;
    &lt;element ref="annotation" minOccurs="0"/&gt;
    &lt;group ref="nestedParticle" minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;attribute name="name" type="NCName" use="prohibited"/&gt;
    &lt;attribute name="ref" type="QName" use="prohibited"/&gt;
  &lt;/complexType&gt;

  &lt;element name="all" type="explicitGroup"/&gt;
  &lt;element name="choice" type="explicitGroup"/&gt;
  &lt;element name="sequence" type="explicitGroup"/&gt;

  &lt;element name="group" equivClass="schemaTop" type="namedGroup"/&gt;

  &lt;!-- The wildcard specifier in content models --&gt;

  &lt;element name="any"&gt;
   &lt;complexType base="annotated" derivedBy="extension"&gt;
    &lt;attribute name="namespace" type="namespaceList" use="default" value="##any"/&gt;
    &lt;attribute name="processContents" use="default" value="strict"&gt;
     &lt;simpleType base="NMTOKEN"&gt;
      &lt;enumeration value="skip"/&gt;
      &lt;enumeration value="lax"/&gt;
      &lt;enumeration value="strict"/&gt;
     &lt;/simpleType&gt;
    &lt;/attribute&gt;
    &lt;attributeGroup ref="occurs"/&gt;
   &lt;/complexType&gt;
  &lt;/element&gt;

  &lt;!-- simple type for the value of the 'namespace' attr of 'any' and
       'anyAttribute' --&gt;
  &lt;!-- Value is
                  ##any      - - any non-conflicting WFXML/attribute at all

                  ##other    - - any non-conflicting WFXML/attribute from
                                  namespace other than targetNS

                  ##local    - - any unqualified non-conflicting WFXML/attribute 

                  one or     - - any non-conflicting WFXML/attribute from
                  more URI        the listed namespaces
                  references
                  (space separated)

                ##targetNamespace may appear in the above list, to refer to the
                   targetNamespace of the enclosing schema --&gt;

  &lt;simpleType name="namespaceList" base="string"&gt;
   &lt;annotation&gt;
    &lt;documentation&gt;##any | ##other | ##local | list of {uri, ##targetNamespace}&lt;/documentation&gt;
   &lt;documentation&gt;A utility type, not for public use&lt;/documentation&gt;
   &lt;/annotation&gt;
  &lt;/simpleType&gt;

  &lt;!-- the attribute element declares attributes --&gt;

  &lt;element name="attribute" equivClass="schemaTop" type="topLevelAttribute"/&gt;

  &lt;!-- attributeGroup element --&gt;

  &lt;complexType name="attributeGroup" base="annotated" derivedBy="extension" abstract="true"&gt;
     &lt;choice minOccurs="0" maxOccurs="unbounded"&gt;
      &lt;element name="attribute" type="attribute"/&gt;
      &lt;element name="attributeGroup" type="attributeGroupRef"/&gt;
     &lt;/choice&gt;
     &lt;element ref="anyAttribute" minOccurs="0"/&gt;
     &lt;attributeGroup ref="defRef"/&gt;
    &lt;/complexType&gt;
 
  &lt;complexType name="namedAttributeGroup" base="attributeGroup" derivedBy="restriction"&gt;
    &lt;element ref="annotation" minOccurs="0"/&gt;
    &lt;choice minOccurs="0" maxOccurs="unbounded"&gt;
      &lt;element name="attribute" type="attribute"/&gt;
      &lt;element name="attributeGroup" type="attributeGroupRef"/&gt;
     &lt;/choice&gt;
    &lt;attribute name="name" use="required" type="NCName"/&gt;
    &lt;attribute name="ref" use="prohibited"/&gt;
  &lt;/complexType&gt;

  &lt;complexType name="attributeGroupRef" base="attributeGroup" derivedBy="restriction"&gt;
    &lt;element ref="annotation" minOccurs="0"/&gt;
    &lt;attribute name="ref" use="required" type="QName"/&gt;
    &lt;attribute name="name" use="prohibited"/&gt;
  &lt;/complexType&gt;

 &lt;element name="attributeGroup" type="namedAttributeGroup" equivClass="schemaTop"/&gt;

 &lt;element name="include"&gt;
  &lt;complexType base="annotated" derivedBy="extension"&gt;
   &lt;attribute name="schemaLocation" type="uriReference" use="required"/&gt;
  &lt;/complexType&gt;
 &lt;/element&gt;

 &lt;element name="import"&gt;
  &lt;complexType base="annotated" derivedBy="extension"&gt;
   &lt;attribute name="namespace" type="uriReference"/&gt;
   &lt;attribute name="schemaLocation" type="uriReference"/&gt;
  &lt;/complexType&gt;
 &lt;/element&gt;
 
 &lt;!-- Better reference mechanisms --&gt;

 &lt;simpleType name="XPathExprApprox" base="string"&gt;
  &lt;annotation&gt;
   &lt;documentation&gt;An XPath expression&lt;/documentation&gt;
   &lt;documentation&gt;A utility type, not for public use&lt;/documentation&gt;
  &lt;/annotation&gt;
  &lt;pattern value="(/|//|\.|\.\.|:|::|\||(\c-[.:/|])+)+"&gt;
   &lt;annotation&gt;
    &lt;documentation&gt;A VERY permissive definition,
                   probably not even right
    &lt;/documentation&gt;
   &lt;/annotation&gt;
  &lt;/pattern&gt;
 &lt;/simpleType&gt;

 &lt;element name="selector" type="XPathExprApprox"/&gt;
 &lt;element name="field" type="XPathExprApprox"/&gt;

 &lt;complexType name="keybase" base="annotated" derivedBy="extension"&gt;
  &lt;sequence&gt;
   &lt;element ref="selector"/&gt;
   &lt;element ref="field" minOccurs="1" maxOccurs="unbounded"/&gt;
  &lt;/sequence&gt;
  &lt;attribute name="name" type="NCName" use="required"/&gt;
 &lt;/complexType&gt;

 &lt;element name="identityConstraint" type="keybase" abstract="true"/&gt;

 &lt;element name="unique" equivClass="identityConstraint"/&gt;
 &lt;element name="key" equivClass="identityConstraint"/&gt;
 &lt;element name="keyref" equivClass="identityConstraint"&gt;
  &lt;complexType base="keybase" derivedBy="extension"&gt;
   &lt;attribute name="refer" type="QName" use="required"/&gt;
  &lt;/complexType&gt;
 &lt;/element&gt;

  &lt;!-- notation element type --&gt;

  &lt;element name="notation" equivClass="schemaTop"&gt;
   &lt;complexType base="annotated" derivedBy="extension"&gt;
    &lt;attribute name="name" type="NCName" use="required"/&gt;
    &lt;attribute name="public" type="public" use="required"/&gt;
    &lt;attribute name="system" type="uriReference"/&gt;
   &lt;/complexType&gt;
  &lt;/element&gt;

  &lt;simpleType name="public" base="string"&gt;
   &lt;annotation&gt;
   &lt;documentation&gt;A public identifier, per ISO 8879&lt;/documentation&gt;
   &lt;documentation&gt;A utility type, not for public use&lt;/documentation&gt;
   &lt;/annotation&gt;
  &lt;/simpleType&gt;

  &lt;!-- notations for use within XML Schema schemas      --&gt;

  &lt;notation name="XMLSchemaStructures" public="structures" system="http://www.w3.org/1999/XMLSchema.xsd"/&gt;
  &lt;notation name="XML" public="REC-xml-19980210" system="http://www.w3.org/TR/1998/REC-xml-19980210"/&gt;
&lt;/schema&gt;
</pre>
<blockquote>
<b>NOTE: </b>
And that is the end of the schema for <i>XML Schema: Structures</i>.
</blockquote>


</div>
<div class="div1">
<h2>
<a name="normative-schemaDTD"></a>B (normative) DTD for Schemas</h2>
<p>The DTD for <i>XML Schema: Structures</i> is given below.  Note there is <i>no</i>
implication here the <code>schema</code> must be the root element of a document.</p>
<pre>&lt;!-- DTD for XML Schemas: Part 1: Structures --&gt;
&lt;!-- Id: XMLSchema.dtd,v 1.1 2000/04/06 13:50:43 aqw Exp --&gt;

&lt;!-- The the datatype element and its components
     are defined in XML Schema: Part 2: Datatypes --&gt;
&lt;!-- Note %p is defined in part2.dtd --&gt;
&lt;!ENTITY % xs-datatypes PUBLIC 'datatypes' 'part2.dtd' &gt;
%xs-datatypes;

&lt;!ENTITY % s ''&gt; &lt;!-- if %p is defined (e.g. as foo:) then you must
                      also define %s as the suffix for the appropriate
                      namespace declaration (e.g. :foo) --&gt;
&lt;!ENTITY % nds 'xmlns%s;'&gt;

&lt;!-- Define all the element names, with optional prefix --&gt;
&lt;!ENTITY % schema "%p;schema"&gt;
&lt;!ENTITY % complexType "%p;complexType"&gt;
&lt;!ENTITY % element "%p;element"&gt;
&lt;!ENTITY % unique "%p;unique"&gt;
&lt;!ENTITY % key "%p;key"&gt;
&lt;!ENTITY % keyref "%p;keyref"&gt;
&lt;!ENTITY % selector "%p;selector"&gt;
&lt;!ENTITY % field "%p;field"&gt;
&lt;!ENTITY % group "%p;group"&gt;
&lt;!ENTITY % all "%p;all"&gt;
&lt;!ENTITY % choice "%p;choice"&gt;
&lt;!ENTITY % sequence "%p;sequence"&gt;
&lt;!ENTITY % any "%p;any"&gt;
&lt;!ENTITY % anyAttribute "%p;anyAttribute"&gt;
&lt;!ENTITY % attribute "%p;attribute"&gt;
&lt;!ENTITY % attributeGroup "%p;attributeGroup"&gt;
&lt;!ENTITY % include "%p;include"&gt;
&lt;!ENTITY % import "%p;import"&gt;
&lt;!ENTITY % notation "%p;notation"&gt;

&lt;!-- Customisation entities for the ATTLIST of each element type.
     Define one of these if your schema takes advantage of the
     anyAttribute='##other' in the schema for schemas --&gt;

&lt;!ENTITY % schemaAttrs ''&gt;
&lt;!ENTITY % complexTypeAttrs ''&gt;
&lt;!ENTITY % elementAttrs ''&gt;
&lt;!ENTITY % groupAttrs ''&gt;
&lt;!ENTITY % allAttrs ''&gt;
&lt;!ENTITY % choiceAttrs ''&gt;
&lt;!ENTITY % sequenceAttrs ''&gt;
&lt;!ENTITY % anyAttrs ''&gt;
&lt;!ENTITY % anyAttributeAttrs ''&gt;
&lt;!ENTITY % attributeAttrs ''&gt;
&lt;!ENTITY % attributeGroupAttrs ''&gt;
&lt;!ENTITY % uniqueAttrs ''&gt;
&lt;!ENTITY % keyAttrs ''&gt;
&lt;!ENTITY % keyrefAttrs ''&gt;
&lt;!ENTITY % includeAttrs ''&gt;
&lt;!ENTITY % importAttrs ''&gt;
&lt;!ENTITY % notationAttrs ''&gt;

&lt;!ENTITY % complexDerivationChoice "(extension|restriction)"&gt;
&lt;!ENTITY % complexDerivationSet "CDATA"&gt;
      &lt;!-- #all or space-separated list drawn from derivationChoice --&gt;
&lt;!ENTITY % blockSet "CDATA"&gt;
      &lt;!-- #all or space-separated list drawn from
                      derivationChoice + 'equivClass' --&gt;

&lt;!ENTITY % mgs '%all; | %choice; | %sequence;'&gt;
&lt;!ENTITY % cs '%choice; | %sequence;'&gt;
&lt;!ENTITY % formValues '(qualified|unqualified)'&gt;

&lt;!-- the duplication below is to produce an unambiguous content model
     which allows annotation everywhere --&gt;
&lt;!ELEMENT %schema; ((%include; | %import; | %annotation;)*,
                    (%simpleType; | %complexType;
                     | %element; | %attribute;
                     | %attributeGroup; | %group;
                     | %notation; ),
                    (%annotation;
                     | %simpleType; | %complexType;
                     | %element; | %attribute;
                     | %attributeGroup; | %group;
                     | %notation; )* )&gt;
&lt;!ATTLIST %schema;
   targetNamespace      %URIref;               #IMPLIED
   version              CDATA                  #IMPLIED
   %nds;                %URIref;               #FIXED 'http://www.w3.org/1999/XMLSchema'
   finalDefault         %complexDerivationSet; ''
   blockDefault         %blockSet;             ''
   id                   ID                     #IMPLIED
   elementFormDefault   %formValues;           'unqualified'
   attributeFormDefault %formValues;           'unqualified'
   %schemaAttrs;&gt;
&lt;!-- Note the xmlns declaration is NOT in the Schema for Schemas,
     because at the Infoset level where schemas operate,
     xmlns(:prefix) is NOT an attribute! --&gt;
 
&lt;!-- The id attribute here and below is for use in external references
     from non-schemas using simple fragment identifiers.
     It is NOT used for schema-to-schema reference, internal or
     external. --&gt;

&lt;!-- a type is a named content type specification which allows attribute
     declarations--&gt;
&lt;!-- --&gt;

&lt;!ELEMENT %complexType; ((%annotation;)?,
                 ((%facet;)*|
                  ((%element;| %mgs; | %group; | %any;)*,
                   (%attribute;| %attributeGroup;)*,
                   (%anyAttribute;)?)))&gt;

&lt;!ATTLIST %complexType;
          name      %NCName;                        #IMPLIED
          id        ID                              #IMPLIED
          content   (textOnly|mixed|elementOnly|empty) #IMPLIED
          abstract  %boolean;                       'false'
          final     %complexDerivationSet;          ''
          block     %complexDerivationSet;          ''
          derivedBy %complexDerivationChoice;       #IMPLIED 
          base      %QName;                         #IMPLIED
          %complexTypeAttrs;&gt;

&lt;!-- facets only if derivedBy='restriction' --&gt;
&lt;!-- (element|group|any) only if content=mixed or =elementOnly
     and no base at all, i.e. a root type, or base is a complex type --&gt;
&lt;!-- content defaults to base's if there is a complex base,
     textonly if there's a simple base,
     'mixed' if no base (because that's the urType's content)
             and no content daughters,
     'elementOnly' otherwise --&gt; 
&lt;!-- should we replace content='empty' with content='elementOnly'
     final='#all' plus no content? --&gt;

&lt;!-- If one top-level group, that IS the content model, otherwise
     an implicit group obtains.
     This is
       &lt;sequence minOccurs='1' maxOccurs='1'&gt;
     unless content='mixed', in which case it's
       &lt;choice minOccurs='0' maxOccurs='unbounded'&gt; --&gt;

&lt;!-- If anyAttribute appears in one or more referenced attributeGroups
     and/or explicitly, the intersection of the permissions is used --&gt;

&lt;!-- A text-only type with no attributes differs from a datatype with
     the same base qualified the same way in regard to the impact on
     attributes of anyAttribute --&gt;

&lt;!-- an element is declared by either:
 a name and a type (either nested or referenced via the type attribute)
or:
 a ref to an existing element declaration --&gt;

&lt;!ELEMENT %element; ((%annotation;)?, (%complexType;| %simpleType;)?,
                     (%unique; | %key; | %keyref;)*)&gt;
&lt;!-- simpleType or complexType only if no type|ref attribute --&gt;
&lt;!-- ref not allowed at top level --&gt;
&lt;!ATTLIST %element;
            name        %NCName;               #IMPLIED
            id          ID                     #IMPLIED
            ref         %QName;                #IMPLIED
            type        %QName;                #IMPLIED
            minOccurs   %nonNegativeInteger;   '1'
            maxOccurs   CDATA                  #IMPLIED
            nullable    %boolean;              'false'
            equivClass  %QName;                #IMPLIED
            abstract    %boolean;              'false'
            final       %complexDerivationSet; ''
            block       %blockSet;             ''
            default     CDATA                  #IMPLIED
            fixed       CDATA                  #IMPLIED
            form        %formValues;           #IMPLIED
            %elementAttrs;&gt;
&lt;!-- type and ref are mutually exclusive.
     name and ref are mutually exculsive, one is required --&gt;
&lt;!-- In the absence of type AND ref, type defaults to type of
     equivClass, if any, else the ur-type, i.e. unconstrained --&gt;
&lt;!-- maxOccurs defaults to 1 or minOccurs, whichever is greater --&gt;
&lt;!-- default and fixed are mutually exclusive --&gt;

&lt;!ELEMENT %group; (%mgs;)?&gt;
&lt;!ATTLIST %group; 
          name        %NCName;               #IMPLIED
          ref         %QName;                #IMPLIED
          minOccurs   %nonNegativeInteger;   '1'
          maxOccurs   CDATA                  #IMPLIED
          id          ID                     #IMPLIED
          %groupAttrs;&gt;

&lt;!ELEMENT %all; ((%annotation;)?, (%element;| %group;| %cs; | %any;)*)&gt;
&lt;!ATTLIST %all;
          minOccurs   %nonNegativeInteger;   '1'
          maxOccurs   CDATA                  #IMPLIED
          id          ID                     #IMPLIED
          %allAttrs;&gt;

&lt;!ELEMENT %choice; ((%annotation;)?, (%element;| %group;| %cs; | %any;)*)&gt;
&lt;!ATTLIST %choice;
          minOccurs   %nonNegativeInteger;   '1'
          maxOccurs   CDATA                  #IMPLIED
          id          ID                     #IMPLIED
          %choiceAttrs;&gt;

&lt;!ELEMENT %sequence; ((%annotation;)?, (%element;| %group;| %cs; | %any;)*)&gt;
&lt;!ATTLIST %sequence;
          minOccurs   %nonNegativeInteger;   '1'
          maxOccurs   CDATA                  #IMPLIED
          id          ID                     #IMPLIED
          %sequenceAttrs;&gt;

&lt;!-- an anonymous grouping in a model, or
     a top-level named group definition, or a reference to same --&gt;

&lt;!-- Note that if order is 'all', group is not allowed inside.
     If order is 'all' THIS group must be alone (or referenced alone) at
     the top level of a content model --&gt;
&lt;!-- If order is 'all', minOccurs==maxOccurs==1 on element/any inside --&gt;
&lt;!-- Should allow minOccurs=0 inside order='all' . . . --&gt;

&lt;!ELEMENT %any; (%annotation;)?&gt;
&lt;!ATTLIST %any;
            namespace       CDATA                  '##any'
            processContents (skip|lax|strict)      'strict'
            minOccurs       %nonNegativeInteger;   '1'
            maxOccurs       CDATA                  #IMPLIED
            %anyAttrs;&gt;

&lt;!-- namespace is interpreted as follows:
                  ##any      - - any non-conflicting WFXML at all

                  ##other    - - any non-conflicting WFXML from namespace other
                                  than targetNamespace

                  ##local    - - any unqualified non-conflicting WFXML/attribute
                  one or     - - any non-conflicting WFXML from
                  more URI        the listed namespaces
                  references

                  ##targetNamespace may appear in the above list, with the
                   obvious meaning --&gt;

&lt;!ELEMENT %anyAttribute; (%annotation;)?&gt;
&lt;!ATTLIST %anyAttribute;
            namespace    CDATA   '##any'
            %anyAttributeAttrs;&gt;
&lt;!-- namespace is interpreted as for 'any' above --&gt;

&lt;!-- simpleType only if no type|ref attribute --&gt;
&lt;!-- ref not allowed at top level, name iff at top level --&gt;
&lt;!ELEMENT %attribute; ((%annotation;)?, (%simpleType;)?)&gt;
&lt;!ATTLIST %attribute;
          name      %NCName;      #IMPLIED
          id        ID            #IMPLIED
          ref       %QName;       #IMPLIED
          type      %QName;       #IMPLIED
          use       (prohibited|optional|required|fixed|default) #IMPLIED
          value     CDATA         #IMPLIED
          form      %formValues;  #IMPLIED
          %attributeAttrs;&gt;
&lt;!-- type and ref are mutually exclusive.
     name and ref are mutually exculsive, one is required --&gt;
&lt;!-- value only if use is fixed, required or default, or name --&gt;
&lt;!-- name and use are mutually exclusive --&gt;
&lt;!-- default for use is optional when nested, none otherwise --&gt;
&lt;!-- type attr and simpleType content are mutually exclusive --&gt;

&lt;!-- an attributeGroup is a named collection of attribute decls, or a
     reference thereto --&gt;
&lt;!ELEMENT %attributeGroup; ((%annotation;)?,
                       (%attribute; | %attributeGroup;)*,
                       (%anyAttribute;)?) &gt;
&lt;!ATTLIST %attributeGroup;
                 name       %NCName;       #IMPLIED
                 id         ID             #IMPLIED
                 ref        %QName;        #IMPLIED
                 %attributeGroupAttrs;&gt;

&lt;!-- ref iff no content, no name.  ref iff not top level --&gt;

&lt;!-- better reference mechanisms --&gt;
&lt;!ELEMENT %unique; ((%annotation;)?, %selector;, (%field;)+)&gt;
&lt;!ATTLIST %unique; name     %NCName;       #REQUIRED
                   id       ID             #IMPLIED
                   %uniqueAttrs;&gt;

&lt;!ELEMENT %key;    ((%annotation;)?, %selector;, (%field;)+)&gt;
&lt;!ATTLIST %key;    name     %NCName;       #REQUIRED
                   id       ID             #IMPLIED
                   %keyAttrs;&gt;

&lt;!ELEMENT %keyref; ((%annotation;)?, %selector;, (%field;)+)&gt;
&lt;!ATTLIST %keyref;
                   name     %NCName;       #REQUIRED
                   id       ID             #IMPLIED
                   refer    %QName;        #REQUIRED
                   %keyrefAttrs;&gt;

&lt;!ELEMENT %selector; (#PCDATA)&gt;
&lt;!ELEMENT %field; (#PCDATA)&gt;

&lt;!-- Schema combination mechanisms --&gt;
&lt;!ELEMENT %include; (%annotation;)?&gt;
&lt;!ATTLIST %include; schemaLocation %URIref; #REQUIRED
                    %includeAttrs;&gt;

&lt;!ELEMENT %import; (%annotation;)?&gt;
&lt;!ATTLIST %import; namespace      %URIref; #IMPLIED
                   schemaLocation %URIref; #IMPLIED
                   %importAttrs;&gt;

&lt;!ELEMENT %notation; (%annotation;)?&gt;
&lt;!ATTLIST %notation;
                 name        %NCName;    #REQUIRED
                 id          ID          #IMPLIED
                 public      CDATA       #REQUIRED
                 system      %URIref;    #IMPLIED
                 %notationAttrs;&gt;

&lt;!NOTATION XMLSchemaStructures PUBLIC 'structures'
           'http://www.w3.org/1999/XMLSchema.xsd' &gt;
&lt;!NOTATION XML PUBLIC 'REC-xml-1998-0210'
               'http://www.w3.org/TR/1998/REC-xml-19980210' &gt;
</pre>
</div>
<div class="div1">
<h2>
<a name="normative-glossary"></a>C Glossary (normative) *</h2>

<blockquote>
<p>
<b>Ed. Note: </b>
The Glossary has barely been started. An XSL macro will be used to
collect definitions from throughout the spec and gather them here for easy
reference.
</p>
</blockquote>

<dl>

<dt>
<b>abstract syntax</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-abstractSyntax">[Definition:]&nbsp;&nbsp;</a>the<b>abstract
syntax</b> of the XML Schema Definition Language is ...</span>
</dd>


<dt>
<b>aggregate datatype</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-aggregateDatatype">[Definition:]&nbsp;&nbsp;</a>an
<b>aggregate datatype</b> is</span>
</dd>


<dt>
<b>type</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-type">[Definition:]&nbsp;&nbsp;</a>an <b>type</b>
is</span>
</dd>


<dt>
<b>type reference</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-typeReference">[Definition:]&nbsp;&nbsp;</a>an
<b>type reference</b> is</span>
</dd>


<dt>
<b>'all' content model group</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-all">[Definition:]&nbsp;&nbsp;</a>the
<b>'all' content model group</b> is</span>
</dd>


<dt>
<b>'any' content</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-anyContent">[Definition:]&nbsp;&nbsp;</a>the
<b>'any' content</b> specification ...</span>
</dd>


<dt>
<b>atomic datatype</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-atomicDatatype">[Definition:]&nbsp;&nbsp;</a>an <b>atomic
datatype</b> is</span>
</dd>


<dt>
<b>attribute</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-attribute">[Definition:]&nbsp;&nbsp;</a>an <b>attribute</b>
is</span>
</dd>


<dt>
<b>attribute group</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-attributeGroup">[Definition:]&nbsp;&nbsp;</a>an <b>attribute
group</b> is</span>
</dd>


<dt>
<b>'choice' content model group</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-choice">[Definition:]&nbsp;&nbsp;</a>the
<b>'choice' content model group</b> is</span>
</dd>


<dt>
<b>composition</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-composition">[Definition:]&nbsp;&nbsp;</a><b>composition</b>
is</span>
</dd>


<dt>
<b>concrete syntax</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-concreteSyntax">[Definition:]&nbsp;&nbsp;</a>the <b>concrete
syntax</b> is</span>
</dd>


<dt>
<b>constraint</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-constraint">[Definition:]&nbsp;&nbsp;</a>a <b>constraint</b>
is</span>
</dd>


<dt>
<b>content</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-content">[Definition:]&nbsp;&nbsp;</a><b>content</b> is</span>

</dd>


<dt>
<b>context</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-context">[Definition:]&nbsp;&nbsp;</a>a <b>context</b>
is</span>
</dd>


<dt>
<b>datatype</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-datatype">[Definition:]&nbsp;&nbsp;</a>an <b>datatype</b>
is</span>
</dd>


<dt>
<b>datatype reference</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-datatypeReference">[Definition:]&nbsp;&nbsp;</a>an
<b>datatype reference</b> is</span>
</dd>


<dt>
<b>default value</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-defaultValue">[Definition:]&nbsp;&nbsp;</a>a <b>default
value</b> is</span>
</dd>


<dt>
<b>document</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-document">[Definition:]&nbsp;&nbsp;</a>a <b>document</b>
is</span>
</dd>


<dt>
<b>element</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-element">[Definition:]&nbsp;&nbsp;</a>an <b>element</b>
is</span>
</dd>


<dt>
<b>element content</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-elementContent">[Definition:]&nbsp;&nbsp;</a><b>element
content</b> is</span>
</dd>


<dt>
<b>element reference</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-elementTypeReference">[Definition:]&nbsp;&nbsp;</a>an
<b>element reference</b> is</span>
</dd>


<dt>
<b>'empty' content</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-emptyContent">[Definition:]&nbsp;&nbsp;</a>the
<b>'empty' content</b> specification ...</span>
</dd>


<dt>
<b>export</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-schemaExport">[Definition:]&nbsp;&nbsp;</a>to <b>export</b>
is</span>
</dd>


<dt>
<b>export control</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-exportControl">[Definition:]&nbsp;&nbsp;</a>an <b>export
control</b></span>
</dd>


<dt>
<b>external entity</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-externalEntity">[Definition:]&nbsp;&nbsp;</a>an <b>external
entity</b> is</span>
</dd>


<dt>
<b>facet</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-facet">[Definition:]&nbsp;&nbsp;</a>a <b>facet</b> is</span>

</dd>


<dt>
<b>fixed value</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-fixedValue">[Definition:]&nbsp;&nbsp;</a>a <b>fixed
value</b></span>
</dd>


<dt>
<b>fragment</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-fragment">[Definition:]&nbsp;&nbsp;</a>a <b>fragment</b>
is</span>
</dd>


<dt>
<b>import</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-schemaImport">[Definition:]&nbsp;&nbsp;</a>to <b>import</b>
is</span>
</dd>


<dt>
<b>include</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-schemaInclude">[Definition:]&nbsp;&nbsp;</a>to <b>include</b>
is</span>
</dd>


<dt>
<b>information set</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-infoSet">[Definition:]&nbsp;&nbsp;</a>an <b>information
set</b> is</span>
</dd>


<dt>
<b>instance</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-instance">[Definition:]&nbsp;&nbsp;</a>an <b>instance</b>
is</span>
</dd>


<dt>
<b>markup</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-markup">[Definition:]&nbsp;&nbsp;</a><b>markup</b> is</span>

</dd>


<dt>
<b>'mixed' content</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-mixedContent">[Definition:]&nbsp;&nbsp;</a>the
<b>'mixed' content</b> specification ...</span>
</dd>


<dt>
<b>model</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-model">[Definition:]&nbsp;&nbsp;</a>a <b>model</b> is</span>

</dd>


<dt>
<b>model group</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-modelGroup">[Definition:]&nbsp;&nbsp;</a>a <b>model group</b>
is</span>
</dd>


<dt>
<b>model group reference </b>
</dt>
<dd>
<span class="termdef"><a name="gloss-modelGroupReference">[Definition:]&nbsp;&nbsp;</a>a
<b>model group reference</b> is</span>
</dd>

 
  <dt>
<b>null</b>
</dt>
  <dd>
   <span class="termdef"><a name="key-null">[Definition:]&nbsp;&nbsp;</a>A distinguished value for properties of schema components in the
abstract schema data model whose value is absent.</span>
  </dd>
 

<dt>
<b>RUE</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-RUE">[Definition:]&nbsp;&nbsp;</a><b>RUE</b> is short for
<i>reference to undefined entity information item</i> as defined in
<a href="#ref-xmlinfo">[XML-Infoset]</a></span>
</dd>


<dt>
<b>NCName</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-NCName">[Definition:]&nbsp;&nbsp;</a>an <b>NCName</b> is a name
with no colon, as defined in
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>. Appears in all the definition and
declaration productions of this specification.</span> 
</dd>


<dt>
<b>QName</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-QName">[Definition:]&nbsp;&nbsp;</a>a <b>QName</b> is a name
with an optional namespace qualification, as defined in
<a href="#ref-xml-namespaces">[XML-Namespaces]</a>. When used in connection with the XML
representation of schema components in this specification, this refers to the
simple type <a class="xtermref" href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes#QName">QName</a> as defined in <a href="#ref-xsp2">[XML Schemas: Datatypes]</a>.</span> 
</dd>


<dt>
<b>namespace</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-namespace">[Definition:]&nbsp;&nbsp;</a>a <b>namespace</b>
is</span>
</dd>


<dt>
<b>notation</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-notation">[Definition:]&nbsp;&nbsp;</a>a <b>notation</b>
is</span>
</dd>


<dt>
<b>object model</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-objectModel">[Definition:]&nbsp;&nbsp;</a>an <b>object
model</b> is</span>
</dd>


<dt>
<b>occurrence</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-occurrence">[Definition:]&nbsp;&nbsp;</a><b>occurrence</b>
is</span>
</dd>


<dt>
<b>parameter entity</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-parameterEntity">[Definition:]&nbsp;&nbsp;</a>a
<b>parameter entity</b> is</span>
</dd>


<dt>
<b>preamble</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-schemaPreamble">[Definition:]&nbsp;&nbsp;</a>a <b>preamble</b>
is</span>
</dd>


<dt>
<b>presence</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-presence">[Definition:]&nbsp;&nbsp;</a><b>presence</b>
is</span>
</dd>


<dt>
<b>refinement</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-refinement">[Definition:]&nbsp;&nbsp;</a><b>refinement</b>
is</span>
</dd>


<dt>
<b>document root</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-documentRoot">[Definition:]&nbsp;&nbsp;</a>the <b>document
root</b> is ...</span>
</dd>


<dt>
<b>scope</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-scope">[Definition:]&nbsp;&nbsp;</a><b>scope</b> is</span>
</dd>


<dt>
<b>'sequence' content model group </b>
</dt>
<dd>
<span class="termdef"><a name="gloss-sequenceGroup">[Definition:]&nbsp;&nbsp;</a>the <b>'sequence' content model
group</b> is</span>
</dd>


<dt>
<b>structure</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-structure">[Definition:]&nbsp;&nbsp;</a><b>structure</b>
is</span>
</dd>


<dt>
<b>symbol space</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-symbolSpace">[Definition:]&nbsp;&nbsp;</a>a <b>symbol
space</b> is</span>
</dd>


<dt>
<b>text entity</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-parsedEntity">[Definition:]&nbsp;&nbsp;</a>a <b>parsed
entity</b> is</span>
</dd>


<dt>
<b>unparsed entity</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-unparsedEntity">[Definition:]&nbsp;&nbsp;</a>an <b>unparsed
entity</b> is</span>
</dd>


<dt>
<b>validation</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-validation">[Definition:]&nbsp;&nbsp;</a><b>validation</b>
is</span>
</dd>


<dt>
<b>vocabulary</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-vocabulary">[Definition:]&nbsp;&nbsp;</a>a <b>vocabulary</b>
is</span>
</dd>


<dt>
<b>well-formedness</b>
</dt>
<dd>
<span class="termdef"><a name="gloss-wellFormedness">[Definition:]&nbsp;&nbsp;</a><b>well-formedness</b> is</span>
</dd>

</dl>
</div>
<div class="div1">
<h2>
<a name="normative-references"></a>D References (normative) *</h2>
<dl>
 <dt>
<b><a name="bib-camb-comm">Cambridge Communiqu&eacute;</a></b>
</dt>
<dd>
<i>The
Cambridge Communiqu&eacute;</i>, Ralph Swick
and Henry S. Thompson, editors, 7 October 1999.  See <a href="http://www.w3.org/TR/schema-arch">http://www.w3.org/TR/schema-arch</a>
</dd>
<dt>
<b><a name="ref-dcd">DCD</a></b>
</dt>
<dd> <i>Document
Content Description for XML (DCD)</i>, Tim Bray et al. W3C, 10 August 1998.
See <a href="http://www.w3.org/TR/NOTE-dcd">http://www.w3.org/TR/NOTE-dcd
</a> </dd>
<dt>
<b><a name="ref-ddml">DDML</a></b>
</dt>
<dd> <i>Document
Definition Markup Language</i>. See
<a href="http://www.w3.org/TR/NOTE-ddml">http://www.w3.org/TR/NOTE-ddml
</a> </dd>
 <dt>
<b><a name="bib-expo">XML Schema: Primer</a></b>
</dt>
<dd>
<i>XML Schema:
Primer</i>, David C. Fallside, ed.  See <a href="http://www.w3.org/TR/2000/WD-xmlschema-0-20000407/primer.html">http://www.w3.org/TR/2000/WD-xmlschema-0-20000407/primer.html</a>
</dd>
<dt>
<b><a name="ref-html-4">HTML-4</a></b>
</dt>
<dd> <i>HTML 4.0
Specification</i>, Dave Raggett et al. W3C, 1998. See
<a href="http://www.w3.org/TR/REC-html40/">http://www.w3.org/TR/REC-html40/</a> </dd>
<dt>
<b><a name="ref-iso-11404">ISO-11404</a></b>
</dt>
<dd> <i>ISO
11404 -- Information Technology -- Programming Languages, their environments
and system software interfaces -- Language-independent datatypes</i>,
ISO/IEC 11404:1996(E).</dd>
<dt>
<b><a name="ref-iso-1808">RFC-1808</a></b>
</dt>
<dd> RFC
1808,<i>Relative Uniform Resource Locators</i>. Internet Engineering Task
Force. See <a href="http://www.ietf.org/rfc/rfc1808.txt">http://www.ietf.org/rfc/rfc1808.txt
</a> </dd>
<dt>
<b><a name="ref-sox">SOX</a></b>
</dt>
<dd> <i>Schema for
Object-oriented XML</i>, Matt Fuchs, et al. W3C, 1998. See
<a href="http://www.w3.org/Submission/1998/15/">http://www.w3.org/Submission/1998/15/
</a> </dd>
<dt>
<b><a name="ref-sox-1.1">SOX-1.1</a></b>
</dt>
<dd> <i>Schema
for Object-oriented XML</i>, Version 1.1, Matt Fuchs, et al. W3C, 1999. See
???</dd>
<dt>
<b><a name="ref-uri">URI</a></b>
</dt>
<dd> <i>Uniform
Resource Identifiers (URI): Generic Syntax and Semantics</i>. See
<a href="http://www.ics.uci.edu/~fielding/url/draft-fielding-uri-syntax-01.txt">http://www.ics.uci.edu/~fielding/url/draft-fielding-uri-syntax-01.txt</a> </dd>
<dt>
<b><a name="ref-url">URL</a></b>
</dt>
<dd> RFC
1738,<i>Uniform Resource Locators (URL)</i>. Internet Engineering Task
Force. See <a href="http://www.ietf.org/rfc/rfc1738.txt">http://www.ietf.org/rfc/rfc1738.txt
</a> </dd>
<dt>
<b><a name="ref-urn">URN</a></b>
</dt>
<dd> RFC 2141,<i>URN
Syntax</i>. Internet Engineering Task Force. See
<a href="http://www.ietf.org/rfc/rfc2141.txt">http://www.ietf.org/rfc/rfc2141.txt
</a> </dd>
<dt>
<b><a name="ref-wai-pageauth">WAI-PAGEAUTH</a></b>
</dt>
<dd>
<i>WAI Accessibility Guidelines: Page Authoring</i>, Gregg Vanderheiden
et al. W3C, 14-Apr-1998. See <a href="http://www.w3.org/TR/WAI-WEBCONTENT/">http://www.w3.org/TR/WAI-WEBCONTENT/</a> </dd>
<dt>
<b><a name="ref-webarch-extlang">WEBARCH-EXTLANG</a></b>
</dt>
<dd> <i>Web Architecture: Extensible Languages</i>, Tim
Berners-Lee and Dan Connolly. W3C, 10 Feb 1998. See
<a href="http://www.w3.org/TR/NOTE-webarch-extlang">http://www.w3.org/TR/NOTE-webarch-extlang
</a> </dd>
<dt>
<b><a name="ref-websgml">WEBSGML</a></b>
</dt>
<dd>
<i>Proposed TC for WebSGML Adaptations for SGML</i>, C. F. Goldfarb, ed.,
14 June 1997. See <a href="http://www.sgmlsource.com/8879rev/n1929.htm">http://www.sgmlsource.com/8879rev/n1929.htm
</a> </dd>
<dt>
<b><a name="ref-xsp2">XML Schemas: Datatypes</a></b>
</dt>
<dd>
<i>XML Schema Part 2: Datatypes</i>, Paul V. Biron and Ashok
Malhotra, eds.  See <a href="http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html">http://www.w3.org/TR/2000/WD-xmlschema-2-20000407/datatypes.html</a> </dd>
<dt>
<b><a name="ref-xsreq">XML Schema Requirements</a></b>
</dt>
<dd>
<i>XML Schema Requirements </i>, Ashok Malhotra and Murray Maloney, ed.,
W3C, 15 February 1999. See <a href="http://www.w3.org/TR/NOTE-xml-schema-req">http://www.w3.org/TR/NOTE-xml-schema-req
</a> </dd>
<dt>
<b><a name="ref-xdr">XDR</a></b>
</dt>
<dd> <i>XML-Data
Reduced</i>, Frankston, Charles, and Henry S. Thompson, ed. See
<a href="http://www.ltg.ed.ac.uk/~ht/XMLData-Reduced.htm">http://www.ltg.ed.ac.uk/~ht/XMLData-Reduced.htm
</a> </dd>
<dt>
<b><a name="ref-xlink">XLink</a></b>
</dt>
<dd> <i>XML Linking
Language (XLink)</i>, Eve Maler and Steve DeRose, W3C, 3 March 1998. See
<a href="http://www.w3.org/TR/xlink/">http://www.w3.org/TR/WD-xlink</a>
</dd>
<dt>
<b><a name="ref-xml">XML</a></b>
</dt>
<dd> <i>Extensible
Markup Language (XML) 1.0</i>, Tim Bray, et al. W3C, 10 February 1998. See
<a href="http://www.w3.org/TR/REC-xml">http://www.w3.org/TR/REC-xml</a>
</dd>
<dt>
<b><a name="ref-xsl">XSLT</a></b>
</dt>
<dd> <i>Extensible
Stylesheet Language Transformations</i>, James Clark, W3C, 21 April 1999.
See <a href="http://www.w3.org/TR/1999/WD-xslt-19990421">http://www.w3.org/TR/1999/WD-xslt-19990421</a>
</dd>
<dt>
<b><a name="ref-xml-data">XML-Data</a></b>
</dt>
<dd>
<i>XML-Data</i>, Andrew Layman, et al. W3C, 05 January 1998. See
<a href="http://www.w3.org/TR/1998/NOTE-XML-data-0105/">http://www.w3.org/TR/1998/NOTE-XML-data-0105/</a> </dd>
<dt>
<b><a name="ref-xmlinfo">XML-Infoset</a></b>
</dt>
<dd>XML Information Set (public WD),
David Megginson et al., W3C, 1999. See
<a href="http://www.w3.org/TR/xml-infoset">http://www.w3.org/TR/xml-infoset</a>
</dd>
<dt>
<b><a name="ref-xml-namespaces">XML-Namespaces</a></b>
</dt>
<dd>
Namespaces in XML, Tim Bray et al., W3C, 1998. See
<a href="http://www.w3.org/TR/REC-xml-names/">http://www.w3.org/TR/WD-xml-names/</a> </dd>
<dt>
<b><a name="ref-xpointer">XPointer</a></b>
</dt>
<dd> <i>XML
Pointer Language (XPointer)</i>, Eve Maler and Steve DeRose, W3C, 3 March
1998. See <a href="http://www.w3.org/TR/xptr">http://www.w3.org/TR/xptr</a> </dd>
 <dt>
<b><a name="bib-xpath">XPath</a></b>
</dt>
<dd>
<i>XML Path Language</i>, James Clark
and Steve DeRose, editors, 16 November 1999.  See <a href="http://www.w3.org/TR/xpath">http://www.w3.org/TR/xpath</a>
</dd>
<dt>
<b><a name="ref-xschema">XSchema</a></b>
</dt>
<dd> <i>XSchema
Specification</i>, Simon St. Laurent, Ronald Bourret, John Cowan, et al.,
Version 1.0, Draft, 18 October 1998. See
<a href="http://www.simonstl.com/xschema/spec/xscspecv4.htm">http://www.simonstl.com/xschema/spec/xscspecv4.htm
</a> For more general information, consult
<a href="http://purl.oclc.org/NET/xschema">http://purl.oclc.org/NET/xschema
</a> </dd>
</dl>
</div>
 <div class="div1">
  <h2>
<a name="non-ambig"></a>E (non-normative) Analysis of the Unique Particle Attribution constraint</h2>
  <p>A specification of the import of <a href="#cos-nonambig">Unique Particle Attribution (&sect;5.7)</a> which does
not appeal to a processing model is difficult.  What follows is intended as
guidance, without claiming to be complete.</p>
   <p>
<span class="termdef"><a name="key-overlap">[Definition:]&nbsp;&nbsp;</a>We say that two non-group
particles <b>overlap</b> if </span>
   </p>
<ul>
    <li>
     They are both element declaration particles whose declarations have the
same <a href="#e-name">{name}</a> and <a href="#e-target_namespace">{target namespace}</a>
    </li>
   </ul>
<p>
    or
    </p>
<ul>
    <li>
     They are both element declaration particles one of which is in the other's <a href="#key-eq">equivalence class</a>
    </li>
   </ul>
<p>
    or
    </p>
<ul>
     <li>
      They are both wildcards, and the intensional intersection of their <a href="#namespace_constraint">{namespace constraint}</a>s as defined
in <a href="#cos-aw-intersect">Attribute Wildcard Intersection (&sect;5.4)</a> is not the empty set
     </li>
    </ul>
<p>
    or
    </p>
<ul>
     <li>
      One is a wildcard and the other an element declaration, and the
<a href="#e-target_namespace">{target namespace}</a> of the element declaration, or of any
member of its <a href="#key-eq">equivalence class</a>, is schema-valid with respect to the <a href="#namespace_constraint">{namespace constraint}</a> of the wildcard.
     </li>
    </ul>
<p>
   </p>
   <p>A content model will violate the unique attribution constraint if it
contains two particles which <a href="#key-overlap">overlap</a> and which either
    </p>
<ul>
     <li>
      are both in the <a href="#particles">{particles}</a> of a <i>choice</i> or
<i>all</i> group
     </li>
    </ul>
<p>
    or
    </p>
<ul>
     <li>
      may schema-validate adjacent information items and the first has
<a href="#p-min_occurs">{min occurs}</a> less than <a href="#p-max_occurs">{max occurs}</a>
     </li>
    </ul>
<p>
   </p>
   <p>Two particles may validate adjacent information items if they are
separated by at most epsilon transitions in the most obvious transcription of a
content model into a finite-state automaton.</p>
 </div>
<div class="div1">
<h2>
<a name="acknowledgments"></a>F Acknowledgements (non-normative)</h2>
 <p>The following have contributed material to this draft:</p>
 <ul>
  <li>David Fallside, IBM</li>
  <li>Scott Lawrence, Agranat Systems</li>
  <li>Andrew Layman, Microsoft</li>
  <li>Eve L. Maler, Sun Microsystems</li>
 </ul>
<p>The editors acknowledge the members of the XML Schema Working Group, the members of other W3C Working Groups, and industry experts in other
forums who have contributed directly or indirectly to the process or content of
creating this document. The Working Group is particularly grateful to Lotus
Development Corp. and IBM for providing teleconferencing facilities.</p>
 <p>The current members of the XML Schema Working Group are:</p>
Jim Barnette, Defense Information Systems Agency (DISA); David Beech, Oracle Corp.; Paul V. Biron, Health Level Seven; Don Box, DevelopMentor; Allen Brown, Microsoft; Lee Buck, Extensibility; Charles E. Campbell, Informix; Peter Chen, Bootstrap Alliance and LSU; David Cleary, Progress Software; Dan Connolly, W3C (staff contact); Roger L. Costello, MITRE; Ugo Corda, Xerox; Andrew Eisenberg, Progress Software; David Ezell, Hewlett Packard Company; David Fallside, IBM; Matthew Fuchs, Commerce One; Andrew Goodchild, Distributed Systems Technology Centre (DSTC Pty Ltd); Paul Grosso, ArborText, Inc; Martin Gudgin, DevelopMentor; Dave Hollander, CommerceNet (co-chair); Mary Holstege, Calico Commerce; Jane Hunter, Distributed Systems Technology Centre (DSTC Pty Ltd); Rick Jelliffe, Academia Sinica; Andrew Layman, Microsoft; Dmitry Lenkov, Hewlett Packard Company; Eve Maler, Sun Microsystems; Ashok Malhotra, IBM; Murray Maloney, Commerce One; John McCarthy, Lawrence Berkeley National Laboratory; Noah Mendelsohn, Lotus Development Corporation; Don Mullen, Extensibility; Frank Olken, Lawrence Berkeley National Laboratory; Dave Peterson, Graphic Communications Association; Mark Reinhold, Sun Microsystems; Jonathan Robie, Software AG; John C. Schneider, MITRE; Lew Shannon, NCR; C. M. Sperberg-McQueen, W3C (co-chair); Bob Streich, Calico Commerce; Henry S. Thompson, University of Edinburgh; Matt Timmermans, Microstar; Jim Trezzo, Oracle Corp.; Steph Tryphonas, Microstar; Mark Tucker, Health Level Seven; Asir S. Vedamuthu, webMethods, Inc; Priscilla Walmsley, XMLSolutions; Norm Walsh, ArborText, Inc; Aki Yoshida, SAP AG
 <p>The XML Schema Working Group has benefited in its work from the
participation and contributions of a number of people not currently
members of the Working Group, including
in particular those named below.  Affiliations given are those current at
the time of their work with the WG.
</p>
 Paula Angerstein, Vignette Corporation; Gabe Beged-Dov, Rogue Wave Software; Greg Bumgardner, Rogue Wave Software; Dean Burson, Lotus Development Corporation; Rob Ellman, Calico Commerce; George Feinberg, Object Design; Charles Frankston, Microsoft; Ernesto Guerrieri, Inso; Michael Hyman, Microsoft; Renato Iannella, Distributed Systems Technology Centre (DSTC Pty Ltd); Dianne Kennedy, Graphic Communications Association; Janet Koenig, Sun Microsystems; Setrag Khoshafian, Technology Deployment International (TDI); Ara Kullukian, Technology Deployment International (TDI); Murata Makoto, Xerox; Chris Olds, Wall Data; Shriram Revankar, Xerox; William Shea, Merrill Lynch; Ralph Swick, W3C; Tony Stewart, Rivcom
</div>
<div class="div1">
<h2>
<a name="section-Tabulation-of-changes"></a>G Tabulation of changes</h2>
<pre>

$Log: not supported by cvs2svn $
Revision 1.1  2000/09/27 23:25:52  mhucka
First check-in.

Revision 1.1  2000/08/16 19:10:50  mhucka
Initial revision.

Revision 1.82.2.11  2000/04/07 21:55:09  ht
balance parens

Revision 1.82.2.10  2000/04/07 21:44:33  ht
entity typo

Revision 1.82.2.9  2000/04/07 21:33:28  ht
xspecref-&gt;xtermref, fix mailto

Revision 1.82.2.8  2000/04/07 16:53:35  ht
arghh, typo in fix

Revision 1.82.2.7  2000/04/07 16:52:23  ht
more quoted links

Revision 1.82.2.6  2000/04/07 16:11:31  ht
typo

Revision 1.82.2.5  2000/04/07 16:03:52  ht
quoted link cleanup, hugo comments handled, status para fixed.

Revision 1.82.2.4  2000/04/07 14:51:18  ht
two link bugs

Revision 1.82.2.3  2000/04/07 14:39:24  ht
spelling corrections

Revision 1.82.2.2  2000/04/07 13:45:58  ht
new ,txt files

Revision 1.82.2.1  2000/04/07 10:43:20  ht
start towards public version for last call, merge last publication work branch

Revision 1.82  2000/04/06 16:35:44  aqw
wg version for last call,
implement nullable decision, 224 decision

Revision 1.81  2000/04/06 14:08:54  aqw
last lap for last call, noah comments done

Revision 1.80  2000/04/02 22:54:40  aqw
last call version

Revision 1.78  2000/03/31 18:47:46  aqw
preliminary 208

Revision 1.77  2000/03/31 13:41:12  aqw
working on 208, attr attrs

Revision 1.76  2000/03/30 18:44:24  aqw
lots of edits: Michael, David B, Noah

Revision 1.75  2000/03/18 23:29:02  ht
typos, minor fixes

Revision 1.74  2000/03/18 22:20:19  aqw
finished Chapter 6

Revision 1.71  2000/03/18 15:43:05  aqw
top-level attr decls in,
particles simplified to have copy of global rather than copy of bits

Revision 1.70  2000/03/18 11:08:25  aqw
working on top-level attr decl

Revision 1.69  2000/03/17 14:50:52  aqw
starting on top-level attr decls

Revision 1.68  2000/03/17 12:10:55  aqw
typo in id constraints,
better handling of anyAttr in extension, restriction,
copy down attributes when deriving at XML repr level

Revision 1.67  2000/03/16 15:09:32  aqw
Basic error and outcome work now in place

Revision 1.66  2000/03/16 10:42:47  aqw
Finished Chapter 5

Revision 1.65  2000/03/16 08:52:19  bu
change equiv-class-ancestor to equiv-class

Revision 1.64  2000/03/15 18:42:29  aqw
Chapter 5 now clean through 5.12, most of 5.13

Revision 1.61  2000/03/15 12:46:46  aqw
working through (new) Chapter 5 cleaning up

Revision 1.60  2000/03/15 11:04:47  aqw
extract and reorder coss to be new chapter 5

Revision 1.59  2000/03/14 14:55:59  ht
change locus of exponent in RecurseAsIfGroup restriction test case

Revision 1.58  2000/03/14 14:48:26  aqw
completed minimum pass on sections for model groups, wildcards, notations, annotations and identity constraints in Chapter 4, which is now minimally complete;
brought simple type definition component def closer in line with Pauls version

Revision 1.57  2000/03/13 17:58:37  aqw
srcs for attributeGroup, group

Revision 1.56  2000/03/11 22:08:32  bu
first pass at adding abstract schema itself

Revision 1.55  2000/03/11 16:00:22  aqw
start compdef for schema itself

Revision 1.54  2000/03/11 12:23:10  aqw
reproduction in, 4.3.1 cleaned

Revision 1.53  2000/03/11 11:26:23  aqw
update * to unbounded for maxOccurs, allow min=0 on &lt;all&gt;

Revision 1.52  2000/03/08 15:14:11  aqw
complete XML Repr of Complex Types, more work on coss-ct

Revision 1.51  2000/03/08 11:52:03  aqw
covered required attributes in complex restriction

Revision 1.50  2000/03/08 11:39:37  aqw
finished by-cases definition of valid particle restriction

Revision 1.49  2000/03/07 17:46:03  aqw
continue by-cases definition of valid particle restricton

Revision 1.48  2000/03/07 12:29:51  aqw
begin by-cases definition of valid particle restricton

Revision 1.47  2000/03/03 00:16:59  ht
return from restructure branch to main line post-pwd5

Revision 1.46.1.49  2000/03/03 00:10:22  ht
fold back in substantive aspects of pwd5 branch,
work on wildcard validation,
fix bug in particle validation of groups

Revision 1.46.1.48  2000/02/24 23:03:55  ht
fixed examples brutally
spell check
rushed through stubs for all propmaps

Revision 1.46.1.47  2000/02/24 21:42:27  ht
exact-&gt;value, work on groups

Revision 1.46.1.46  2000/02/24 12:28:05  ht
noah's most recent additions
work on attributes, make content type a particle, not a group (oops)

Revision 1.46.1.45  2000/02/23 18:08:54  ht
ur-type consistency
more on complex type in c6
stubs for all props in c6
derivationChoice/Set/exactSet fussing

Revision 1.46.1.44  2000/02/23 10:06:31  ht
integrate work from Noah on ur-type cleanup, ed note removal

Revision 1.46.1.43  2000/02/22 23:10:27  ht
try identity-c for reference-c

Revision 1.46.1.42  2000/02/22 17:51:30  ht
Handle some ednotes, remove some stale in-doc issues
turn the rhetoric for chapter 4 around, so elements in repr are on
top, elaborate the reprdef content model accordingly
Finish off (?) &lt;element&gt; and associated src and cos

Revision 1.46.1.41  2000/02/21 17:45:45  ht
add latest from Noah,
more structure in &lt;reprdef&gt; to allow one elt-&gt;many components

Revision 1.46.1.40  2000/02/18 19:05:17  ht
minor cleanup for Plenary notice,
start on &lt;element&gt; element,
rename source to base

Revision 1.46.1.39  2000/02/18 12:27:22  ht
work on XML repr of attributes, QName stuff
incorporate Eve's and Noah's edits of yesterday

Revision 1.46.1.38  2000/02/17 10:10:07  ht
integrated changes from eve,
added names to annotations property (oops)

Revision 1.46.1.37  2000/02/16 22:10:45  ht
add annotations to every component,
start seriously on Chapter 4

Revision 1.46.1.36  2000/02/16 13:24:53  ht
integrate (with minor mods) updates from eve,
full (but complex) spec. for keyref validation

Revision 1.46.1.35  2000/02/15 14:12:02  ht
merged in edits to c.1 from eve

Revision 1.46.1.34  2000/02/14 17:59:37  ht
some ref-constr work, cleaned up some ednotes

Revision 1.46.1.33.2.1  2000/02/15 13:44:11  ht
noah's contributions of 14 Feb

Revision 1.46.1.33  2000/02/14 14:51:12  ht
working on particles vs. equiv classes

Revision 1.46.1.32  2000/02/14 12:07:05  bu
cvcs for model group, particle and wildcard

Revision 1.46.1.31  2000/02/14 08:46:52  ht
more from Noah

Revision 1.46.1.30  2000/02/12 18:10:47  ht
noahs next edits integrated, responded to

Revision 1.46.1.29  2000/02/12 16:53:52  ht
got defaults sorted out for element decls

Revision 1.46.1.28  2000/02/11 12:56:00  aqw
Integrate from Noah, add comments, value constraint for complex types, clarify language about LDG

Revision 1.46.1.27  2000/02/11 11:03:06  ht
Noah working on element decl

Revision 1.46.1.26  2000/02/10 15:00:50  aqw
another pass over 3.2, finished I think

Revision 1.46.1.25  2000/02/10 11:11:47  ht
appropriate noah's additions

Revision 1.46.1.23  2000/02/09 16:32:06  aqw
update terminology per some f2f votes, begin working through chapter 3, add null processing to element decl

Revision 1.46.1.22  2000/02/08 23:20:24  ht
fix bogus eg embedding

Revision 1.46.1.21  2000/01/27 19:09:32  aqw
a bit more cleanup of composition chapter, everybody has at least stub
properties, got field and selectors in barely, lots more &lt;stale&gt;
wrapping.

Revision 1.46.1.20  2000/01/27 16:00:13  aqw
began to mark non-restructured sections, some cleanup of composition

Revision 1.46.1.19  2000/01/27 10:57:14  aqw
Michael's and Noah's general editorial suggestions
Try reference-constraint for key, unique, keyref

Revision 1.46.1.18  2000/01/26 23:18:30  aqw
example reprdef, full set of reprdef stubs

Revision 1.46.1.17  2000/01/26 13:12:16  aqw
Another minor reordering in chapter 2
Brief expositions added to each subsection in chapter 2
QName reference validation stuff

Revision 1.46.1.16  2000/01/25 22:29:38  bu
final cross-references added to Chapter 3 stubs, some sics

Revision 1.46.1.15  2000/01/25 17:45:11  aqw
some work on references/QNames

Revision 1.46.1.14  2000/01/25 16:13:50  aqw
restructuring for parallelism, with lots of stubs, now complete?

Revision 1.46.1.13  2000/01/24 18:06:22  aqw
more re-ordering of chapter 3, preliminary cvcs for attr and elt decls

Revision 1.46.1.12  2000/01/22 11:11:06  aqw
detail work on complex type def details

Revision 1.46.1.11  2000/01/20 17:40:01  aqw
working seriously on complex type defn details

Revision 1.46.1.10  2000/01/20 11:25:29  aqw
move simple type to end of each section
start work on complex type defn for real in Chap. 3
introduce &lt;eltref&gt;.

Revision 1.46.1.9  2000/01/19 17:10:18  aqw
remove all remaining scraps == abstract syntax
cosmetic changes in chap.1
begin adding more details in chap.3

Revision 1.46.1.8  2000/01/19 15:52:07  aqw
restructure compdef and reprdef for better control

Revision 1.46.1.7  2000/01/18 17:59:00  aqw
moving towards auto-generated paradigms

Revision 1.46.1.6  2000/01/15 18:13:20  aqw
revised approach to reprdef

Revision 1.46.1.5  2000/01/15 12:56:03  aqw
new chaps 2 and 3 complete in outline
Starting on 4.[attr grp defn] as prototype for XML repr spec

Revision 1.46.1.4  2000/01/12 23:02:17  ht
Moved component type details from Chap 2 to Chap 3

Revision 1.46.1.3  2000/01/12 21:18:22  ht
replaced [prop] with &lt;propdef&gt;, &lt;propref&gt; and &lt;xpropref&gt;

Revision 1.46.1.2  2000/01/12 18:04:37  aqw
Finished drastic pruning and rewrite of Chapter 2
Now propose to move all the formal definitions to the new Chapter 3:
Schema Components, with sections called e.g. Attribute Declarations:
details or some such

Revision 1.46.1.1  2000/01/12 12:44:56  aqw
begin major reorg: component exposition started

Revision 1.46  2000/01/10 11:57:56  aqw
Fold in non-publ-related changes in 19991217 publication version (1.45.1.6)
Experiment with moving major examples out-of-line

Revision 1.45.1.6  1999/12/17 16:14:53  ht
one more link

Revision 1.45.1.5  1999/12/17 15:35:47  ht
reorder prevloc

Revision 1.45.1.4  1999/12/17 14:50:25  ht
link fixes

Revision 1.45.1.3  1999/12/17 14:46:51  ht
additional status prose

Revision 1.45.1.2  1999/12/17 13:33:11  ht
PWD status prose and link fixes

Revision 1.45.1.1  1999/12/17 12:26:37  ht
towards PWD

Revision 1.45  1999/12/17 12:06:05  ht
eacute

Revision 1.44  1999/12/17 11:51:45  ht
make all example quotes double
some changes merged from pre-Nov-publ branch (1.15.1...)

Revision 1.43  1999/12/17 10:59:16  ht
minor fix in schema wrt keys

Revision 1.42  1999/12/16 15:48:08  ht
fix some refs, incorporate up-to-date schema and DTD

Revision 1.41  1999/12/16 15:40:05  aqw
describe exact, final and abstract on elements

Revision 1.40  1999/12/16 09:44:11  aqw
minor editorial

Revision 1.39  1999/12/14 16:22:46  aqw
various QName fixes

Revision 1.38  1999/12/10 18:01:42  ht
remove * where status has changed

Revision 1.37  1999/12/10 16:14:10  aqw
renaming attrGroup, elemOnly, integrate DTD and schema

Revision 1.36  1999/12/10 16:08:05  aqw
more on BRM, add an wildcard ambiguity issue

Revision 1.35  1999/12/10 10:07:35  ht
merge in new-design branch

Revision 1.34  1999/12/10 09:38:42  ht
minor orphan changes

Revision 1.33  1999/12/08 20:06:52  aqw
added prose for BRM

Revision 1.32  1999/12/03 15:49:25  ht
fix status text

Revision 1.31  1999/12/03 14:54:16  aqw
ht version confusion

Revision 1.30  1999/12/03 14:48:41  aqw
Outline inclusion of BRM proposal
Implemented QName aspect of composition decision

Revision 1.29.1.6  1999/12/08 20:04:26  aqw
describe impact of exact for equiv classes, remove substitutabiliity section

Revision 1.29.1.5  1999/12/06 23:15:09  ht
add stars, no standalone

Revision 1.29.1.4  1999/12/06 22:50:02  aqw
add equiv classes, up-to-date DTD and schema

Revision 1.29.1.3  1999/12/03 19:37:27  ht
Fill in 3.6.3, controlling derivation, including mod agreed with Allen
wrt type tolerance.

Revision 1.29.1.2  1999/12/03 15:55:38  aqw
cleanup new proposal stuff for preliminary release

Revision 1.29.1.1  1999/12/02 22:55:36  aqw
begin serious work on integrating new type derivation proposal

Revision 1.29  1999/12/02 19:05:00  aqw
resolve ! issue in &lt;any namespace='...'&gt; in favour of ##
remove private exploratory hierarchy rewrite

Revision 1.28  1999/12/02 11:36:27  aqw
merge in DTD and schema for internal point release

Revision 1.27  1999/12/02 11:09:36  aqw
composition tf integrates, validates nearly ok

Revision 1.26  1999/12/01 15:43:23  aqw
integrating composition tf . . .

Revision 1.25  1999/11/22 14:14:59  aqw
integrate tentative type construction compromise

Revision 1.24  1999/11/12 17:00:41  ht
Incorporate minimal null support

Revision 1.23  1999/11/11 11:19:11  ht
add issues per 1999-11-04 telcon vote

Revision 1.22  1999/11/11 11:11:51  ht
include dtd and schema

Revision 1.21.1.1  1999/11/22 14:03:55  aqw
try out type construction compromise

Revision 1.21  1999/11/05 00:48:14  aqw
note about status vis a vis forthcoming issues from minutes

Revision 1.20  1999/11/04 23:46:57  aqw
remove element classes per WG vote

Revision 1.19  1999/11/03 21:39:47  aqw
fix editors list and acks
typoes spotted by DBeech

Revision 1.18  1999/11/03 15:49:26  aqw
Implement chair's instructions wrt WG poll closed 1999-10-30:
 * re-integrate named model groups
 * change details of implicit openness
 * remove entities, not notations

Revision 1.17  1999/11/02 23:37:35  aqw
merge refinement proposal into mainline preparatory to implementing poll results


Revision 1.16  1999/11/02 21:32:25  aqw
remove entity definitions and related material (e.g. notations)

Revision 1.15  1999/10/27 13:28:58  ht
Fix some (all?) syntax paradigms, examples
Include bug-fixed .xsd and .dtd

Revision 1.14  1999/10/27 10:48:01  ht
Incorporate up-to-date schema and DTD, completing concrete syntax changes
Parameterise paths/dates to facilitate release process

Revision 1.13.1.15  1999/10/26 16:23:30  ht
a bit more on validity

Revision 1.13.1.14  1999/10/25 14:37:31  ht
Begin to try to fill in validity section on basis of
schema-valid(EII,type,schemaSet) minimalist approach

Revision 1.13.1.13  1999/10/19 18:42:13  ht
added xsd:type to text, changed status

Revision 1.13.1.12  1999/10/18 19:46:12  aqw
Added concrete syntax, prose and examples to 3.6, new section on the
hierarchy and restrictions

Revision 1.13.1.11  1999/10/18 15:28:16  aqw
Included lots in 3.5 and 3.6, editting it in to shape

Revision 1.13.1.10  1999/10/18 13:55:23  aqw
correct and corresponding DTD and Schema included
text from new design included in 3.5 and 3.6 for editting

Revision 1.13.1.9  1999/10/18 11:39:01  aqw
light pass over section 2, cleaning up 'type' terminology
minor fixups in 3.4

Revision 1.13.1.8  1999/10/17 22:05:19  aqw
first pass through 3.4 complete

Revision 1.13.1.7  1999/10/16 22:12:03  aqw
element classes

Revision 1.13.1.6  1999/10/16 19:02:51  aqw
attribute finished, also attrGroup

Revision 1.13.1.5  1999/10/16 17:53:28  aqw
finished (?) with complex types, on to attributes

Revision 1.13.1.4  1999/10/16 11:52:07  aqw
still working on complex type

Revision 1.13.1.3  1999/10/15 16:38:31  aqw
more work on 'type'

Revision 1.13.1.1  1999/10/15 11:46:18  ht
on the way to matching new refinement proposal

Revision 1.13  1999/10/09 10:49:40  ht
correct headline date

Revision 1.12  1999/10/05 09:56:19  ht
Preliminary implementation of A3 and A7 (ampConnector and richerMixed)
votes.  Moving towards a parallel syntax for elementDecl/Ref and
groupDefn/Ref.

Concrete syntax paradigms, examples, DTD and Schema NOT up-to-date

Revision 1.11  1999/09/27 16:31:07  ht
merge simple back to main branch

Revision 1.10.2.38  1999/09/27 16:29:02  ht
return to xmlschema-current as base

Revision 1.10.2.37  1999/09/24 16:40:22  ht
add comments archive pointer

Revision 1.10.2.36  1999/09/24 16:38:23  ht
link housekeeping, move TF reports bibliography to separate appendix

Revision 1.10.2.35  1999/09/24 13:44:27  ht
final (?) housekeeping before publication

Revision 1.10.2.34  1999/09/23 18:48:51  ht
changes to front matter in preparation for public WD
ponter to Simple TF included

Revision 1.10.2.33  1999/09/23 13:32:15  ht
up-to-date pointer to refinement TF report

Revision 1.10.2.32  1999/09/23 13:00:22  ht
typo in db entity

Revision 1.10.2.31  1999/09/23 12:59:04  ht
per suggestions from Ashok, some rewording of summary of Composition
TF, added issue regarding priority of instance-&gt;schema alternatives

Revision 1.10.2.30  1999/09/22 14:02:35  ht
typo in correction to 4.1

Revision 1.10.2.29  1999/09/22 13:58:39  ht
edits implementing Noah's comments

Revision 1.10.2.28  1999/09/22 08:07:07  ht
add verbatim change log at end
----------------------------
revision 1.10.2.27
date: 1999/09/21 16:26:11;  author: ht;  state: Exp;  lines: +4 -4
added Id: to title for now
----------------------------
revision 1.10.2.26
date: 1999/09/21 16:06:08;  author: ht;  state: Exp;  lines: +42 -244
replaced composition tf report with a summary and a pointer
----------------------------
revision 1.10.2.25
date: 1999/09/21 14:11:50;  author: aqw;  state: Exp;  lines: +495 -111
some dates, up-to-date DTD and Schema for schemas
----------------------------
revision 1.10.2.24
date: 1999/09/21 10:50:37;  author: ht;  state: Exp;  lines: +18 -3
supply missing content model for 'attribute' in concrete syntax
paradigm
----------------------------
revision 1.10.2.23
date: 1999/09/21 10:37:51;  author: aqw;  state: Exp;  lines: +21 -20
define/declare consistency pass
----------------------------
revision 1.10.2.22
date: 1999/09/20 13:08:36;  author: aqw;  state: Exp;  lines: +47 -49
track datatype content model changes,
minor wording
----------------------------
revision 1.10.2.21
date: 1999/09/16 14:55:17;  author: ht;  state: Exp;  lines: +136 -14
header disclaimer, graveyards rescued to discharge references
----------------------------
revision 1.10.2.20
date: 1999/09/16 14:25:01;  author: aqw;  state: Exp;  lines: +274 -1541
rip out all of 3.5, all of 4, install 'Draft Proposal' in 4
----------------------------
revision 1.10.2.19
date: 1999/09/16 12:08:59;  author: aqw;  state: Exp;  lines: +107 -143
Clean up import/include/export, references in particular
Add archetypeRef to content models, minimally
New example of datatype+attr
----------------------------
revision 1.10.2.18
date: 1999/09/15 22:06:29;  author: aqw;  state: Exp;  lines: +26 -3
Two clarifications following discussion with Andrew
1) what it would take to remove the two symbol spaces problem
2) How &lt;archetype&gt; allows either datatypeRef or contentType
----------------------------
revision 1.10.2.17
date: 1999/09/15 20:30:49;  author: aqw;  state: Exp;  lines: +114 -105
change date, incorporate edited dtd
----------------------------
revision 1.10.2.16
date: 1999/09/15 19:52:39;  author: aqw;  state: Exp;  lines: +90 -76
Encorporate/respond to Eve Maler's suggested edits
----------------------------
revision 1.10.2.15
date: 1999/09/13 16:14:12;  author: aqw;  state: Exp;  lines: +306 -335
Finish consistency pass through 3.4
Brutal 'element type' -&gt; element
----------------------------
revision 1.10.2.14
date: 1999/09/09 14:22:29;  author: aqw;  state: Exp;  lines: +53 -56
cleanup pass, down to 3.3
----------------------------
revision 1.10.2.13
date: 1999/09/08 18:23:47;  author: ht;  state: Exp;  lines: +41 -41
more type back to archetype
----------------------------
revision 1.10.2.12
date: 1999/09/08 18:03:06;  author: aqw;  state: Exp;  lines: +214 -216
put archetype back in, imperfectly, I expect
----------------------------
revision 1.10.2.11
date: 1999/09/07 21:50:36;  author: bu;  state: Exp;  lines: +124 -63
fix paradigm contexts, extend example, consolidate example in appendix
----------------------------
revision 1.10.2.10
date: 1999/09/07 16:54:39;  author: aqw;  state: Exp;  lines: +514 -521
syntax paradigms now properly distributed, I think
----------------------------
revision 1.10.2.9
date: 1999/09/07 15:53:06;  author: ht;  state: Exp;  lines: +5 -8
fixed minor validity errors
----------------------------
revision 1.10.2.8
date: 1999/09/07 15:31:58;  author: aqw;  state: Exp;  lines: +288 -285
working on integrating syntax paradigms
----------------------------
revision 1.10.2.7
date: 1999/09/07 09:44:57;  author: aqw;  state: Exp;  lines: +630 -33
added ALL concrete syntax boxes at once
----------------------------
revision 1.10.2.6
date: 1999/09/06 14:55:04;  author: ht;  state: Exp;  lines: +35 -2
added one e: syntax exposition
----------------------------
revision 1.10.2.5
date: 1999/09/02 15:28:27;  author: ht;  state: Exp;  lines: +6 -6
fix URLs for self, a bit
----------------------------
revision 1.10.2.4
date: 1999/09/02 12:53:34;  author: aqw;  state: Exp;  lines: +108 -95
Added not-status-quo marks, changed e.g. String to string
----------------------------
revision 1.10.2.3
date: 1999/09/01 17:02:14;  author: aqw;  state: Exp;  lines: +587 -977
integration of 2.3 from simple
more renaming
----------------------------
revision 1.10.2.2
date: 1999/08/23 15:32:16;  author: aqw;  state: Exp;  lines: +730 -248
Modified simple integration to give preliminary consistency
----------------------------
revision 1.10.2.1
date: 1999/08/22 17:44:40;  author: aqw;  state: Exp;  lines: +317 -260
Textual integration of Simple update of 1999-08-13
----------------------------
revision 1.10
date: 1999/07/20 19:47:27;  author: ht;  state: Exp;  lines: +5 -5
branches:  1.10.2;
fixed dates, dangling reference
----------------------------
revision 1.9
date: 1999/07/19 09:31:26;  author: ht;  state: Exp;  lines: +34 -38
David Beech: updated definition of "Schema" following WG and IG email
discussion.  Changed "Schemata" to "Schemas" except where directly
quoted from Requirements doc.  Clarified in 2.5 that elements and
attributes have separate symbol spaces (public comment).  Fixed
assorted typos.
----------------------------
revision 1.8
date: 1999/06/23 10:00:31;  author: aqw;  state: Exp;  lines: +1 -1
fix Id:
----------------------------
revision 1.7
date: 1999/06/23 09:51:15;  author: aqw;  state: Exp;  lines: +28 -28
Restrict content model of 'all' in schema and dtd, change entities for
point releases
----------------------------
revision 1.6
date: 1999/06/23 09:10:01;  author: aqw;  state: Exp;  lines: +147 -187
pushed &amp;amp; down to lowest level, fixed incoherent validity
definition in 6.2.3.7 to agree with the note which follows.  Wrapped
validation text from 3.4 in appropriately named div4's
----------------------------
revision 1.5
date: 1999/06/21 16:31:59;  author: aqw;  state: Exp;  lines: +569 -551
Really moved validity-oriented definitions to 6.3 (previous revision
was just housekeeping)
----------------------------
revision 1.4
date: 1999/06/21 16:25:21;  author: aqw;  state: Exp;  lines: +45 -36
moved validity-oriented definitions to 6.3
----------------------------
revision 1.3
date: 1999/06/21 12:25:21;  author: aqw;  state: Exp;  lines: +3540 -3650
Low-level: Normalise line ends, quotes
Editorial: Move all constraintnotes to new separate section
----------------------------
revision 1.2
date: 1999/05/27 14:13:54;  author: aqw;  state: Exp;  lines: +2 -2
fix stylesheet and dtd urls to local versions
----------------------------
revision 1.1
date: 1999/05/23 16:51:11;  author: ht;  state: Exp;
branches:  1.1.1;
Initial revision
</pre>
</div>
<div class="div1">
<h2>
<a name="openIssues"></a>H Open Issues</h2>
<p>A tabulation of open issues flagged above follows:</p>
</div>
</div>
<div class="issues">
<a class="issue" href="#dummy">dummy</a>
<br>
</div>
</body>
</html>
