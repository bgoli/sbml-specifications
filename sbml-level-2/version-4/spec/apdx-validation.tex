% -*- TeX-master: "sbml-level-2-version-4"; fill-column: 66 -*-
% $Id$
% $HeadURL$
% ----------------------------------------------------------------

% Helper macro for validation rules:
\newcommand{\sbmlrule}[1]{\item[#1.]\input{validation-rules/#1.tex}}

\section{Validation rules for SBML}
\label{apdx:validation-rules}

This section contains a summary of all the conditions that should
be true of a model, in addition to consistency with the XML
Schemas given in Appendixes~\ref{apdx:schema}
and~\ref{apdx:mathml-subset-schema}, for that model to considered
valid SBML.

%In the following rules and in the rules inherited from SBML Level
%2 Version 2 the operation ``simplify to" or ``defines variant of",
%that's applied to a unit definition implies a simplification. This
%simplification involves the replacement of a unit definition which
%contains references to other unit definitions with one that
%contains a minimal number of unit structures which reference only
%SI or builtin units.  For this operation the \token{modifier},
%\token{scale} and \token{offset} attributes are ignored i.e. we
%only consider the dimensions of units.   The operation proceeds
%first by recursively replacing each unit structure which refers to
%a unit definition with the content of the unit definition.  The
%exponent of the replaced unit structure is multiplied to all the
%replacing unit structures.  The recursion continues until all the
%unit structures refer to builtin or SI units.  The unit definition
%then further simplified by replacing sets of unit structures
%refering to the same builtin unit with a single unit definition
%with an exponent which is the sum of the exponents of the replaced
%unit definition. Any unit structures with an exponent of 0 are
%eliminated.  A unit definition which contains no unit structures
%at this stage has inserted a single unit structure refering to the
%\texttt{dimensionless} builtin unit. Simplified unit definitions
%containing \texttt{dimensionless} units with different unit
%attributes e.g. \token{exponent} are equivalent.

\subsection*{General XML validation} \begin{sbmlenum}

\sbmlrule{10101}
\sbmlrule{10102}
\sbmlrule{10103}

\end{sbmlenum} \subsection*{General MathML validation} \begin{sbmlenum}

\sbmlrule{10201}
\sbmlrule{10202}
\sbmlrule{10203}
\sbmlrule{10204}
\sbmlrule{10205}
\sbmlrule{10206}
\sbmlrule{10207}
\sbmlrule{10208}
\sbmlrule{10209}
\sbmlrule{10210}
\sbmlrule{10211}
\sbmlrule{10212}
\sbmlrule{10213}
\sbmlrule{10214}
\sbmlrule{10215}
\sbmlrule{10216}
\sbmlrule{10217}
\sbmlrule{10218}

% [2006-03-30 MH] Not sure how to encode the following concept, so
% I'm leaving it out for now:
%   All other operators, values and symbols return numeric results.

\end{sbmlenum} \subsection*{General identifier validation}  \begin{sbmlenum}

\sbmlrule{10301}
\sbmlrule{10302}
\sbmlrule{10303}
\sbmlrule{10304}
\sbmlrule{10305}
\sbmlrule{10306}
\sbmlrule{10307}
\sbmlrule{10308}
\sbmlrule{10309}
\sbmlrule{10310}
\sbmlrule{10311}

\end{sbmlenum} \subsection*{General \token{annotation} validation} \begin{sbmlenum}

\sbmlrule{10401}
\sbmlrule{10402}
\sbmlrule{10403}

\end{sbmlenum} \subsection*{General unit validation} \begin{sbmlenum}

\sbmlrule{10501}
\sbmlrule{10511}
\sbmlrule{10512}
\sbmlrule{10513}
\sbmlrule{10521}
\sbmlrule{10522}
\sbmlrule{10523}
\sbmlrule{10531}
\sbmlrule{10532}
\sbmlrule{10533}
\sbmlrule{10541}
\sbmlrule{10551}
\sbmlrule{10561}
\sbmlrule{10562}
\sbmlrule{10563}

\end{sbmlenum} \subsection*{General model validation} \begin{sbmlenum}

\sbmlrule{10601}

\end{sbmlenum} \subsection*{General SBO validation} \begin{sbmlenum}

\sbmlrule{10701}
\sbmlrule{10702}
\sbmlrule{10703}
\sbmlrule{10704}
\sbmlrule{10705}
\sbmlrule{10706}
\sbmlrule{10707}
\sbmlrule{10708}
\sbmlrule{10709}
\sbmlrule{10710}
\sbmlrule{10711}
\sbmlrule{10712}
\sbmlrule{10713}
\sbmlrule{10714}
\sbmlrule{10715}
\sbmlrule{10716}
\sbmlrule{10717}

\end{sbmlenum} \subsection*{General \token{notes} validation} \begin{sbmlenum}

\sbmlrule{10801}
\sbmlrule{10802}
\sbmlrule{10803}
\sbmlrule{10804}

\end{sbmlenum} \subsection*{SBML container validation} \begin{sbmlenum}

\sbmlrule{20101}
\sbmlrule{20102}
\sbmlrule{20103}

\end{sbmlenum} \subsection*{\class{Model} validation} \begin{sbmlenum}

\sbmlrule{20201}
\sbmlrule{20202}
\sbmlrule{20203}
\sbmlrule{20204}

\end{sbmlenum} \subsection*{\class{FunctionDefinition} validation} \begin{sbmlenum}

\sbmlrule{20301}
\sbmlrule{20302}
\sbmlrule{20303}
\sbmlrule{20304}
\sbmlrule{20305}

\end{sbmlenum} \subsection*{\class{Unit} and \class{UnitDefinition} validation} \begin{sbmlenum}

\sbmlrule{20401}
\sbmlrule{20402}
\sbmlrule{20403}
\sbmlrule{20404}
\sbmlrule{20405}
\sbmlrule{20406}
\sbmlrule{20407}
\sbmlrule{20408}
\sbmlrule{20409}
\sbmlrule{20410}
\sbmlrule{20411}
\sbmlrule{20412}

\end{sbmlenum} \subsection*{\class{Compartment} validation} \begin{sbmlenum}

\sbmlrule{20501}
\sbmlrule{20502}
\sbmlrule{20503}
\sbmlrule{20504}
\sbmlrule{20505}
\sbmlrule{20506}
\sbmlrule{20507}
\sbmlrule{20508}
\sbmlrule{20509}
\sbmlrule{20510}

\end{sbmlenum} \subsection*{\class{Species} validation} \begin{sbmlenum}

\sbmlrule{20601}
\sbmlrule{20602}
\sbmlrule{20603}
\sbmlrule{20604}
\sbmlrule{20605}
\sbmlrule{20606}
\sbmlrule{20607}
\sbmlrule{20608}
\sbmlrule{20609}
\sbmlrule{20610}
\sbmlrule{20611}
\sbmlrule{20612}
\sbmlrule{20613}
\sbmlrule{20614}

\end{sbmlenum} \subsection*{\class{Parameter} validation} \begin{sbmlenum}

\sbmlrule{20701}

\end{sbmlenum} \subsection*{\class{InitialAssignment} validation} \begin{sbmlenum}

\sbmlrule{20801}
\sbmlrule{20802}
\sbmlrule{20803}

\end{sbmlenum} \subsection*{\class{AssignmentRule} and \class{RateRule} validation} \begin{sbmlenum}

\sbmlrule{20901}
\sbmlrule{20902}
\sbmlrule{20903}
\sbmlrule{20904}
\sbmlrule{20905}
\sbmlrule{20906}

\end{sbmlenum} \subsection*{\class{Constraint} validation} \begin{sbmlenum}

\sbmlrule{21001}
\sbmlrule{21002}
\sbmlrule{21003}
\sbmlrule{21004}
\sbmlrule{21005}
\sbmlrule{21006}

\end{sbmlenum} \subsection*{\class{Reaction} validation} \begin{sbmlenum}

\sbmlrule{21101}
\sbmlrule{21102}
\sbmlrule{21103}
\sbmlrule{21104}
\sbmlrule{21105}

\end{sbmlenum} \subsection*{\class{SpeciesReference} and \class{ModifierSpeciesReference} validation} \begin{sbmlenum}

\sbmlrule{21111}
\sbmlrule{21112}
\sbmlrule{21113}

\end{sbmlenum} \subsection*{\class{KineticLaw} validation} \begin{sbmlenum}

\sbmlrule{21121}
\sbmlrule{21122}
\sbmlrule{21123}
\sbmlrule{21124}
\sbmlrule{21125}
\sbmlrule{21126}

\end{sbmlenum} \subsection*{\class{StoichiometryMath} validation} \begin{sbmlenum}

\sbmlrule{21131}

\end{sbmlenum} \subsection*{\class{Event} validation} \begin{sbmlenum}

\sbmlrule{21201}
\sbmlrule{21202}
\sbmlrule{21203}
\sbmlrule{21204}
\sbmlrule{21205}

\end{sbmlenum} \subsection*{\class{EventAssignment} validation} \begin{sbmlenum}

\sbmlrule{21211}
\sbmlrule{21212}

\end{sbmlenum}
